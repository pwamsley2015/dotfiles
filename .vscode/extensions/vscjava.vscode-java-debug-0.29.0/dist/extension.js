module.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=54)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(37),i=n(37);t.makePatchingRequire=i.makePatchingRequire;var o=function(e){return!0},s=function(){function e(){this.version=n(62).version,this.subscribers={},this.contextPreservationFunction=function(e){return e},this.knownPatches={},this.currentlyPublishing=!1}return e.prototype.shouldPublish=function(e){var t=this.subscribers[e];return!!t&&t.some((function(e){var t=e.filter;return!t||t(!1)}))},e.prototype.publish=function(e,t){if(!this.currentlyPublishing){var n=this.subscribers[e];if(n){var r={timestamp:Date.now(),data:t};this.currentlyPublishing=!0,n.forEach((function(e){var t=e.listener,n=e.filter;try{n&&n(!0)&&t(r)}catch(e){}})),this.currentlyPublishing=!1}}},e.prototype.subscribe=function(e,t,n){void 0===n&&(n=o),this.subscribers[e]||(this.subscribers[e]=[]),this.subscribers[e].push({listener:t,filter:n})},e.prototype.unsubscribe=function(e,t,n){void 0===n&&(n=o);var r=this.subscribers[e];if(r)for(var i=0;i<r.length;++i)if(r[i].listener===t&&r[i].filter===n)return r.splice(i,1),!0;return!1},e.prototype.reset=function(){var e=this;this.subscribers={},this.contextPreservationFunction=function(e){return e},Object.getOwnPropertyNames(this.knownPatches).forEach((function(t){return delete e.knownPatches[t]}))},e.prototype.bindToContext=function(e){return this.contextPreservationFunction(e)},e.prototype.addContextPreservation=function(e){var t=this.contextPreservationFunction;this.contextPreservationFunction=function(n){return e(t(n))}},e.prototype.registerMonkeyPatch=function(e,t){this.knownPatches[e]||(this.knownPatches[e]=[]),this.knownPatches[e].push(t)},e.prototype.getPatchesObject=function(){return this.knownPatches},e}();global.diagnosticsSource||(global.diagnosticsSource=new s,n(38).prototype.require=r.makePatchingRequire(global.diagnosticsSource.getPatchesObject()));t.channel=global.diagnosticsSource},function(e,t){e.exports=require("vscode")},function(e,t,n){"use strict";var r=function(){function e(){}return e.info=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.enableDebug&&console.info(e.TAG+t,n)},e.warn=function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];e.disableWarnings||console.warn(e.TAG+t,n)},e.enableDebug=!1,e.disableWarnings=!1,e.disableErrors=!1,e.TAG="ApplicationInsights:",e}();e.exports=r},function(e,t){e.exports=require("path")},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(97)),r(n(44)),r(n(112))},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(18),o=n(21),s=n(16),a=n(117),c=n(2),u=n(17),l=function(){function e(){}return e.getCookie=function(t,n){var r="";if(t&&t.length&&"string"==typeof n)for(var i=t+"=",o=n.split(";"),s=0;s<o.length;s++){n=o[s];if((n=e.trim(n))&&0===n.indexOf(i)){r=n.substring(i.length,o[s].length);break}}return r},e.trim=function(e){return"string"==typeof e?e.replace(/^\s+|\s+$/g,""):""},e.int32ArrayToBase64=function(e){var t=function(e,t){return String.fromCharCode(e>>t&255)},n=e.map((function(e){return t(e,24)+t(e,16)+t(e,8)+t(e,0)})).join(""),r=(Buffer.from?Buffer.from(n,"binary"):new Buffer(n,"binary")).toString("base64");return r.substr(0,r.indexOf("="))},e.random32=function(){return 4294967296*Math.random()|0},e.randomu32=function(){return e.random32()+2147483648},e.w3cTraceId=function(){for(var t,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],r="",i=0;i<4;i++)r+=n[15&(t=e.random32())]+n[t>>4&15]+n[t>>8&15]+n[t>>12&15]+n[t>>16&15]+n[t>>20&15]+n[t>>24&15]+n[t>>28&15];var o=n[8+4*Math.random()|0];return r.substr(0,8)+r.substr(9,4)+"4"+r.substr(13,3)+o+r.substr(16,3)+r.substr(19,12)},e.isValidW3CId=function(e){return 32===e.length&&"00000000000000000000000000000000"!==e},e.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},e.isError=function(e){return e instanceof Error},e.isPrimitive=function(e){var t=typeof e;return"string"===t||"number"===t||"boolean"===t},e.isDate=function(e){return"[object Date]"===Object.prototype.toString.call(e)},e.msToTimeSpan=function(e){(isNaN(e)||e<0)&&(e=0);var t=(e/1e3%60).toFixed(7).replace(/0{0,4}$/,""),n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5);return t=t.indexOf(".")<2?"0"+t:t,n=n.length<2?"0"+n:n,(i>0?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t},e.extractError=function(e){var t=e;return{message:e.message,code:t.code||t.id||""}},e.extractObject=function(t){return t instanceof Error?e.extractError(t):"function"==typeof t.toJSON?t.toJSON():t},e.validateStringMap=function(t){if("object"==typeof t){var n={};for(var r in t){var i="",o=t[r],s=typeof o;if(e.isPrimitive(o))i=o.toString();else if(null===o||"undefined"===s)i="";else{if("function"===s){c.info("key: "+r+" was function; will not serialize");continue}var a=e.isArray(o)?o:e.extractObject(o);try{i=e.isPrimitive(a)?a:JSON.stringify(a)}catch(e){i=o.constructor.name.toString()+" (Error: "+e.message+")",c.info("key: "+r+", could not be serialized")}}n[r]=i.substring(0,e.MAX_PROPERTY_LENGTH)}return n}c.info("Invalid properties dropped from payload")},e.canIncludeCorrelationHeader=function(e,t){var n=e&&e.config&&e.config.correlationHeaderExcludedDomains;if(!n||0==n.length||!t)return!0;for(var r=0;r<n.length;r++){if(new RegExp(n[r].replace(/\./g,".").replace(/\*/g,".*")).test(s.parse(t).hostname))return!1}return!0},e.getCorrelationContextTarget=function(e,t){var n=e.headers&&e.headers[u.requestContextHeader];if(n)for(var r=n.split(","),i=0;i<r.length;++i){var o=r[i].split("=");if(2==o.length&&o[0]==t)return o[1]}},e.makeRequest=function(t,n,a,u){n&&0===n.indexOf("//")&&(n="https:"+n);var l=s.parse(n),p=r({},a,{host:l.hostname,port:l.port,path:l.pathname}),f=void 0;if("https:"===l.protocol&&(f=t.proxyHttpsUrl||void 0),"http:"===l.protocol&&(f=t.proxyHttpUrl||void 0),f){0===f.indexOf("//")&&(f="http:"+f);var d=s.parse(f);"https:"===d.protocol?(c.info("Proxies that use HTTPS are not supported"),f=void 0):p=r({},p,{host:d.hostname,port:d.port||"80",path:n,headers:r({},p.headers,{Host:l.hostname})})}var h="https:"===l.protocol&&!f;return h&&void 0!==t.httpsAgent?p.agent=t.httpsAgent:h||void 0===t.httpAgent?h&&(p.agent=e.tlsRestrictedAgent):p.agent=t.httpAgent,h?o.request(p,u):i.request(p,u)},e.safeIncludeCorrelationHeader=function(t,n,r){var i;if("string"==typeof r)i=r;else if(r instanceof Array)i=r.join(",");else if(r&&"function"==typeof r.toString)try{i=r.toString()}catch(e){c.warn("Outgoing request-context header could not be read. Correlation of requests may be lost.",e,r)}i?e.addCorrelationIdHeaderFromString(t,n,i):n.setHeader(u.requestContextHeader,u.requestContextSourceKey+"="+t.config.correlationId)},e.addCorrelationIdHeaderFromString=function(e,t,n){var r=n.split(","),i=u.requestContextSourceKey+"=";r.some((function(e){return e.substring(0,i.length)===i}))||t.setHeader(u.requestContextHeader,n+","+u.requestContextSourceKey+"="+e.config.correlationId)},e.MAX_PROPERTY_LENGTH=8192,e.tlsRestrictedAgent=new o.Agent({secureOptions:a.SSL_OP_NO_SSLv2|a.SSL_OP_NO_SSLv3|a.SSL_OP_NO_TLSv1|a.SSL_OP_NO_TLSv1_1}),e}();e.exports=l},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(22);function o(e,t,n,r){return i.executeJavaLanguageServerCommand(i.JAVA_CHECK_PROJECT_SETTINGS,JSON.stringify({className:e,projectName:t,inheritedOptions:n,expectedOptions:r}))}!function(e){e[e.FAILED=0]="FAILED",e[e.SUCCEED=1]="SUCCEED",e[e.WITHERROR=2]="WITHERROR",e[e.CANCELLED=3]="CANCELLED"}(t.CompileWorkspaceStatus||(t.CompileWorkspaceStatus={})),t.resolveMainMethod=function(e,t){return r(this,void 0,void 0,(function*(){return t?yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINMETHOD,e.toString(),t):yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINMETHOD,e.toString())}))},t.startDebugSession=function(){return i.executeJavaLanguageServerCommand(i.JAVA_START_DEBUGSESSION)},t.resolveClasspath=function(e,t){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_CLASSPATH,e,t)},t.resolveMainClass=function(e){return e?i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINCLASS,e.toString()):i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_MAINCLASS)},t.validateLaunchConfig=function(e,t,n,r){return i.executeJavaLanguageServerCommand(i.JAVA_VALIDATE_LAUNCHCONFIG,e?e.toString():void 0,t,n,r)},t.inferLaunchCommandLength=function(e){return i.executeJavaLanguageServerCommand(i.JAVA_INFER_LAUNCH_COMMAND_LENGTH,JSON.stringify(e))},t.checkProjectSettings=o;t.detectPreviewFlag=function(e,t){return r(this,void 0,void 0,(function*(){return o(e,t,!0,{"org.eclipse.jdt.core.compiler.problem.enablePreviewFeatures":"enabled"})}))},t.resolveElementAtSelection=function(e,t,n){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_ELEMENT_AT_SELECTION,e,t,n)},t.resolveBuildFiles=function(){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_BUILD_FILES)},t.isOnClasspath=function(e){return r(this,void 0,void 0,(function*(){try{return yield i.executeJavaExtensionCommand(i.JAVA_IS_ON_CLASSPATH,e)}catch(e){return!0}}))},t.resolveJavaExecutable=function(e,t){return i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_JAVAEXECUTABLE,e,t)},t.fetchPlatformSettings=function(){return i.executeJavaLanguageServerCommand(i.JAVA_FETCH_PLATFORM_SETTINGS)},t.resolveClassFilters=function(e){return r(this,void 0,void 0,(function*(){return yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_CLASSFILTERS,...e)}))},t.resolveSourceUri=function(e){return r(this,void 0,void 0,(function*(){return yield i.executeJavaLanguageServerCommand(i.JAVA_RESOLVE_SOURCE_URI,e)}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),o=n(56),s=n(1),a=n(36),c=n(138);let u,l=!1;const p={},f=[c.EventName.ERROR,c.EventName.OPERATION_END,c.EventName.OPERATION_STEP],d=["message","stack"];function h(e,t,n,r){if(u)throw new Error("TelemetryReporter already initialized.");if(n){const i=r&&r.firstParty;u=n instanceof Array?n.map(n=>new a.default(e,t,n,i)):[new a.default(e,t,n,i)]}l=!(!r||!r.debug)}function v(e,t,n){return(...i)=>r(this,void 0,void 0,(function*(){let r;const o=b(),s=Date.now();try{return y(o,e),yield t.apply(n,[o,...i])}catch(t){r=t,_(o,e,t)}finally{const t=Date.now()-s;m(o,e,t,r)}}))}function g(e,t,n){return v(e,(e,...i)=>r(this,void 0,void 0,(function*(){return yield t.apply(n,i)})),n)}function y(e,t){C({eventName:c.EventName.OPERATION_START,operationId:e,operationName:t})}function m(e,t,n,r){C(Object.assign({eventName:c.EventName.OPERATION_END,operationId:e,operationName:t,duration:n},E(r)))}function _(e,t,n){C(Object.assign({eventName:c.EventName.ERROR,operationId:e,operationName:t},E(n)))}function b(){return o()}function E(e){if(!e)return{errorCode:c.ErrorCodes.NO_ERROR};const t=e;return{errorCode:t.errorCode||c.ErrorCodes.GENERAL_ERROR,errorType:t.isUserError?c.ErrorType.USER_ERROR:c.ErrorType.SYSTEM_ERROR,message:e.message,stack:e.stack}}function C(e){if(!u)return;const t={};for(const n of c.DimensionEntries){const r=e[n];void 0!==r&&(t[n]=String(r))}const n={};for(const t of c.MeasurementEntries){const r=e[t];void 0!==r&&(n[t]=r)}w(e.eventName,t,n)}function w(e,t,n){e in f?u.forEach(r=>{r.sendTelemetryErrorEvent(e,t,n,d)}):u.forEach(r=>{r.sendTelemetryEvent(e,t,n)}),l&&console.log(e,{eventName:e,dimensions:t,measurements:n})}t.initializeFromJsonFile=function(e,t){return r(this,void 0,void 0,(function*(){return new Promise((n,r)=>{i.exists(e,o=>{if(o){const{publisher:r,name:o,version:s,aiKey:a}=JSON.parse(i.readFileSync(e,"utf-8"));return h(`${r}.${o}`,s,a,t),n()}return r(new Error(`The Json file '${e}' does not exist.`))})})}))},t.initialize=h,t.setUserError=function(e){e.isUserError=!0},t.setErrorCode=function(e,t){e.errorCode=t},t.instrumentOperation=v,t.instrumentSimpleOperation=g,t.instrumentOperationAsVsCodeCommand=function(e,t,n){return s.commands.registerCommand(e,g(e,t,n))},t.sendOperationStart=y,t.sendOperationEnd=m,t.sendError=function(e){C(Object.assign({eventName:c.EventName.ERROR},E(e)))},t.sendOperationError=_,t.sendInfo=function(e,t,n){let r,i;if(n)r=t,i=n;else{r=Object.assign({},p),i={};for(const e in t)"string"==typeof t[e]?r[e]=t[e]:"number"==typeof t[e]&&(i[e]=t[e])}w(c.EventName.INFO,Object.assign(Object.assign({},r),{operationId:e}),i)},t.instrumentOperationStep=function(e,t,n){return(...i)=>r(this,void 0,void 0,(function*(){let r;const o=Date.now();try{return yield n(...i)}catch(e){throw r=e,e}finally{C(Object.assign({eventName:c.EventName.OPERATION_STEP,operationId:e,stepName:t,duration:Date.now()-o},E(r)))}}))},t.createUuid=b,t.dispose=function(){return r(this,void 0,void 0,(function*(){if(u)return yield Promise.all(u.map(e=>e.dispose()))}))},t.addContextProperty=function(e,t){p[e]=t}},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(1),s=n(7),a=n(23),c="https://github.com/Microsoft/vscode-java-debug/blob/master/Troubleshooting.md";class u extends Error{constructor(e){super(e.message),this.context=e,s.setUserError(this)}}t.UserError=u;class l extends Error{constructor(e){super(e),s.setUserError(this)}}function p(e){if(e.type){if(e.type===a.Type.EXCEPTION||e.type===a.Type.USAGEERROR){const t={name:"error",message:e.message,stack:e.stack};e.type===a.Type.USAGEERROR&&s.setUserError(t),s.sendError(t)}else s.sendInfo(null,{message:e.message});a.logger.log(e.type,{message:e.message,stack:e.stack})}}function f(e,...t){return r(this,void 0,void 0,(function*(){return p(e),o.window.showInformationMessage(e.message,...t)}))}function d(e,...t){return r(this,void 0,void 0,(function*(){return p(e),o.window.showWarningMessage(e.message,...t)}))}function h(e,...t){return r(this,void 0,void 0,(function*(){return p(e),o.window.showErrorMessage(e.message,...t)}))}function v(e,t,n){if("Learn More"!==e)return e;g(t,n)}function g(e,t){o.commands.executeCommand("vscode.open",o.Uri.parse(t?`${c}#${t}`:c)),s.sendInfo(null,{troubleshooting:"yes",troubleshootingMessage:e}),a.logger.log(a.Type.USAGEDATA,{troubleshooting:"yes",troubleshootingMessage:e})}function y(){const e=o.extensions.getExtension("redhat.java");if(!e)throw new l("VS Code Java Extension is not enabled.");return e.activate()}var m;t.JavaExtensionNotEnabledError=l,t.showInformationMessage=f,t.showWarningMessage=d,t.showErrorMessage=h,t.showInformationMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){return v(yield f(e,...t,"Learn More"),e.message,e.anchor)}))},t.showWarningMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){return v(yield d(e,...t,"Learn More"),e.message,e.anchor)}))},t.showErrorMessageWithTroubleshooting=function(e,...t){return r(this,void 0,void 0,(function*(){return v(yield h(e,...t,"Learn More"),e.message,e.anchor)}))},t.openTroubleshootingPage=g,t.guideToInstallJavaExtension=function(){return r(this,void 0,void 0,(function*(){"Install"===(yield o.window.showWarningMessage("Language Support for Java is required. Please install and enable it.","Install"))&&(yield function(){return r(this,void 0,void 0,(function*(){yield o.window.withProgress({location:o.ProgressLocation.Notification},e=>r(this,void 0,void 0,(function*(){e.report({message:"Installing Language Support for Java ..."}),yield o.commands.executeCommand("workbench.extensions.installExtension","redhat.java")})));"Reload Window"===(yield o.window.showInformationMessage("Please reload window to activate Language Support for Java.","Reload Window"))&&(yield o.commands.executeCommand("workbench.action.reloadWindow"))}))}())}))},t.convertErrorToMessage=function(e){const t=function(e){const t=e&&e.data&&e.data.cause||{stackTrace:e&&e.stack,detailMessage:String(e&&e.message||e||"Unknown exception")},n={message:"",stackTrace:""};t&&"object"==typeof t?(n.message=t.detailMessage,n.stackTrace=Array.isArray(t.stackTrace)&&JSON.stringify(t.stackTrace)||String(t.stackTrace)):n.message=String(t);return n}(e);return{type:a.Type.EXCEPTION,message:t.message,stack:t.stackTrace}},t.getJavaHome=function(){return r(this,void 0,void 0,(function*(){const e=yield y();return e&&e.javaRequirement?e.javaRequirement.java_home:""}))},t.getJavaExtensionAPI=y,t.getJavaExtension=function(){return o.extensions.getExtension("redhat.java")},t.isJavaExtEnabled=function(){return!!o.extensions.getExtension("redhat.java")},t.isJavaExtActivated=function(){const e=o.extensions.getExtension("redhat.java");return e&&e.isActive},t.getLauncherScriptPath=function(){const e=o.extensions.getExtension("vscjava.vscode-java-debug");return i.join(e.extensionPath,"scripts","launcher.bat")},function(e){e.STANDARD="Standard",e.LIGHTWEIGHT="LightWeight",e.HYBRID="Hybrid"}(m=t.ServerMode||(t.ServerMode={})),t.waitForStandardMode=function(){return r(this,void 0,void 0,(function*(){const e=yield y();if(e&&e.serverMode===m.LIGHTWEIGHT){return"Yes"===(yield o.window.showInformationMessage("Run/Debug feature requires Java language server to run in Standard mode. Do you want to switch it to Standard mode now?","Yes","Cancel"))&&o.window.withProgress({location:o.ProgressLocation.Window},t=>r(this,void 0,void 0,(function*(){return e.serverMode===m.STANDARD||(t.report({message:"Switching to Standard mode..."}),new Promise(t=>{e.onDidServerModeChange(e=>{e===m.STANDARD&&t(!0)}),o.commands.executeCommand("java.server.mode.switch",m.STANDARD,!0)}))})))}return!e||e.serverMode!==m.HYBRID||new Promise(t=>{e.onDidServerModeChange(e=>{e===m.STANDARD&&t(!0)})})}))}},function(e,t){e.exports=require("fs")},function(e,t){e.exports=require("os")},function(e,t,n){"use strict";var r=n(5),i=n(2),o=function(){function e(){}return e.queryCorrelationId=function(t,n){var o=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId";if(e.completedLookups.hasOwnProperty(o))n(e.completedLookups[o]);else if(e.pendingLookups[o])e.pendingLookups[o].push(n);else{e.pendingLookups[o]=[n];var s=function(){if(e.pendingLookups[o]){var n={method:"GET",disableAppInsightsAutoCollection:!0};i.info(e.TAG,n);var a=r.makeRequest(t,o,n,(function(n){if(200===n.statusCode){var r="";n.setEncoding("utf-8"),n.on("data",(function(e){r+=e})),n.on("end",(function(){i.info(e.TAG,r);var t=e.correlationIdPrefix+r;e.completedLookups[o]=t,e.pendingLookups[o]&&e.pendingLookups[o].forEach((function(e){return e(t)})),delete e.pendingLookups[o]}))}else n.statusCode>=400&&n.statusCode<500?(e.completedLookups[o]=void 0,delete e.pendingLookups[o]):setTimeout(s,t.correlationIdRetryIntervalMs)}));a&&(a.on("error",(function(t){i.warn(e.TAG,t)})),a.end())}};setTimeout(s,0)}},e.cancelCorrelationIdQuery=function(t,n){var r=t.profileQueryEndpoint+"/api/profiles/"+t.instrumentationKey+"/appId",i=e.pendingLookups[r];i&&(e.pendingLookups[r]=i.filter((function(e){return e!=n})),0==e.pendingLookups[r].length&&delete e.pendingLookups[r])},e.generateRequestId=function(t){if(t){"."!==(t="|"==t[0]?t:"|"+t)[t.length-1]&&(t+=".");var n=(e.currentRootId++).toString(16);return e.appendSuffix(t,n,"_")}return e.generateRootId()},e.getRootId=function(e){var t=e.indexOf(".");t<0&&(t=e.length);var n="|"===e[0]?1:0;return e.substring(n,t)},e.generateRootId=function(){return"|"+r.w3cTraceId()+"."},e.appendSuffix=function(t,n,i){if(t.length+n.length<e.requestIdMaxLength)return t+n+i;var o=e.requestIdMaxLength-9;if(t.length>o)for(;o>1;--o){var s=t[o-1];if("."===s||"_"===s)break}if(o<=1)return e.generateRootId();for(n=r.randomu32().toString(16);n.length<8;)n="0"+n;return t.substring(0,o)+n+"#"},e.TAG="CorrelationIdManager",e.correlationIdPrefix="cid-v1:",e.w3cEnabled=!1,e.pendingLookups={},e.completedLookups={},e.requestIdMaxLength=1024,e.currentRootId=r.randomu32(),e}();e.exports=o},function(e,t,n){(function(e){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var i="Expected a function",o="__lodash_placeholder__",s=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],a="[object Arguments]",c="[object Array]",u="[object Boolean]",l="[object Date]",p="[object Error]",f="[object Function]",d="[object GeneratorFunction]",h="[object Map]",v="[object Number]",g="[object Object]",y="[object RegExp]",m="[object Set]",_="[object String]",b="[object Symbol]",E="[object WeakMap]",C="[object ArrayBuffer]",w="[object DataView]",T="[object Float32Array]",I="[object Float64Array]",x="[object Int8Array]",A="[object Int16Array]",S="[object Int32Array]",O="[object Uint8Array]",k="[object Uint16Array]",P="[object Uint32Array]",R=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,D=/(__e\(.*?\)|\b__t\)) \+\n'';/g,j=/&(?:amp|lt|gt|quot|#39);/g,L=/[&<>"']/g,M=RegExp(j.source),q=RegExp(L.source),U=/<%-([\s\S]+?)%>/g,H=/<%([\s\S]+?)%>/g,F=/<%=([\s\S]+?)%>/g,V=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,$=/^\w*$/,B=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,J=/[\\^$.*+?()[\]{}|]/g,z=RegExp(J.source),G=/^\s+|\s+$/g,W=/^\s+/,Q=/\s+$/,K=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Y=/\{\n\/\* \[wrapped with (.+)\] \*/,X=/,? & /,Z=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/\\(\\)?/g,te=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ne=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,ie=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,se=/^0o[0-7]+$/i,ae=/^(?:0|[1-9]\d*)$/,ce=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,le=/['\n\r\u2028\u2029\\]/g,pe="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",de="[\\ud800-\\udfff]",he="["+fe+"]",ve="["+pe+"]",ge="\\d+",ye="[\\u2700-\\u27bf]",me="[a-z\\xdf-\\xf6\\xf8-\\xff]",_e="[^\\ud800-\\udfff"+fe+ge+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",be="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Ce="(?:\\ud83c[\\udde6-\\uddff]){2}",we="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="[A-Z\\xc0-\\xd6\\xd8-\\xde]",Ie="(?:"+me+"|"+_e+")",xe="(?:"+Te+"|"+_e+")",Ae="(?:"+ve+"|"+be+")"+"?",Se="[\\ufe0e\\ufe0f]?"+Ae+("(?:\\u200d(?:"+[Ee,Ce,we].join("|")+")[\\ufe0e\\ufe0f]?"+Ae+")*"),Oe="(?:"+[ye,Ce,we].join("|")+")"+Se,ke="(?:"+[Ee+ve+"?",ve,Ce,we,de].join("|")+")",Pe=RegExp("['’]","g"),Re=RegExp(ve,"g"),Ne=RegExp(be+"(?="+be+")|"+ke+Se,"g"),De=RegExp([Te+"?"+me+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[he,Te,"$"].join("|")+")",xe+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[he,Te+Ie,"$"].join("|")+")",Te+"?"+Ie+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Te+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ge,Oe].join("|"),"g"),je=RegExp("[\\u200d\\ud800-\\udfff"+pe+"\\ufe0e\\ufe0f]"),Le=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Me=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],qe=-1,Ue={};Ue[T]=Ue[I]=Ue[x]=Ue[A]=Ue[S]=Ue[O]=Ue["[object Uint8ClampedArray]"]=Ue[k]=Ue[P]=!0,Ue[a]=Ue[c]=Ue[C]=Ue[u]=Ue[w]=Ue[l]=Ue[p]=Ue[f]=Ue[h]=Ue[v]=Ue[g]=Ue[y]=Ue[m]=Ue[_]=Ue[E]=!1;var He={};He[a]=He[c]=He[C]=He[w]=He[u]=He[l]=He[T]=He[I]=He[x]=He[A]=He[S]=He[h]=He[v]=He[g]=He[y]=He[m]=He[_]=He[b]=He[O]=He["[object Uint8ClampedArray]"]=He[k]=He[P]=!0,He[p]=He[f]=He[E]=!1;var Fe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Ve=parseFloat,$e=parseInt,Be="object"==typeof global&&global&&global.Object===Object&&global,Je="object"==typeof self&&self&&self.Object===Object&&self,ze=Be||Je||Function("return this")(),Ge=t&&!t.nodeType&&t,We=Ge&&"object"==typeof e&&e&&!e.nodeType&&e,Qe=We&&We.exports===Ge,Ke=Qe&&Be.process,Ye=function(){try{var e=We&&We.require&&We.require("util").types;return e||Ke&&Ke.binding&&Ke.binding("util")}catch(e){}}(),Xe=Ye&&Ye.isArrayBuffer,Ze=Ye&&Ye.isDate,et=Ye&&Ye.isMap,tt=Ye&&Ye.isRegExp,nt=Ye&&Ye.isSet,rt=Ye&&Ye.isTypedArray;function it(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var s=e[i];t(r,s,n(s),e)}return r}function st(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}function lt(e,t){return!!(null==e?0:e.length)&&bt(e,t,0)>-1}function pt(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function ft(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function dt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ht(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function vt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function gt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var yt=Tt("length");function mt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function _t(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function bt(e,t,n){return t==t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):_t(e,Ct,n)}function Et(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Ct(e){return e!=e}function wt(e,t){var n=null==e?0:e.length;return n?At(e,t)/n:NaN}function Tt(e){return function(t){return null==t?void 0:t[e]}}function It(e){return function(t){return null==e?void 0:e[t]}}function xt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function At(e,t){for(var n,r=-1,i=e.length;++r<i;){var o=t(e[r]);void 0!==o&&(n=void 0===n?o:n+o)}return n}function St(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Ot(e){return function(t){return e(t)}}function kt(e,t){return ft(t,(function(t){return e[t]}))}function Pt(e,t){return e.has(t)}function Rt(e,t){for(var n=-1,r=e.length;++n<r&&bt(t,e[n],0)>-1;);return n}function Nt(e,t){for(var n=e.length;n--&&bt(t,e[n],0)>-1;);return n}function Dt(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var jt=It({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Lt=It({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Mt(e){return"\\"+Fe[e]}function qt(e){return je.test(e)}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function Ht(e,t){return function(n){return e(t(n))}}function Ft(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[i++]=n)}return s}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Bt(e){return qt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Jt(e){return qt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}var zt=It({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Gt=function e(t){var n,r=(t=null==t?ze:Gt.defaults(ze.Object(),t,Gt.pick(ze,Me))).Array,pe=t.Date,fe=t.Error,de=t.Function,he=t.Math,ve=t.Object,ge=t.RegExp,ye=t.String,me=t.TypeError,_e=r.prototype,be=de.prototype,Ee=ve.prototype,Ce=t["__core-js_shared__"],we=be.toString,Te=Ee.hasOwnProperty,Ie=0,xe=(n=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",Ae=Ee.toString,Se=we.call(ve),Oe=ze._,ke=ge("^"+we.call(Te).replace(J,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ne=Qe?t.Buffer:void 0,je=t.Symbol,Fe=t.Uint8Array,Be=Ne?Ne.allocUnsafe:void 0,Je=Ht(ve.getPrototypeOf,ve),Ge=ve.create,We=Ee.propertyIsEnumerable,Ke=_e.splice,Ye=je?je.isConcatSpreadable:void 0,yt=je?je.iterator:void 0,It=je?je.toStringTag:void 0,Wt=function(){try{var e=Zi(ve,"defineProperty");return e({},"",{}),e}catch(e){}}(),Qt=t.clearTimeout!==ze.clearTimeout&&t.clearTimeout,Kt=pe&&pe.now!==ze.Date.now&&pe.now,Yt=t.setTimeout!==ze.setTimeout&&t.setTimeout,Xt=he.ceil,Zt=he.floor,en=ve.getOwnPropertySymbols,tn=Ne?Ne.isBuffer:void 0,nn=t.isFinite,rn=_e.join,on=Ht(ve.keys,ve),sn=he.max,an=he.min,cn=pe.now,un=t.parseInt,ln=he.random,pn=_e.reverse,fn=Zi(t,"DataView"),dn=Zi(t,"Map"),hn=Zi(t,"Promise"),vn=Zi(t,"Set"),gn=Zi(t,"WeakMap"),yn=Zi(ve,"create"),mn=gn&&new gn,_n={},bn=Ao(fn),En=Ao(dn),Cn=Ao(hn),wn=Ao(vn),Tn=Ao(gn),In=je?je.prototype:void 0,xn=In?In.valueOf:void 0,An=In?In.toString:void 0;function Sn(e){if(Bs(e)&&!Ns(e)&&!(e instanceof Rn)){if(e instanceof Pn)return e;if(Te.call(e,"__wrapped__"))return So(e)}return new Pn(e)}var On=function(){function e(){}return function(t){if(!$s(t))return{};if(Ge)return Ge(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function kn(){}function Pn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Rn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Dn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ln(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new jn;++t<n;)this.add(e[t])}function Mn(e){var t=this.__data__=new Dn(e);this.size=t.size}function qn(e,t){var n=Ns(e),r=!n&&Rs(e),i=!n&&!r&&Ms(e),o=!n&&!r&&!i&&Xs(e),s=n||r||i||o,a=s?St(e.length,ye):[],c=a.length;for(var u in e)!t&&!Te.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||so(u,c))||a.push(u);return a}function Un(e){var t=e.length;return t?e[Lr(0,t-1)]:void 0}function Hn(e,t){return To(yi(e),Qn(t,0,e.length))}function Fn(e){return To(yi(e))}function Vn(e,t,n){(void 0!==n&&!Os(e[t],n)||void 0===n&&!(t in e))&&Gn(e,t,n)}function $n(e,t,n){var r=e[t];Te.call(e,t)&&Os(r,n)&&(void 0!==n||t in e)||Gn(e,t,n)}function Bn(e,t){for(var n=e.length;n--;)if(Os(e[n][0],t))return n;return-1}function Jn(e,t,n,r){return er(e,(function(e,i,o){t(r,e,n(e),o)})),r}function zn(e,t){return e&&mi(t,ba(t),e)}function Gn(e,t,n){"__proto__"==t&&Wt?Wt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Wn(e,t){for(var n=-1,i=t.length,o=r(i),s=null==e;++n<i;)o[n]=s?void 0:va(e,t[n]);return o}function Qn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Kn(e,t,n,r,i,o){var s,c=1&t,p=2&t,E=4&t;if(n&&(s=i?n(e,r,i,o):n(e)),void 0!==s)return s;if(!$s(e))return e;var R=Ns(e);if(R){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Te.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!c)return yi(e,s)}else{var N=no(e),D=N==f||N==d;if(Ms(e))return pi(e,c);if(N==g||N==a||D&&!i){if(s=p||D?{}:io(e),!c)return p?function(e,t){return mi(e,to(e),t)}(e,function(e,t){return e&&mi(t,Ea(t),e)}(s,e)):function(e,t){return mi(e,eo(e),t)}(e,zn(s,e))}else{if(!He[N])return i?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case C:return fi(e);case u:case l:return new r(+e);case w:return function(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case T:case I:case x:case A:case S:case O:case"[object Uint8ClampedArray]":case k:case P:return di(e,n);case h:return new r;case v:case _:return new r(e);case y:return function(e){var t=new e.constructor(e.source,ne.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return new r;case b:return i=e,xn?ve(xn.call(i)):{}}var i}(e,N,c)}}o||(o=new Mn);var j=o.get(e);if(j)return j;o.set(e,s),Qs(e)?e.forEach((function(r){s.add(Kn(r,t,n,r,e,o))})):Js(e)&&e.forEach((function(r,i){s.set(i,Kn(r,t,n,i,e,o))}));var L=R?void 0:(E?p?zi:Ji:p?Ea:ba)(e);return st(L||e,(function(r,i){L&&(r=e[i=r]),$n(s,i,Kn(r,t,n,i,e,o))})),s}function Yn(e,t,n){var r=n.length;if(null==e)return!r;for(e=ve(e);r--;){var i=n[r],o=t[i],s=e[i];if(void 0===s&&!(i in e)||!o(s))return!1}return!0}function Xn(e,t,n){if("function"!=typeof e)throw new me(i);return bo((function(){e.apply(void 0,n)}),t)}function Zn(e,t,n,r){var i=-1,o=lt,s=!0,a=e.length,c=[],u=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),r?(o=pt,s=!1):t.length>=200&&(o=Pt,s=!1,t=new Ln(t));e:for(;++i<a;){var l=e[i],p=null==n?l:n(l);if(l=r||0!==l?l:0,s&&p==p){for(var f=u;f--;)if(t[f]===p)continue e;c.push(l)}else o(t,p,r)||c.push(l)}return c}Sn.templateSettings={escape:U,evaluate:H,interpolate:F,variable:"",imports:{_:Sn}},Sn.prototype=kn.prototype,Sn.prototype.constructor=Sn,Pn.prototype=On(kn.prototype),Pn.prototype.constructor=Pn,Rn.prototype=On(kn.prototype),Rn.prototype.constructor=Rn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Te.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Te.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Dn.prototype.clear=function(){this.__data__=[],this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=Bn(t,e);return!(n<0)&&(n==t.length-1?t.pop():Ke.call(t,n,1),--this.size,!0)},Dn.prototype.get=function(e){var t=this.__data__,n=Bn(t,e);return n<0?void 0:t[n][1]},Dn.prototype.has=function(e){return Bn(this.__data__,e)>-1},Dn.prototype.set=function(e,t){var n=this.__data__,r=Bn(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},jn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(dn||Dn),string:new Nn}},jn.prototype.delete=function(e){var t=Yi(this,e).delete(e);return this.size-=t?1:0,t},jn.prototype.get=function(e){return Yi(this,e).get(e)},jn.prototype.has=function(e){return Yi(this,e).has(e)},jn.prototype.set=function(e,t){var n=Yi(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Ln.prototype.add=Ln.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},Ln.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.clear=function(){this.__data__=new Dn,this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Mn.prototype.get=function(e){return this.__data__.get(e)},Mn.prototype.has=function(e){return this.__data__.has(e)},Mn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Dn){var r=n.__data__;if(!dn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new jn(r)}return n.set(e,t),this.size=n.size,this};var er=Ei(cr),tr=Ei(ur,!0);function nr(e,t){var n=!0;return er(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function rr(e,t,n){for(var r=-1,i=e.length;++r<i;){var o=e[r],s=t(o);if(null!=s&&(void 0===a?s==s&&!Ys(s):n(s,a)))var a=s,c=o}return c}function ir(e,t){var n=[];return er(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function or(e,t,n,r,i){var o=-1,s=e.length;for(n||(n=oo),i||(i=[]);++o<s;){var a=e[o];t>0&&n(a)?t>1?or(a,t-1,n,r,i):dt(i,a):r||(i[i.length]=a)}return i}var sr=Ci(),ar=Ci(!0);function cr(e,t){return e&&sr(e,t,ba)}function ur(e,t){return e&&ar(e,t,ba)}function lr(e,t){return ut(t,(function(t){return Hs(e[t])}))}function pr(e,t){for(var n=0,r=(t=ai(t,e)).length;null!=e&&n<r;)e=e[xo(t[n++])];return n&&n==r?e:void 0}function fr(e,t,n){var r=t(e);return Ns(e)?r:dt(r,n(e))}function dr(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":It&&It in ve(e)?function(e){var t=Te.call(e,It),n=e[It];try{e[It]=void 0;var r=!0}catch(e){}var i=Ae.call(e);r&&(t?e[It]=n:delete e[It]);return i}(e):function(e){return Ae.call(e)}(e)}function hr(e,t){return e>t}function vr(e,t){return null!=e&&Te.call(e,t)}function gr(e,t){return null!=e&&t in ve(e)}function yr(e,t,n){for(var i=n?pt:lt,o=e[0].length,s=e.length,a=s,c=r(s),u=1/0,l=[];a--;){var p=e[a];a&&t&&(p=ft(p,Ot(t))),u=an(p.length,u),c[a]=!n&&(t||o>=120&&p.length>=120)?new Ln(a&&p):void 0}p=e[0];var f=-1,d=c[0];e:for(;++f<o&&l.length<u;){var h=p[f],v=t?t(h):h;if(h=n||0!==h?h:0,!(d?Pt(d,v):i(l,v,n))){for(a=s;--a;){var g=c[a];if(!(g?Pt(g,v):i(e[a],v,n)))continue e}d&&d.push(v),l.push(h)}}return l}function mr(e,t,n){var r=null==(e=go(e,t=ai(t,e)))?e:e[xo(Uo(t))];return null==r?void 0:it(r,e,n)}function _r(e){return Bs(e)&&dr(e)==a}function br(e,t,n,r,i){return e===t||(null==e||null==t||!Bs(e)&&!Bs(t)?e!=e&&t!=t:function(e,t,n,r,i,o){var s=Ns(e),f=Ns(t),d=s?c:no(e),E=f?c:no(t),T=(d=d==a?g:d)==g,I=(E=E==a?g:E)==g,x=d==E;if(x&&Ms(e)){if(!Ms(t))return!1;s=!0,T=!1}if(x&&!T)return o||(o=new Mn),s||Xs(e)?$i(e,t,n,r,i,o):function(e,t,n,r,i,o,s){switch(n){case w:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!o(new Fe(e),new Fe(t)));case u:case l:case v:return Os(+e,+t);case p:return e.name==t.name&&e.message==t.message;case y:case _:return e==t+"";case h:var a=Ut;case m:var c=1&r;if(a||(a=Vt),e.size!=t.size&&!c)return!1;var f=s.get(e);if(f)return f==t;r|=2,s.set(e,t);var d=$i(a(e),a(t),r,i,o,s);return s.delete(e),d;case b:if(xn)return xn.call(e)==xn.call(t)}return!1}(e,t,d,n,r,i,o);if(!(1&n)){var A=T&&Te.call(e,"__wrapped__"),S=I&&Te.call(t,"__wrapped__");if(A||S){var O=A?e.value():e,k=S?t.value():t;return o||(o=new Mn),i(O,k,n,r,o)}}if(!x)return!1;return o||(o=new Mn),function(e,t,n,r,i,o){var s=1&n,a=Ji(e),c=a.length,u=Ji(t).length;if(c!=u&&!s)return!1;var l=c;for(;l--;){var p=a[l];if(!(s?p in t:Te.call(t,p)))return!1}var f=o.get(e),d=o.get(t);if(f&&d)return f==t&&d==e;var h=!0;o.set(e,t),o.set(t,e);var v=s;for(;++l<c;){p=a[l];var g=e[p],y=t[p];if(r)var m=s?r(y,g,p,t,e,o):r(g,y,p,e,t,o);if(!(void 0===m?g===y||i(g,y,n,r,o):m)){h=!1;break}v||(v="constructor"==p)}if(h&&!v){var _=e.constructor,b=t.constructor;_==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof _&&_ instanceof _&&"function"==typeof b&&b instanceof b||(h=!1)}return o.delete(e),o.delete(t),h}(e,t,n,r,i,o)}(e,t,n,r,br,i))}function Er(e,t,n,r){var i=n.length,o=i,s=!r;if(null==e)return!o;for(e=ve(e);i--;){var a=n[i];if(s&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<o;){var c=(a=n[i])[0],u=e[c],l=a[1];if(s&&a[2]){if(void 0===u&&!(c in e))return!1}else{var p=new Mn;if(r)var f=r(u,l,c,e,t,p);if(!(void 0===f?br(l,u,3,r,p):f))return!1}}return!0}function Cr(e){return!(!$s(e)||(t=e,xe&&xe in t))&&(Hs(e)?ke:oe).test(Ao(e));var t}function wr(e){return"function"==typeof e?e:null==e?za:"object"==typeof e?Ns(e)?Or(e[0],e[1]):Sr(e):tc(e)}function Tr(e){if(!po(e))return on(e);var t=[];for(var n in ve(e))Te.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Ir(e){if(!$s(e))return function(e){var t=[];if(null!=e)for(var n in ve(e))t.push(n);return t}(e);var t=po(e),n=[];for(var r in e)("constructor"!=r||!t&&Te.call(e,r))&&n.push(r);return n}function xr(e,t){return e<t}function Ar(e,t){var n=-1,i=js(e)?r(e.length):[];return er(e,(function(e,r,o){i[++n]=t(e,r,o)})),i}function Sr(e){var t=Xi(e);return 1==t.length&&t[0][2]?ho(t[0][0],t[0][1]):function(n){return n===e||Er(n,e,t)}}function Or(e,t){return co(e)&&fo(t)?ho(xo(e),t):function(n){var r=va(n,e);return void 0===r&&r===t?ga(n,e):br(t,r,3)}}function kr(e,t,n,r,i){e!==t&&sr(t,(function(o,s){if(i||(i=new Mn),$s(o))!function(e,t,n,r,i,o,s){var a=mo(e,n),c=mo(t,n),u=s.get(c);if(u)return void Vn(e,n,u);var l=o?o(a,c,n+"",e,t,s):void 0,p=void 0===l;if(p){var f=Ns(c),d=!f&&Ms(c),h=!f&&!d&&Xs(c);l=c,f||d||h?Ns(a)?l=a:Ls(a)?l=yi(a):d?(p=!1,l=pi(c,!0)):h?(p=!1,l=di(c,!0)):l=[]:Gs(c)||Rs(c)?(l=a,Rs(a)?l=sa(a):$s(a)&&!Hs(a)||(l=io(c))):p=!1}p&&(s.set(c,l),i(l,c,r,o,s),s.delete(c));Vn(e,n,l)}(e,t,s,n,kr,r,i);else{var a=r?r(mo(e,s),o,s+"",e,t,i):void 0;void 0===a&&(a=o),Vn(e,s,a)}}),Ea)}function Pr(e,t){var n=e.length;if(n)return so(t+=t<0?n:0,n)?e[t]:void 0}function Rr(e,t,n){t=t.length?ft(t,(function(e){return Ns(e)?function(t){return pr(t,1===e.length?e[0]:e)}:e})):[za];var r=-1;return t=ft(t,Ot(Ki())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ar(e,(function(e,n,i){return{criteria:ft(t,(function(t){return t(e)})),index:++r,value:e}})),(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,s=i.length,a=n.length;for(;++r<s;){var c=hi(i[r],o[r]);if(c){if(r>=a)return c;var u=n[r];return c*("desc"==u?-1:1)}}return e.index-t.index}(e,t,n)}))}function Nr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var s=t[r],a=pr(e,s);n(a,s)&&Fr(o,ai(s,e),a)}return o}function Dr(e,t,n,r){var i=r?Et:bt,o=-1,s=t.length,a=e;for(e===t&&(t=yi(t)),n&&(a=ft(e,Ot(n)));++o<s;)for(var c=0,u=t[o],l=n?n(u):u;(c=i(a,l,c,r))>-1;)a!==e&&Ke.call(a,c,1),Ke.call(e,c,1);return e}function jr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;so(i)?Ke.call(e,i,1):Zr(e,i)}}return e}function Lr(e,t){return e+Zt(ln()*(t-e+1))}function Mr(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=Zt(t/2))&&(e+=e)}while(t);return n}function qr(e,t){return Eo(vo(e,t,za),e+"")}function Ur(e){return Un(Oa(e))}function Hr(e,t){var n=Oa(e);return To(n,Qn(t,0,n.length))}function Fr(e,t,n,r){if(!$s(e))return e;for(var i=-1,o=(t=ai(t,e)).length,s=o-1,a=e;null!=a&&++i<o;){var c=xo(t[i]),u=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(i!=s){var l=a[c];void 0===(u=r?r(l,c,a):void 0)&&(u=$s(l)?l:so(t[i+1])?[]:{})}$n(a,c,u),a=a[c]}return e}var Vr=mn?function(e,t){return mn.set(e,t),e}:za,$r=Wt?function(e,t){return Wt(e,"toString",{configurable:!0,enumerable:!1,value:$a(t),writable:!0})}:za;function Br(e){return To(Oa(e))}function Jr(e,t,n){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var s=r(o);++i<o;)s[i]=e[i+t];return s}function zr(e,t){var n;return er(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Gr(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,s=e[o];null!==s&&!Ys(s)&&(n?s<=t:s<t)?r=o+1:i=o}return i}return Wr(e,t,za,n)}function Wr(e,t,n,r){var i=0,o=null==e?0:e.length;if(0===o)return 0;for(var s=(t=n(t))!=t,a=null===t,c=Ys(t),u=void 0===t;i<o;){var l=Zt((i+o)/2),p=n(e[l]),f=void 0!==p,d=null===p,h=p==p,v=Ys(p);if(s)var g=r||h;else g=u?h&&(r||f):a?h&&f&&(r||!d):c?h&&f&&!d&&(r||!v):!d&&!v&&(r?p<=t:p<t);g?i=l+1:o=l}return an(o,4294967294)}function Qr(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var s=e[n],a=t?t(s):s;if(!n||!Os(a,c)){var c=a;o[i++]=0===s?0:s}}return o}function Kr(e){return"number"==typeof e?e:Ys(e)?NaN:+e}function Yr(e){if("string"==typeof e)return e;if(Ns(e))return ft(e,Yr)+"";if(Ys(e))return An?An.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Xr(e,t,n){var r=-1,i=lt,o=e.length,s=!0,a=[],c=a;if(n)s=!1,i=pt;else if(o>=200){var u=t?null:Mi(e);if(u)return Vt(u);s=!1,i=Pt,c=new Ln}else c=t?[]:a;e:for(;++r<o;){var l=e[r],p=t?t(l):l;if(l=n||0!==l?l:0,s&&p==p){for(var f=c.length;f--;)if(c[f]===p)continue e;t&&c.push(p),a.push(l)}else i(c,p,n)||(c!==a&&c.push(p),a.push(l))}return a}function Zr(e,t){return null==(e=go(e,t=ai(t,e)))||delete e[xo(Uo(t))]}function ei(e,t,n,r){return Fr(e,t,n(pr(e,t)),r)}function ti(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?Jr(e,r?0:o,r?o+1:i):Jr(e,r?o+1:0,r?i:o)}function ni(e,t){var n=e;return n instanceof Rn&&(n=n.value()),ht(t,(function(e,t){return t.func.apply(t.thisArg,dt([e],t.args))}),n)}function ri(e,t,n){var i=e.length;if(i<2)return i?Xr(e[0]):[];for(var o=-1,s=r(i);++o<i;)for(var a=e[o],c=-1;++c<i;)c!=o&&(s[o]=Zn(s[o]||a,e[c],t,n));return Xr(or(s,1),t,n)}function ii(e,t,n){for(var r=-1,i=e.length,o=t.length,s={};++r<i;){var a=r<o?t[r]:void 0;n(s,e[r],a)}return s}function oi(e){return Ls(e)?e:[]}function si(e){return"function"==typeof e?e:za}function ai(e,t){return Ns(e)?e:co(e,t)?[e]:Io(aa(e))}var ci=qr;function ui(e,t,n){var r=e.length;return n=void 0===n?r:n,!t&&n>=r?e:Jr(e,t,n)}var li=Qt||function(e){return ze.clearTimeout(e)};function pi(e,t){if(t)return e.slice();var n=e.length,r=Be?Be(n):new e.constructor(n);return e.copy(r),r}function fi(e){var t=new e.constructor(e.byteLength);return new Fe(t).set(new Fe(e)),t}function di(e,t){var n=t?fi(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function hi(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=e==e,o=Ys(e),s=void 0!==t,a=null===t,c=t==t,u=Ys(t);if(!a&&!u&&!o&&e>t||o&&s&&c&&!a&&!u||r&&s&&c||!n&&c||!i)return 1;if(!r&&!o&&!u&&e<t||u&&n&&i&&!r&&!o||a&&n&&i||!s&&i||!c)return-1}return 0}function vi(e,t,n,i){for(var o=-1,s=e.length,a=n.length,c=-1,u=t.length,l=sn(s-a,0),p=r(u+l),f=!i;++c<u;)p[c]=t[c];for(;++o<a;)(f||o<s)&&(p[n[o]]=e[o]);for(;l--;)p[c++]=e[o++];return p}function gi(e,t,n,i){for(var o=-1,s=e.length,a=-1,c=n.length,u=-1,l=t.length,p=sn(s-c,0),f=r(p+l),d=!i;++o<p;)f[o]=e[o];for(var h=o;++u<l;)f[h+u]=t[u];for(;++a<c;)(d||o<s)&&(f[h+n[a]]=e[o++]);return f}function yi(e,t){var n=-1,i=e.length;for(t||(t=r(i));++n<i;)t[n]=e[n];return t}function mi(e,t,n,r){var i=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],c=r?r(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),i?Gn(n,a,c):$n(n,a,c)}return n}function _i(e,t){return function(n,r){var i=Ns(n)?ot:Jn,o=t?t():{};return i(n,e,Ki(r,2),o)}}function bi(e){return qr((function(t,n){var r=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=e.length>3&&"function"==typeof o?(i--,o):void 0,s&&ao(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),t=ve(t);++r<i;){var a=n[r];a&&e(t,a,r,o)}return t}))}function Ei(e,t){return function(n,r){if(null==n)return n;if(!js(n))return e(n,r);for(var i=n.length,o=t?i:-1,s=ve(n);(t?o--:++o<i)&&!1!==r(s[o],o,s););return n}}function Ci(e){return function(t,n,r){for(var i=-1,o=ve(t),s=r(t),a=s.length;a--;){var c=s[e?a:++i];if(!1===n(o[c],c,o))break}return t}}function wi(e){return function(t){var n=qt(t=aa(t))?Jt(t):void 0,r=n?n[0]:t.charAt(0),i=n?ui(n,1).join(""):t.slice(1);return r[e]()+i}}function Ti(e){return function(t){return ht(Ha(Ra(t).replace(Pe,"")),e,"")}}function Ii(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=On(e.prototype),r=e.apply(n,t);return $s(r)?r:n}}function xi(e){return function(t,n,r){var i=ve(t);if(!js(t)){var o=Ki(n,3);t=ba(t),n=function(e){return o(i[e],e,i)}}var s=e(t,n,r);return s>-1?i[o?t[s]:s]:void 0}}function Ai(e){return Bi((function(t){var n=t.length,r=n,o=Pn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new me(i);if(o&&!a&&"wrapper"==Wi(s))var a=new Pn([],!0)}for(r=a?r:n;++r<n;){var c=Wi(s=t[r]),u="wrapper"==c?Gi(s):void 0;a=u&&uo(u[0])&&424==u[1]&&!u[4].length&&1==u[9]?a[Wi(u[0])].apply(a,u[3]):1==s.length&&uo(s)?a[c]():a.thru(s)}return function(){var e=arguments,r=e[0];if(a&&1==e.length&&Ns(r))return a.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Si(e,t,n,i,o,s,a,c,u,l){var p=128&t,f=1&t,d=2&t,h=24&t,v=512&t,g=d?void 0:Ii(e);return function y(){for(var m=arguments.length,_=r(m),b=m;b--;)_[b]=arguments[b];if(h)var E=Qi(y),C=Dt(_,E);if(i&&(_=vi(_,i,o,h)),s&&(_=gi(_,s,a,h)),m-=C,h&&m<l){var w=Ft(_,E);return ji(e,t,Si,y.placeholder,n,_,w,c,u,l-m)}var T=f?n:this,I=d?T[e]:e;return m=_.length,c?_=yo(_,c):v&&m>1&&_.reverse(),p&&u<m&&(_.length=u),this&&this!==ze&&this instanceof y&&(I=g||Ii(I)),I.apply(T,_)}}function Oi(e,t){return function(n,r){return function(e,t,n,r){return cr(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function ki(e,t){return function(n,r){var i;if(void 0===n&&void 0===r)return t;if(void 0!==n&&(i=n),void 0!==r){if(void 0===i)return r;"string"==typeof n||"string"==typeof r?(n=Yr(n),r=Yr(r)):(n=Kr(n),r=Kr(r)),i=e(n,r)}return i}}function Pi(e){return Bi((function(t){return t=ft(t,Ot(Ki())),qr((function(n){var r=this;return e(t,(function(e){return it(e,r,n)}))}))}))}function Ri(e,t){var n=(t=void 0===t?" ":Yr(t)).length;if(n<2)return n?Mr(t,e):t;var r=Mr(t,Xt(e/Bt(t)));return qt(t)?ui(Jt(r),0,e).join(""):r.slice(0,e)}function Ni(e){return function(t,n,i){return i&&"number"!=typeof i&&ao(t,n,i)&&(n=i=void 0),t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n,i){for(var o=-1,s=sn(Xt((t-e)/(n||1)),0),a=r(s);s--;)a[i?s:++o]=e,e+=n;return a}(t,n,i=void 0===i?t<n?1:-1:na(i),e)}}function Di(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function ji(e,t,n,r,i,o,s,a,c,u){var l=8&t;t|=l?32:64,4&(t&=~(l?64:32))||(t&=-4);var p=[e,t,i,l?o:void 0,l?s:void 0,l?void 0:o,l?void 0:s,a,c,u],f=n.apply(void 0,p);return uo(e)&&_o(f,p),f.placeholder=r,Co(f,e,t)}function Li(e){var t=he[e];return function(e,n){if(e=oa(e),(n=null==n?0:an(ra(n),292))&&nn(e)){var r=(aa(e)+"e").split("e");return+((r=(aa(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Mi=vn&&1/Vt(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Ya;function qi(e){return function(t){var n=no(t);return n==h?Ut(t):n==m?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Ui(e,t,n,s,a,c,u,l){var p=2&t;if(!p&&"function"!=typeof e)throw new me(i);var f=s?s.length:0;if(f||(t&=-97,s=a=void 0),u=void 0===u?u:sn(ra(u),0),l=void 0===l?l:ra(l),f-=a?a.length:0,64&t){var d=s,h=a;s=a=void 0}var v=p?void 0:Gi(e),g=[e,t,n,s,a,d,h,c,u,l];if(v&&function(e,t){var n=e[1],r=t[1],i=n|r,s=i<131,a=128==r&&8==n||128==r&&256==n&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var c=t[3];if(c){var u=e[3];e[3]=u?vi(u,c,t[4]):c,e[4]=u?Ft(e[3],o):t[4]}(c=t[5])&&(u=e[5],e[5]=u?gi(u,c,t[6]):c,e[6]=u?Ft(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&r&&(e[8]=null==e[8]?t[8]:an(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(g,v),e=g[0],t=g[1],n=g[2],s=g[3],a=g[4],!(l=g[9]=void 0===g[9]?p?0:e.length:sn(g[9]-f,0))&&24&t&&(t&=-25),t&&1!=t)y=8==t||16==t?function(e,t,n){var i=Ii(e);return function o(){for(var s=arguments.length,a=r(s),c=s,u=Qi(o);c--;)a[c]=arguments[c];var l=s<3&&a[0]!==u&&a[s-1]!==u?[]:Ft(a,u);if((s-=l.length)<n)return ji(e,t,Si,o.placeholder,void 0,a,l,void 0,void 0,n-s);var p=this&&this!==ze&&this instanceof o?i:e;return it(p,this,a)}}(e,t,l):32!=t&&33!=t||a.length?Si.apply(void 0,g):function(e,t,n,i){var o=1&t,s=Ii(e);return function t(){for(var a=-1,c=arguments.length,u=-1,l=i.length,p=r(l+c),f=this&&this!==ze&&this instanceof t?s:e;++u<l;)p[u]=i[u];for(;c--;)p[u++]=arguments[++a];return it(f,o?n:this,p)}}(e,t,n,s);else var y=function(e,t,n){var r=1&t,i=Ii(e);return function t(){var o=this&&this!==ze&&this instanceof t?i:e;return o.apply(r?n:this,arguments)}}(e,t,n);return Co((v?Vr:_o)(y,g),e,t)}function Hi(e,t,n,r){return void 0===e||Os(e,Ee[n])&&!Te.call(r,n)?t:e}function Fi(e,t,n,r,i,o){return $s(e)&&$s(t)&&(o.set(t,e),kr(e,t,void 0,Fi,o),o.delete(t)),e}function Vi(e){return Gs(e)?void 0:e}function $i(e,t,n,r,i,o){var s=1&n,a=e.length,c=t.length;if(a!=c&&!(s&&c>a))return!1;var u=o.get(e),l=o.get(t);if(u&&l)return u==t&&l==e;var p=-1,f=!0,d=2&n?new Ln:void 0;for(o.set(e,t),o.set(t,e);++p<a;){var h=e[p],v=t[p];if(r)var g=s?r(v,h,p,t,e,o):r(h,v,p,e,t,o);if(void 0!==g){if(g)continue;f=!1;break}if(d){if(!gt(t,(function(e,t){if(!Pt(d,t)&&(h===e||i(h,e,n,r,o)))return d.push(t)}))){f=!1;break}}else if(h!==v&&!i(h,v,n,r,o)){f=!1;break}}return o.delete(e),o.delete(t),f}function Bi(e){return Eo(vo(e,void 0,Do),e+"")}function Ji(e){return fr(e,ba,eo)}function zi(e){return fr(e,Ea,to)}var Gi=mn?function(e){return mn.get(e)}:Ya;function Wi(e){for(var t=e.name+"",n=_n[t],r=Te.call(_n,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Qi(e){return(Te.call(Sn,"placeholder")?Sn:e).placeholder}function Ki(){var e=Sn.iteratee||Ga;return e=e===Ga?wr:e,arguments.length?e(arguments[0],arguments[1]):e}function Yi(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function Xi(e){for(var t=ba(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,fo(i)]}return t}function Zi(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Cr(n)?n:void 0}var eo=en?function(e){return null==e?[]:(e=ve(e),ut(en(e),(function(t){return We.call(e,t)})))}:ic,to=en?function(e){for(var t=[];e;)dt(t,eo(e)),e=Je(e);return t}:ic,no=dr;function ro(e,t,n){for(var r=-1,i=(t=ai(t,e)).length,o=!1;++r<i;){var s=xo(t[r]);if(!(o=null!=e&&n(e,s)))break;e=e[s]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&Vs(i)&&so(s,i)&&(Ns(e)||Rs(e))}function io(e){return"function"!=typeof e.constructor||po(e)?{}:On(Je(e))}function oo(e){return Ns(e)||Rs(e)||!!(Ye&&e&&e[Ye])}function so(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ae.test(e))&&e>-1&&e%1==0&&e<t}function ao(e,t,n){if(!$s(n))return!1;var r=typeof t;return!!("number"==r?js(n)&&so(t,n.length):"string"==r&&t in n)&&Os(n[t],e)}function co(e,t){if(Ns(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Ys(e))||($.test(e)||!V.test(e)||null!=t&&e in ve(t))}function uo(e){var t=Wi(e),n=Sn[t];if("function"!=typeof n||!(t in Rn.prototype))return!1;if(e===n)return!0;var r=Gi(n);return!!r&&e===r[0]}(fn&&no(new fn(new ArrayBuffer(1)))!=w||dn&&no(new dn)!=h||hn&&"[object Promise]"!=no(hn.resolve())||vn&&no(new vn)!=m||gn&&no(new gn)!=E)&&(no=function(e){var t=dr(e),n=t==g?e.constructor:void 0,r=n?Ao(n):"";if(r)switch(r){case bn:return w;case En:return h;case Cn:return"[object Promise]";case wn:return m;case Tn:return E}return t});var lo=Ce?Hs:oc;function po(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Ee)}function fo(e){return e==e&&!$s(e)}function ho(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in ve(n)))}}function vo(e,t,n){return t=sn(void 0===t?e.length-1:t,0),function(){for(var i=arguments,o=-1,s=sn(i.length-t,0),a=r(s);++o<s;)a[o]=i[t+o];o=-1;for(var c=r(t+1);++o<t;)c[o]=i[o];return c[t]=n(a),it(e,this,c)}}function go(e,t){return t.length<2?e:pr(e,Jr(t,0,-1))}function yo(e,t){for(var n=e.length,r=an(t.length,n),i=yi(e);r--;){var o=t[r];e[r]=so(o,n)?i[o]:void 0}return e}function mo(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var _o=wo(Vr),bo=Yt||function(e,t){return ze.setTimeout(e,t)},Eo=wo($r);function Co(e,t,n){var r=t+"";return Eo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(K,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return st(s,(function(n){var r="_."+n[0];t&n[1]&&!lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(Y);return t?t[1].split(X):[]}(r),n)))}function wo(e){var t=0,n=0;return function(){var r=cn(),i=16-(r-n);if(n=r,i>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function To(e,t){var n=-1,r=e.length,i=r-1;for(t=void 0===t?r:t;++n<t;){var o=Lr(n,i),s=e[o];e[o]=e[n],e[n]=s}return e.length=t,e}var Io=function(e){var t=ws(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(B,(function(e,n,r,i){t.push(r?i.replace(ee,"$1"):n||e)})),t}));function xo(e){if("string"==typeof e||Ys(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Ao(e){if(null!=e){try{return we.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function So(e){if(e instanceof Rn)return e.clone();var t=new Pn(e.__wrapped__,e.__chain__);return t.__actions__=yi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Oo=qr((function(e,t){return Ls(e)?Zn(e,or(t,1,Ls,!0)):[]})),ko=qr((function(e,t){var n=Uo(t);return Ls(n)&&(n=void 0),Ls(e)?Zn(e,or(t,1,Ls,!0),Ki(n,2)):[]})),Po=qr((function(e,t){var n=Uo(t);return Ls(n)&&(n=void 0),Ls(e)?Zn(e,or(t,1,Ls,!0),void 0,n):[]}));function Ro(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),_t(e,Ki(t,3),i)}function No(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r-1;return void 0!==n&&(i=ra(n),i=n<0?sn(r+i,0):an(i,r-1)),_t(e,Ki(t,3),i,!0)}function Do(e){return(null==e?0:e.length)?or(e,1):[]}function jo(e){return e&&e.length?e[0]:void 0}var Lo=qr((function(e){var t=ft(e,oi);return t.length&&t[0]===e[0]?yr(t):[]})),Mo=qr((function(e){var t=Uo(e),n=ft(e,oi);return t===Uo(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yr(n,Ki(t,2)):[]})),qo=qr((function(e){var t=Uo(e),n=ft(e,oi);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yr(n,void 0,t):[]}));function Uo(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Ho=qr(Fo);function Fo(e,t){return e&&e.length&&t&&t.length?Dr(e,t):e}var Vo=Bi((function(e,t){var n=null==e?0:e.length,r=Wn(e,t);return jr(e,ft(t,(function(e){return so(e,n)?+e:e})).sort(hi)),r}));function $o(e){return null==e?e:pn.call(e)}var Bo=qr((function(e){return Xr(or(e,1,Ls,!0))})),Jo=qr((function(e){var t=Uo(e);return Ls(t)&&(t=void 0),Xr(or(e,1,Ls,!0),Ki(t,2))})),zo=qr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,Xr(or(e,1,Ls,!0),void 0,t)}));function Go(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(Ls(e))return t=sn(e.length,t),!0})),St(t,(function(t){return ft(e,Tt(t))}))}function Wo(e,t){if(!e||!e.length)return[];var n=Go(e);return null==t?n:ft(n,(function(e){return it(t,void 0,e)}))}var Qo=qr((function(e,t){return Ls(e)?Zn(e,t):[]})),Ko=qr((function(e){return ri(ut(e,Ls))})),Yo=qr((function(e){var t=Uo(e);return Ls(t)&&(t=void 0),ri(ut(e,Ls),Ki(t,2))})),Xo=qr((function(e){var t=Uo(e);return t="function"==typeof t?t:void 0,ri(ut(e,Ls),void 0,t)})),Zo=qr(Go);var es=qr((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Wo(e,n)}));function ts(e){var t=Sn(e);return t.__chain__=!0,t}function ns(e,t){return t(e)}var rs=Bi((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(t){return Wn(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Rn&&so(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:ns,args:[i],thisArg:void 0}),new Pn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(i)}));var is=_i((function(e,t,n){Te.call(e,n)?++e[n]:Gn(e,n,1)}));var os=xi(Ro),ss=xi(No);function as(e,t){return(Ns(e)?st:er)(e,Ki(t,3))}function cs(e,t){return(Ns(e)?at:tr)(e,Ki(t,3))}var us=_i((function(e,t,n){Te.call(e,n)?e[n].push(t):Gn(e,n,[t])}));var ls=qr((function(e,t,n){var i=-1,o="function"==typeof t,s=js(e)?r(e.length):[];return er(e,(function(e){s[++i]=o?it(t,e,n):mr(e,t,n)})),s})),ps=_i((function(e,t,n){Gn(e,n,t)}));function fs(e,t){return(Ns(e)?ft:Ar)(e,Ki(t,3))}var ds=_i((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var hs=qr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&ao(e,t[0],t[1])?t=[]:n>2&&ao(t[0],t[1],t[2])&&(t=[t[0]]),Rr(e,or(t,1),[])})),vs=Kt||function(){return ze.Date.now()};function gs(e,t,n){return t=n?void 0:t,Ui(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function ys(e,t){var n;if("function"!=typeof t)throw new me(i);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var ms=qr((function(e,t,n){var r=1;if(n.length){var i=Ft(n,Qi(ms));r|=32}return Ui(e,r,t,n,i)})),_s=qr((function(e,t,n){var r=3;if(n.length){var i=Ft(n,Qi(_s));r|=32}return Ui(t,r,e,n,i)}));function bs(e,t,n){var r,o,s,a,c,u,l=0,p=!1,f=!1,d=!0;if("function"!=typeof e)throw new me(i);function h(t){var n=r,i=o;return r=o=void 0,l=t,a=e.apply(i,n)}function v(e){return l=e,c=bo(y,t),p?h(e):a}function g(e){var n=e-u;return void 0===u||n>=t||n<0||f&&e-l>=s}function y(){var e=vs();if(g(e))return m(e);c=bo(y,function(e){var n=t-(e-u);return f?an(n,s-(e-l)):n}(e))}function m(e){return c=void 0,d&&r?h(e):(r=o=void 0,a)}function _(){var e=vs(),n=g(e);if(r=arguments,o=this,u=e,n){if(void 0===c)return v(u);if(f)return li(c),c=bo(y,t),h(u)}return void 0===c&&(c=bo(y,t)),a}return t=oa(t)||0,$s(n)&&(p=!!n.leading,s=(f="maxWait"in n)?sn(oa(n.maxWait)||0,t):s,d="trailing"in n?!!n.trailing:d),_.cancel=function(){void 0!==c&&li(c),l=0,r=u=o=c=void 0},_.flush=function(){return void 0===c?a:m(vs())},_}var Es=qr((function(e,t){return Xn(e,1,t)})),Cs=qr((function(e,t,n){return Xn(e,oa(t)||0,n)}));function ws(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new me(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var s=e.apply(this,r);return n.cache=o.set(i,s)||o,s};return n.cache=new(ws.Cache||jn),n}function Ts(e){if("function"!=typeof e)throw new me(i);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ws.Cache=jn;var Is=ci((function(e,t){var n=(t=1==t.length&&Ns(t[0])?ft(t[0],Ot(Ki())):ft(or(t,1),Ot(Ki()))).length;return qr((function(r){for(var i=-1,o=an(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return it(e,this,r)}))})),xs=qr((function(e,t){return Ui(e,32,void 0,t,Ft(t,Qi(xs)))})),As=qr((function(e,t){return Ui(e,64,void 0,t,Ft(t,Qi(As)))})),Ss=Bi((function(e,t){return Ui(e,256,void 0,void 0,void 0,t)}));function Os(e,t){return e===t||e!=e&&t!=t}var ks=Di(hr),Ps=Di((function(e,t){return e>=t})),Rs=_r(function(){return arguments}())?_r:function(e){return Bs(e)&&Te.call(e,"callee")&&!We.call(e,"callee")},Ns=r.isArray,Ds=Xe?Ot(Xe):function(e){return Bs(e)&&dr(e)==C};function js(e){return null!=e&&Vs(e.length)&&!Hs(e)}function Ls(e){return Bs(e)&&js(e)}var Ms=tn||oc,qs=Ze?Ot(Ze):function(e){return Bs(e)&&dr(e)==l};function Us(e){if(!Bs(e))return!1;var t=dr(e);return t==p||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Gs(e)}function Hs(e){if(!$s(e))return!1;var t=dr(e);return t==f||t==d||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Fs(e){return"number"==typeof e&&e==ra(e)}function Vs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function $s(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Bs(e){return null!=e&&"object"==typeof e}var Js=et?Ot(et):function(e){return Bs(e)&&no(e)==h};function zs(e){return"number"==typeof e||Bs(e)&&dr(e)==v}function Gs(e){if(!Bs(e)||dr(e)!=g)return!1;var t=Je(e);if(null===t)return!0;var n=Te.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&we.call(n)==Se}var Ws=tt?Ot(tt):function(e){return Bs(e)&&dr(e)==y};var Qs=nt?Ot(nt):function(e){return Bs(e)&&no(e)==m};function Ks(e){return"string"==typeof e||!Ns(e)&&Bs(e)&&dr(e)==_}function Ys(e){return"symbol"==typeof e||Bs(e)&&dr(e)==b}var Xs=rt?Ot(rt):function(e){return Bs(e)&&Vs(e.length)&&!!Ue[dr(e)]};var Zs=Di(xr),ea=Di((function(e,t){return e<=t}));function ta(e){if(!e)return[];if(js(e))return Ks(e)?Jt(e):yi(e);if(yt&&e[yt])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[yt]());var t=no(e);return(t==h?Ut:t==m?Vt:Oa)(e)}function na(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=na(e),n=t%1;return t==t?n?t-n:t:0}function ia(e){return e?Qn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Ys(e))return NaN;if($s(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=$s(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(G,"");var n=ie.test(e);return n||se.test(e)?$e(e.slice(2),n?2:8):re.test(e)?NaN:+e}function sa(e){return mi(e,Ea(e))}function aa(e){return null==e?"":Yr(e)}var ca=bi((function(e,t){if(po(t)||js(t))mi(t,ba(t),e);else for(var n in t)Te.call(t,n)&&$n(e,n,t[n])})),ua=bi((function(e,t){mi(t,Ea(t),e)})),la=bi((function(e,t,n,r){mi(t,Ea(t),e,r)})),pa=bi((function(e,t,n,r){mi(t,ba(t),e,r)})),fa=Bi(Wn);var da=qr((function(e,t){e=ve(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&ao(t[0],t[1],i)&&(r=1);++n<r;)for(var o=t[n],s=Ea(o),a=-1,c=s.length;++a<c;){var u=s[a],l=e[u];(void 0===l||Os(l,Ee[u])&&!Te.call(e,u))&&(e[u]=o[u])}return e})),ha=qr((function(e){return e.push(void 0,Fi),it(wa,void 0,e)}));function va(e,t,n){var r=null==e?void 0:pr(e,t);return void 0===r?n:r}function ga(e,t){return null!=e&&ro(e,t,gr)}var ya=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),e[t]=n}),$a(za)),ma=Oi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ae.call(t)),Te.call(e,t)?e[t].push(n):e[t]=[n]}),Ki),_a=qr(mr);function ba(e){return js(e)?qn(e):Tr(e)}function Ea(e){return js(e)?qn(e,!0):Ir(e)}var Ca=bi((function(e,t,n){kr(e,t,n)})),wa=bi((function(e,t,n,r){kr(e,t,n,r)})),Ta=Bi((function(e,t){var n={};if(null==e)return n;var r=!1;t=ft(t,(function(t){return t=ai(t,e),r||(r=t.length>1),t})),mi(e,zi(e),n),r&&(n=Kn(n,7,Vi));for(var i=t.length;i--;)Zr(n,t[i]);return n}));var Ia=Bi((function(e,t){return null==e?{}:function(e,t){return Nr(e,t,(function(t,n){return ga(e,n)}))}(e,t)}));function xa(e,t){if(null==e)return{};var n=ft(zi(e),(function(e){return[e]}));return t=Ki(t),Nr(e,n,(function(e,n){return t(e,n[0])}))}var Aa=qi(ba),Sa=qi(Ea);function Oa(e){return null==e?[]:kt(e,ba(e))}var ka=Ti((function(e,t,n){return t=t.toLowerCase(),e+(n?Pa(t):t)}));function Pa(e){return Ua(aa(e).toLowerCase())}function Ra(e){return(e=aa(e))&&e.replace(ce,jt).replace(Re,"")}var Na=Ti((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Da=Ti((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),ja=wi("toLowerCase");var La=Ti((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Ma=Ti((function(e,t,n){return e+(n?" ":"")+Ua(t)}));var qa=Ti((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ua=wi("toUpperCase");function Ha(e,t,n){return e=aa(e),void 0===(t=n?void 0:t)?function(e){return Le.test(e)}(e)?function(e){return e.match(De)||[]}(e):function(e){return e.match(Z)||[]}(e):e.match(t)||[]}var Fa=qr((function(e,t){try{return it(e,void 0,t)}catch(e){return Us(e)?e:new fe(e)}})),Va=Bi((function(e,t){return st(t,(function(t){t=xo(t),Gn(e,t,ms(e[t],e))})),e}));function $a(e){return function(){return e}}var Ba=Ai(),Ja=Ai(!0);function za(e){return e}function Ga(e){return wr("function"==typeof e?e:Kn(e,1))}var Wa=qr((function(e,t){return function(n){return mr(n,e,t)}})),Qa=qr((function(e,t){return function(n){return mr(e,n,t)}}));function Ka(e,t,n){var r=ba(t),i=lr(t,r);null!=n||$s(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=lr(t,ba(t)));var o=!($s(n)&&"chain"in n&&!n.chain),s=Hs(e);return st(i,(function(n){var r=t[n];e[n]=r,s&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=yi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,dt([this.value()],arguments))})})),e}function Ya(){}var Xa=Pi(ft),Za=Pi(ct),ec=Pi(gt);function tc(e){return co(e)?Tt(xo(e)):function(e){return function(t){return pr(t,e)}}(e)}var nc=Ni(),rc=Ni(!0);function ic(){return[]}function oc(){return!1}var sc=ki((function(e,t){return e+t}),0),ac=Li("ceil"),cc=ki((function(e,t){return e/t}),1),uc=Li("floor");var lc,pc=ki((function(e,t){return e*t}),1),fc=Li("round"),dc=ki((function(e,t){return e-t}),0);return Sn.after=function(e,t){if("function"!=typeof t)throw new me(i);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},Sn.ary=gs,Sn.assign=ca,Sn.assignIn=ua,Sn.assignInWith=la,Sn.assignWith=pa,Sn.at=fa,Sn.before=ys,Sn.bind=ms,Sn.bindAll=Va,Sn.bindKey=_s,Sn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ns(e)?e:[e]},Sn.chain=ts,Sn.chunk=function(e,t,n){t=(n?ao(e,t,n):void 0===t)?1:sn(ra(t),0);var i=null==e?0:e.length;if(!i||t<1)return[];for(var o=0,s=0,a=r(Xt(i/t));o<i;)a[s++]=Jr(e,o,o+=t);return a},Sn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Sn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=r(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return dt(Ns(n)?yi(n):[n],or(t,1))},Sn.cond=function(e){var t=null==e?0:e.length,n=Ki();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new me(i);return[n(e[0]),e[1]]})):[],qr((function(n){for(var r=-1;++r<t;){var i=e[r];if(it(i[0],this,n))return it(i[1],this,n)}}))},Sn.conforms=function(e){return function(e){var t=ba(e);return function(n){return Yn(n,e,t)}}(Kn(e,1))},Sn.constant=$a,Sn.countBy=is,Sn.create=function(e,t){var n=On(e);return null==t?n:zn(n,t)},Sn.curry=function e(t,n,r){var i=Ui(t,8,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Sn.curryRight=function e(t,n,r){var i=Ui(t,16,void 0,void 0,void 0,void 0,void 0,n=r?void 0:n);return i.placeholder=e.placeholder,i},Sn.debounce=bs,Sn.defaults=da,Sn.defaultsDeep=ha,Sn.defer=Es,Sn.delay=Cs,Sn.difference=Oo,Sn.differenceBy=ko,Sn.differenceWith=Po,Sn.drop=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=n||void 0===t?1:ra(t))<0?0:t,r):[]},Sn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,0,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},Sn.dropRightWhile=function(e,t){return e&&e.length?ti(e,Ki(t,3),!0,!0):[]},Sn.dropWhile=function(e,t){return e&&e.length?ti(e,Ki(t,3),!0):[]},Sn.fill=function(e,t,n,r){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&ao(e,t,n)&&(n=0,r=i),function(e,t,n,r){var i=e.length;for((n=ra(n))<0&&(n=-n>i?0:i+n),(r=void 0===r||r>i?i:ra(r))<0&&(r+=i),r=n>r?0:ia(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Sn.filter=function(e,t){return(Ns(e)?ut:ir)(e,Ki(t,3))},Sn.flatMap=function(e,t){return or(fs(e,t),1)},Sn.flatMapDeep=function(e,t){return or(fs(e,t),1/0)},Sn.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),or(fs(e,t),n)},Sn.flatten=Do,Sn.flattenDeep=function(e){return(null==e?0:e.length)?or(e,1/0):[]},Sn.flattenDepth=function(e,t){return(null==e?0:e.length)?or(e,t=void 0===t?1:ra(t)):[]},Sn.flip=function(e){return Ui(e,512)},Sn.flow=Ba,Sn.flowRight=Ja,Sn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Sn.functions=function(e){return null==e?[]:lr(e,ba(e))},Sn.functionsIn=function(e){return null==e?[]:lr(e,Ea(e))},Sn.groupBy=us,Sn.initial=function(e){return(null==e?0:e.length)?Jr(e,0,-1):[]},Sn.intersection=Lo,Sn.intersectionBy=Mo,Sn.intersectionWith=qo,Sn.invert=ya,Sn.invertBy=ma,Sn.invokeMap=ls,Sn.iteratee=Ga,Sn.keyBy=ps,Sn.keys=ba,Sn.keysIn=Ea,Sn.map=fs,Sn.mapKeys=function(e,t){var n={};return t=Ki(t,3),cr(e,(function(e,r,i){Gn(n,t(e,r,i),e)})),n},Sn.mapValues=function(e,t){var n={};return t=Ki(t,3),cr(e,(function(e,r,i){Gn(n,r,t(e,r,i))})),n},Sn.matches=function(e){return Sr(Kn(e,1))},Sn.matchesProperty=function(e,t){return Or(e,Kn(t,1))},Sn.memoize=ws,Sn.merge=Ca,Sn.mergeWith=wa,Sn.method=Wa,Sn.methodOf=Qa,Sn.mixin=Ka,Sn.negate=Ts,Sn.nthArg=function(e){return e=ra(e),qr((function(t){return Pr(t,e)}))},Sn.omit=Ta,Sn.omitBy=function(e,t){return xa(e,Ts(Ki(t)))},Sn.once=function(e){return ys(2,e)},Sn.orderBy=function(e,t,n,r){return null==e?[]:(Ns(t)||(t=null==t?[]:[t]),Ns(n=r?void 0:n)||(n=null==n?[]:[n]),Rr(e,t,n))},Sn.over=Xa,Sn.overArgs=Is,Sn.overEvery=Za,Sn.overSome=ec,Sn.partial=xs,Sn.partialRight=As,Sn.partition=ds,Sn.pick=Ia,Sn.pickBy=xa,Sn.property=tc,Sn.propertyOf=function(e){return function(t){return null==e?void 0:pr(e,t)}},Sn.pull=Ho,Sn.pullAll=Fo,Sn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,Ki(n,2)):e},Sn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Dr(e,t,void 0,n):e},Sn.pullAt=Vo,Sn.range=nc,Sn.rangeRight=rc,Sn.rearg=Ss,Sn.reject=function(e,t){return(Ns(e)?ut:ir)(e,Ts(Ki(t,3)))},Sn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=Ki(t,3);++r<o;){var s=e[r];t(s,r,e)&&(n.push(s),i.push(r))}return jr(e,i),n},Sn.rest=function(e,t){if("function"!=typeof e)throw new me(i);return qr(e,t=void 0===t?t:ra(t))},Sn.reverse=$o,Sn.sampleSize=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ra(t),(Ns(e)?Hn:Hr)(e,t)},Sn.set=function(e,t,n){return null==e?e:Fr(e,t,n)},Sn.setWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:Fr(e,t,n,r)},Sn.shuffle=function(e){return(Ns(e)?Fn:Br)(e)},Sn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&ao(e,t,n)?(t=0,n=r):(t=null==t?0:ra(t),n=void 0===n?r:ra(n)),Jr(e,t,n)):[]},Sn.sortBy=hs,Sn.sortedUniq=function(e){return e&&e.length?Qr(e):[]},Sn.sortedUniqBy=function(e,t){return e&&e.length?Qr(e,Ki(t,2)):[]},Sn.split=function(e,t,n){return n&&"number"!=typeof n&&ao(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=aa(e))&&("string"==typeof t||null!=t&&!Ws(t))&&!(t=Yr(t))&&qt(e)?ui(Jt(e),0,n):e.split(t,n):[]},Sn.spread=function(e,t){if("function"!=typeof e)throw new me(i);return t=null==t?0:sn(ra(t),0),qr((function(n){var r=n[t],i=ui(n,0,t);return r&&dt(i,r),it(e,this,i)}))},Sn.tail=function(e){var t=null==e?0:e.length;return t?Jr(e,1,t):[]},Sn.take=function(e,t,n){return e&&e.length?Jr(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},Sn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?Jr(e,(t=r-(t=n||void 0===t?1:ra(t)))<0?0:t,r):[]},Sn.takeRightWhile=function(e,t){return e&&e.length?ti(e,Ki(t,3),!1,!0):[]},Sn.takeWhile=function(e,t){return e&&e.length?ti(e,Ki(t,3)):[]},Sn.tap=function(e,t){return t(e),e},Sn.throttle=function(e,t,n){var r=!0,o=!0;if("function"!=typeof e)throw new me(i);return $s(n)&&(r="leading"in n?!!n.leading:r,o="trailing"in n?!!n.trailing:o),bs(e,t,{leading:r,maxWait:t,trailing:o})},Sn.thru=ns,Sn.toArray=ta,Sn.toPairs=Aa,Sn.toPairsIn=Sa,Sn.toPath=function(e){return Ns(e)?ft(e,xo):Ys(e)?[e]:yi(Io(aa(e)))},Sn.toPlainObject=sa,Sn.transform=function(e,t,n){var r=Ns(e),i=r||Ms(e)||Xs(e);if(t=Ki(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:$s(e)&&Hs(o)?On(Je(e)):{}}return(i?st:cr)(e,(function(e,r,i){return t(n,e,r,i)})),n},Sn.unary=function(e){return gs(e,1)},Sn.union=Bo,Sn.unionBy=Jo,Sn.unionWith=zo,Sn.uniq=function(e){return e&&e.length?Xr(e):[]},Sn.uniqBy=function(e,t){return e&&e.length?Xr(e,Ki(t,2)):[]},Sn.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Xr(e,void 0,t):[]},Sn.unset=function(e,t){return null==e||Zr(e,t)},Sn.unzip=Go,Sn.unzipWith=Wo,Sn.update=function(e,t,n){return null==e?e:ei(e,t,si(n))},Sn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:void 0,null==e?e:ei(e,t,si(n),r)},Sn.values=Oa,Sn.valuesIn=function(e){return null==e?[]:kt(e,Ea(e))},Sn.without=Qo,Sn.words=Ha,Sn.wrap=function(e,t){return xs(si(t),e)},Sn.xor=Ko,Sn.xorBy=Yo,Sn.xorWith=Xo,Sn.zip=Zo,Sn.zipObject=function(e,t){return ii(e||[],t||[],$n)},Sn.zipObjectDeep=function(e,t){return ii(e||[],t||[],Fr)},Sn.zipWith=es,Sn.entries=Aa,Sn.entriesIn=Sa,Sn.extend=ua,Sn.extendWith=la,Ka(Sn,Sn),Sn.add=sc,Sn.attempt=Fa,Sn.camelCase=ka,Sn.capitalize=Pa,Sn.ceil=ac,Sn.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Qn(oa(e),t,n)},Sn.clone=function(e){return Kn(e,4)},Sn.cloneDeep=function(e){return Kn(e,5)},Sn.cloneDeepWith=function(e,t){return Kn(e,5,t="function"==typeof t?t:void 0)},Sn.cloneWith=function(e,t){return Kn(e,4,t="function"==typeof t?t:void 0)},Sn.conformsTo=function(e,t){return null==t||Yn(e,t,ba(t))},Sn.deburr=Ra,Sn.defaultTo=function(e,t){return null==e||e!=e?t:e},Sn.divide=cc,Sn.endsWith=function(e,t,n){e=aa(e),t=Yr(t);var r=e.length,i=n=void 0===n?r:Qn(ra(n),0,r);return(n-=t.length)>=0&&e.slice(n,i)==t},Sn.eq=Os,Sn.escape=function(e){return(e=aa(e))&&q.test(e)?e.replace(L,Lt):e},Sn.escapeRegExp=function(e){return(e=aa(e))&&z.test(e)?e.replace(J,"\\$&"):e},Sn.every=function(e,t,n){var r=Ns(e)?ct:nr;return n&&ao(e,t,n)&&(t=void 0),r(e,Ki(t,3))},Sn.find=os,Sn.findIndex=Ro,Sn.findKey=function(e,t){return mt(e,Ki(t,3),cr)},Sn.findLast=ss,Sn.findLastIndex=No,Sn.findLastKey=function(e,t){return mt(e,Ki(t,3),ur)},Sn.floor=uc,Sn.forEach=as,Sn.forEachRight=cs,Sn.forIn=function(e,t){return null==e?e:sr(e,Ki(t,3),Ea)},Sn.forInRight=function(e,t){return null==e?e:ar(e,Ki(t,3),Ea)},Sn.forOwn=function(e,t){return e&&cr(e,Ki(t,3))},Sn.forOwnRight=function(e,t){return e&&ur(e,Ki(t,3))},Sn.get=va,Sn.gt=ks,Sn.gte=Ps,Sn.has=function(e,t){return null!=e&&ro(e,t,vr)},Sn.hasIn=ga,Sn.head=jo,Sn.identity=za,Sn.includes=function(e,t,n,r){e=js(e)?e:Oa(e),n=n&&!r?ra(n):0;var i=e.length;return n<0&&(n=sn(i+n,0)),Ks(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&bt(e,t,n)>-1},Sn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:ra(n);return i<0&&(i=sn(r+i,0)),bt(e,t,i)},Sn.inRange=function(e,t,n){return t=na(t),void 0===n?(n=t,t=0):n=na(n),function(e,t,n){return e>=an(t,n)&&e<sn(t,n)}(e=oa(e),t,n)},Sn.invoke=_a,Sn.isArguments=Rs,Sn.isArray=Ns,Sn.isArrayBuffer=Ds,Sn.isArrayLike=js,Sn.isArrayLikeObject=Ls,Sn.isBoolean=function(e){return!0===e||!1===e||Bs(e)&&dr(e)==u},Sn.isBuffer=Ms,Sn.isDate=qs,Sn.isElement=function(e){return Bs(e)&&1===e.nodeType&&!Gs(e)},Sn.isEmpty=function(e){if(null==e)return!0;if(js(e)&&(Ns(e)||"string"==typeof e||"function"==typeof e.splice||Ms(e)||Xs(e)||Rs(e)))return!e.length;var t=no(e);if(t==h||t==m)return!e.size;if(po(e))return!Tr(e).length;for(var n in e)if(Te.call(e,n))return!1;return!0},Sn.isEqual=function(e,t){return br(e,t)},Sn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===r?br(e,t,void 0,n):!!r},Sn.isError=Us,Sn.isFinite=function(e){return"number"==typeof e&&nn(e)},Sn.isFunction=Hs,Sn.isInteger=Fs,Sn.isLength=Vs,Sn.isMap=Js,Sn.isMatch=function(e,t){return e===t||Er(e,t,Xi(t))},Sn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Er(e,t,Xi(t),n)},Sn.isNaN=function(e){return zs(e)&&e!=+e},Sn.isNative=function(e){if(lo(e))throw new fe("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Cr(e)},Sn.isNil=function(e){return null==e},Sn.isNull=function(e){return null===e},Sn.isNumber=zs,Sn.isObject=$s,Sn.isObjectLike=Bs,Sn.isPlainObject=Gs,Sn.isRegExp=Ws,Sn.isSafeInteger=function(e){return Fs(e)&&e>=-9007199254740991&&e<=9007199254740991},Sn.isSet=Qs,Sn.isString=Ks,Sn.isSymbol=Ys,Sn.isTypedArray=Xs,Sn.isUndefined=function(e){return void 0===e},Sn.isWeakMap=function(e){return Bs(e)&&no(e)==E},Sn.isWeakSet=function(e){return Bs(e)&&"[object WeakSet]"==dr(e)},Sn.join=function(e,t){return null==e?"":rn.call(e,t)},Sn.kebabCase=Na,Sn.last=Uo,Sn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=r;return void 0!==n&&(i=(i=ra(n))<0?sn(r+i,0):an(i,r-1)),t==t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,i):_t(e,Ct,i,!0)},Sn.lowerCase=Da,Sn.lowerFirst=ja,Sn.lt=Zs,Sn.lte=ea,Sn.max=function(e){return e&&e.length?rr(e,za,hr):void 0},Sn.maxBy=function(e,t){return e&&e.length?rr(e,Ki(t,2),hr):void 0},Sn.mean=function(e){return wt(e,za)},Sn.meanBy=function(e,t){return wt(e,Ki(t,2))},Sn.min=function(e){return e&&e.length?rr(e,za,xr):void 0},Sn.minBy=function(e,t){return e&&e.length?rr(e,Ki(t,2),xr):void 0},Sn.stubArray=ic,Sn.stubFalse=oc,Sn.stubObject=function(){return{}},Sn.stubString=function(){return""},Sn.stubTrue=function(){return!0},Sn.multiply=pc,Sn.nth=function(e,t){return e&&e.length?Pr(e,ra(t)):void 0},Sn.noConflict=function(){return ze._===this&&(ze._=Oe),this},Sn.noop=Ya,Sn.now=vs,Sn.pad=function(e,t,n){e=aa(e);var r=(t=ra(t))?Bt(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Ri(Zt(i),n)+e+Ri(Xt(i),n)},Sn.padEnd=function(e,t,n){e=aa(e);var r=(t=ra(t))?Bt(e):0;return t&&r<t?e+Ri(t-r,n):e},Sn.padStart=function(e,t,n){e=aa(e);var r=(t=ra(t))?Bt(e):0;return t&&r<t?Ri(t-r,n)+e:e},Sn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(aa(e).replace(W,""),t||0)},Sn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&ao(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=na(e),void 0===t?(t=e,e=0):t=na(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=ln();return an(e+i*(t-e+Ve("1e-"+((i+"").length-1))),t)}return Lr(e,t)},Sn.reduce=function(e,t,n){var r=Ns(e)?ht:xt,i=arguments.length<3;return r(e,Ki(t,4),n,i,er)},Sn.reduceRight=function(e,t,n){var r=Ns(e)?vt:xt,i=arguments.length<3;return r(e,Ki(t,4),n,i,tr)},Sn.repeat=function(e,t,n){return t=(n?ao(e,t,n):void 0===t)?1:ra(t),Mr(aa(e),t)},Sn.replace=function(){var e=arguments,t=aa(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Sn.result=function(e,t,n){var r=-1,i=(t=ai(t,e)).length;for(i||(i=1,e=void 0);++r<i;){var o=null==e?void 0:e[xo(t[r])];void 0===o&&(r=i,o=n),e=Hs(o)?o.call(e):o}return e},Sn.round=fc,Sn.runInContext=e,Sn.sample=function(e){return(Ns(e)?Un:Ur)(e)},Sn.size=function(e){if(null==e)return 0;if(js(e))return Ks(e)?Bt(e):e.length;var t=no(e);return t==h||t==m?e.size:Tr(e).length},Sn.snakeCase=La,Sn.some=function(e,t,n){var r=Ns(e)?gt:zr;return n&&ao(e,t,n)&&(t=void 0),r(e,Ki(t,3))},Sn.sortedIndex=function(e,t){return Gr(e,t)},Sn.sortedIndexBy=function(e,t,n){return Wr(e,t,Ki(n,2))},Sn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=Gr(e,t);if(r<n&&Os(e[r],t))return r}return-1},Sn.sortedLastIndex=function(e,t){return Gr(e,t,!0)},Sn.sortedLastIndexBy=function(e,t,n){return Wr(e,t,Ki(n,2),!0)},Sn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Gr(e,t,!0)-1;if(Os(e[n],t))return n}return-1},Sn.startCase=Ma,Sn.startsWith=function(e,t,n){return e=aa(e),n=null==n?0:Qn(ra(n),0,e.length),t=Yr(t),e.slice(n,n+t.length)==t},Sn.subtract=dc,Sn.sum=function(e){return e&&e.length?At(e,za):0},Sn.sumBy=function(e,t){return e&&e.length?At(e,Ki(t,2)):0},Sn.template=function(e,t,n){var r=Sn.templateSettings;n&&ao(e,t,n)&&(t=void 0),e=aa(e),t=la({},t,r,Hi);var i,o,s=la({},t.imports,r.imports,Hi),a=ba(s),c=kt(s,a),u=0,l=t.interpolate||ue,p="__p += '",f=ge((t.escape||ue).source+"|"+l.source+"|"+(l===F?te:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),d="//# sourceURL="+(Te.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++qe+"]")+"\n";e.replace(f,(function(t,n,r,s,a,c){return r||(r=s),p+=e.slice(u,c).replace(le,Mt),n&&(i=!0,p+="' +\n__e("+n+") +\n'"),a&&(o=!0,p+="';\n"+a+";\n__p += '"),r&&(p+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),u=c+t.length,t})),p+="';\n";var h=Te.call(t,"variable")&&t.variable;h||(p="with (obj) {\n"+p+"\n}\n"),p=(o?p.replace(R,""):p).replace(N,"$1").replace(D,"$1;"),p="function("+(h||"obj")+") {\n"+(h?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+p+"return __p\n}";var v=Fa((function(){return de(a,d+"return "+p).apply(void 0,c)}));if(v.source=p,Us(v))throw v;return v},Sn.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,r=an(e,4294967295);e-=4294967295;for(var i=St(r,t=Ki(t));++n<e;)t(n);return i},Sn.toFinite=na,Sn.toInteger=ra,Sn.toLength=ia,Sn.toLower=function(e){return aa(e).toLowerCase()},Sn.toNumber=oa,Sn.toSafeInteger=function(e){return e?Qn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},Sn.toString=aa,Sn.toUpper=function(e){return aa(e).toUpperCase()},Sn.trim=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(G,"");if(!e||!(t=Yr(t)))return e;var r=Jt(e),i=Jt(t);return ui(r,Rt(r,i),Nt(r,i)+1).join("")},Sn.trimEnd=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(Q,"");if(!e||!(t=Yr(t)))return e;var r=Jt(e);return ui(r,0,Nt(r,Jt(t))+1).join("")},Sn.trimStart=function(e,t,n){if((e=aa(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Yr(t)))return e;var r=Jt(e);return ui(r,Rt(r,Jt(t))).join("")},Sn.truncate=function(e,t){var n=30,r="...";if($s(t)){var i="separator"in t?t.separator:i;n="length"in t?ra(t.length):n,r="omission"in t?Yr(t.omission):r}var o=(e=aa(e)).length;if(qt(e)){var s=Jt(e);o=s.length}if(n>=o)return e;var a=n-Bt(r);if(a<1)return r;var c=s?ui(s,0,a).join(""):e.slice(0,a);if(void 0===i)return c+r;if(s&&(a+=c.length-a),Ws(i)){if(e.slice(a).search(i)){var u,l=c;for(i.global||(i=ge(i.source,aa(ne.exec(i))+"g")),i.lastIndex=0;u=i.exec(l);)var p=u.index;c=c.slice(0,void 0===p?a:p)}}else if(e.indexOf(Yr(i),a)!=a){var f=c.lastIndexOf(i);f>-1&&(c=c.slice(0,f))}return c+r},Sn.unescape=function(e){return(e=aa(e))&&M.test(e)?e.replace(j,zt):e},Sn.uniqueId=function(e){var t=++Ie;return aa(e)+t},Sn.upperCase=qa,Sn.upperFirst=Ua,Sn.each=as,Sn.eachRight=cs,Sn.first=jo,Ka(Sn,(lc={},cr(Sn,(function(e,t){Te.call(Sn.prototype,t)||(lc[t]=e)})),lc),{chain:!1}),Sn.VERSION="4.17.19",st(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Sn[e].placeholder=Sn})),st(["drop","take"],(function(e,t){Rn.prototype[e]=function(n){n=void 0===n?1:sn(ra(n),0);var r=this.__filtered__&&!t?new Rn(this):this.clone();return r.__filtered__?r.__takeCount__=an(n,r.__takeCount__):r.__views__.push({size:an(n,4294967295),type:e+(r.__dir__<0?"Right":"")}),r},Rn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),st(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Rn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Ki(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),st(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Rn.prototype[e]=function(){return this[n](1).value()[0]}})),st(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Rn.prototype[e]=function(){return this.__filtered__?new Rn(this):this[n](1)}})),Rn.prototype.compact=function(){return this.filter(za)},Rn.prototype.find=function(e){return this.filter(e).head()},Rn.prototype.findLast=function(e){return this.reverse().find(e)},Rn.prototype.invokeMap=qr((function(e,t){return"function"==typeof e?new Rn(this):this.map((function(n){return mr(n,e,t)}))})),Rn.prototype.reject=function(e){return this.filter(Ts(Ki(e)))},Rn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Rn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Rn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Rn.prototype.toArray=function(){return this.take(4294967295)},cr(Rn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=Sn[r?"take"+("last"==t?"Right":""):t],o=r||/^find/.test(t);i&&(Sn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,a=t instanceof Rn,c=s[0],u=a||Ns(t),l=function(e){var t=i.apply(Sn,dt([e],s));return r&&p?t[0]:t};u&&n&&"function"==typeof c&&1!=c.length&&(a=u=!1);var p=this.__chain__,f=!!this.__actions__.length,d=o&&!p,h=a&&!f;if(!o&&u){t=h?t:new Rn(this);var v=e.apply(t,s);return v.__actions__.push({func:ns,args:[l],thisArg:void 0}),new Pn(v,p)}return d&&h?e.apply(this,s):(v=this.thru(l),d?r?v.value()[0]:v.value():v)})})),st(["pop","push","shift","sort","splice","unshift"],(function(e){var t=_e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Sn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Ns(i)?i:[],e)}return this[n]((function(n){return t.apply(Ns(n)?n:[],e)}))}})),cr(Rn.prototype,(function(e,t){var n=Sn[t];if(n){var r=n.name+"";Te.call(_n,r)||(_n[r]=[]),_n[r].push({name:t,func:n})}})),_n[Si(void 0,2).name]=[{name:"wrapper",func:void 0}],Rn.prototype.clone=function(){var e=new Rn(this.__wrapped__);return e.__actions__=yi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yi(this.__views__),e},Rn.prototype.reverse=function(){if(this.__filtered__){var e=new Rn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Rn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Ns(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],s=o.size;switch(o.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=an(t,e+s);break;case"takeRight":e=sn(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=o.start,a=o.end,c=a-s,u=r?a:s-1,l=this.__iteratees__,p=l.length,f=0,d=an(c,this.__takeCount__);if(!n||!r&&i==c&&d==c)return ni(e,this.__actions__);var h=[];e:for(;c--&&f<d;){for(var v=-1,g=e[u+=t];++v<p;){var y=l[v],m=y.iteratee,_=y.type,b=m(g);if(2==_)g=b;else if(!b){if(1==_)continue e;break e}}h[f++]=g}return h},Sn.prototype.at=rs,Sn.prototype.chain=function(){return ts(this)},Sn.prototype.commit=function(){return new Pn(this.value(),this.__chain__)},Sn.prototype.next=function(){void 0===this.__values__&&(this.__values__=ta(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},Sn.prototype.plant=function(e){for(var t,n=this;n instanceof kn;){var r=So(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t},Sn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Rn){var t=e;return this.__actions__.length&&(t=new Rn(this)),(t=t.reverse()).__actions__.push({func:ns,args:[$o],thisArg:void 0}),new Pn(t,this.__chain__)}return this.thru($o)},Sn.prototype.toJSON=Sn.prototype.valueOf=Sn.prototype.value=function(){return ni(this.__wrapped__,this.__actions__)},Sn.prototype.first=Sn.prototype.head,yt&&(Sn.prototype[yt]=function(){return this}),Sn}();ze._=Gt,void 0===(r=function(){return Gt}.call(t,n,t,e))||(e.exports=r)}).call(this)}).call(this,n(55)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(26),o=function(){function e(){}return e.getCurrentContext=function(){if(!e.enabled)return null;var t=e.session.get(e.CONTEXT_NAME);return void 0===t?null:t},e.generateContextObject=function(e,t,n,r,i,o){return t=t||e,this.enabled?{operation:{name:n,id:e,parentId:t,traceparent:i,tracestate:o},customProperties:new s(r)}:null},e.runWithContext=function(t,n){return e.enabled?e.session.bind(n,((r={})[e.CONTEXT_NAME]=t,r))():n();var r},e.wrapEmitter=function(t){e.enabled&&e.session.bindEmitter(t)},e.wrapCallback=function(t){return e.enabled?e.session.bind(t):t},e.enable=function(t){this.enabled||(this.isNodeVersionCompatible()?(e.hasEverEnabled||(this.forceClsHooked=t,this.hasEverEnabled=!0,void 0===this.cls&&(!0===e.forceClsHooked||void 0===e.forceClsHooked&&e.shouldUseClsHooked()?this.cls=n(78):this.cls=n(89)),e.session=this.cls.createNamespace("AI-CLS-Session"),i.registerContextPreservation((function(t){return e.session.bind(t)}))),this.enabled=!0):this.enabled=!1)},e.disable=function(){this.enabled=!1},e.reset=function(){e.hasEverEnabled&&(e.session=null,e.session=this.cls.createNamespace("AI-CLS-Session"))},e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>3||parseInt(e[0])>2&&parseInt(e[1])>2},e.shouldUseClsHooked=function(){var e=process.versions.node.split(".");return parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=2},e.canUseClsHooked=function(){var e=process.versions.node.split("."),t=parseInt(e[0])>8||parseInt(e[0])>=8&&parseInt(e[1])>=0,n=parseInt(e[0])<8||parseInt(e[0])<=8&&parseInt(e[1])<2,r=parseInt(e[0])>4||parseInt(e[0])>=4&&parseInt(e[1])>=7;return!(t&&n)&&r},e.enabled=!1,e.hasEverEnabled=!1,e.forceClsHooked=void 0,e.CONTEXT_NAME="ApplicationInsights-Context",e}();t.CorrelationContextManager=o;var s=function(){function e(e){this.props=[],this.addHeaderData(e)}return e.prototype.addHeaderData=function(e){var t=e?e.split(", "):[];this.props=t.map((function(e){var t=e.split("=");return{key:t[0],value:t[1]}})).concat(this.props)},e.prototype.serializeToHeader=function(){return this.props.map((function(e){return e.key+"="+e.value})).join(", ")},e.prototype.getProperty=function(e){for(var t=0;t<this.props.length;++t){var n=this.props[t];if(n.key===e)return n.value}},e.prototype.setProperty=function(t,n){if(e.bannedCharacters.test(t)||e.bannedCharacters.test(n))r.warn("Correlation context property keys and values must not contain ',' or '='. setProperty was called with key: "+t+" and value: "+n);else{for(var i=0;i<this.props.length;++i){var o=this.props[i];if(o.key===t)return void(o.value=n)}this.props.push({key:t,value:n})}},e.bannedCharacters=/[,=]/,e}()},function(e,t,n){"use strict";var r,i,o;Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_BREEZE_ENDPOINT="https://dc.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_ENDPOINT="https://rt.services.visualstudio.com",t.DEFAULT_LIVEMETRICS_HOST="rt.services.visualstudio.com",function(e){e.COMMITTED_BYTES="\\Memory\\Committed Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.REQUEST_RATE="\\ApplicationInsights\\Requests/Sec",e.REQUEST_FAILURE_RATE="\\ApplicationInsights\\Requests Failed/Sec",e.REQUEST_DURATION="\\ApplicationInsights\\Request Duration",e.DEPENDENCY_RATE="\\ApplicationInsights\\Dependency Calls/Sec",e.DEPENDENCY_FAILURE_RATE="\\ApplicationInsights\\Dependency Calls Failed/Sec",e.DEPENDENCY_DURATION="\\ApplicationInsights\\Dependency Call Duration",e.EXCEPTION_RATE="\\ApplicationInsights\\Exceptions/Sec"}(r=t.QuickPulseCounter||(t.QuickPulseCounter={})),function(e){e.PRIVATE_BYTES="\\Process(??APP_WIN32_PROC??)\\Private Bytes",e.AVAILABLE_BYTES="\\Memory\\Available Bytes",e.PROCESSOR_TIME="\\Processor(_Total)\\% Processor Time",e.PROCESS_TIME="\\Process(??APP_WIN32_PROC??)\\% Processor Time",e.REQUEST_RATE="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Requests/Sec",e.REQUEST_DURATION="\\ASP.NET Applications(??APP_W3SVC_PROC??)\\Request Execution Time"}(i=t.PerformanceCounter||(t.PerformanceCounter={})),t.PerformanceToQuickPulseCounter=((o={})[i.PROCESSOR_TIME]=r.PROCESSOR_TIME,o[i.REQUEST_RATE]=r.REQUEST_RATE,o[i.REQUEST_DURATION]=r.REQUEST_DURATION,o[r.COMMITTED_BYTES]=r.COMMITTED_BYTES,o[r.REQUEST_FAILURE_RATE]=r.REQUEST_FAILURE_RATE,o[r.DEPENDENCY_RATE]=r.DEPENDENCY_RATE,o[r.DEPENDENCY_FAILURE_RATE]=r.DEPENDENCY_FAILURE_RATE,o[r.DEPENDENCY_DURATION]=r.DEPENDENCY_DURATION,o[r.EXCEPTION_RATE]=r.EXCEPTION_RATE,o),t.QuickPulseDocumentType={Event:"Event",Exception:"Exception",Trace:"Trace",Metric:"Metric",Request:"Request",Dependency:"RemoteDependency",Availability:"Availability"},t.QuickPulseType={Event:"EventTelemetryDocument",Exception:"ExceptionTelemetryDocument",Trace:"TraceTelemetryDocument",Metric:"MetricTelemetryDocument",Request:"RequestTelemetryDocument",Dependency:"DependencyTelemetryDocument",Availability:"AvailabilityTelemetryDocument"},t.TelemetryTypeStringToQuickPulseType={EventData:t.QuickPulseType.Event,ExceptionData:t.QuickPulseType.Exception,MessageData:t.QuickPulseType.Trace,MetricData:t.QuickPulseType.Metric,RequestData:t.QuickPulseType.Request,RemoteDependencyData:t.QuickPulseType.Dependency,AvailabilityData:t.QuickPulseType.Availability},t.TelemetryTypeStringToQuickPulseDocumentType={EventData:t.QuickPulseDocumentType.Event,ExceptionData:t.QuickPulseDocumentType.Exception,MessageData:t.QuickPulseDocumentType.Trace,MetricData:t.QuickPulseDocumentType.Metric,RequestData:t.QuickPulseDocumentType.Request,RemoteDependencyData:t.QuickPulseDocumentType.Dependency,AvailabilityData:t.QuickPulseDocumentType.Availability}},function(e,t){e.exports=require("url")},function(e,t,n){"use strict";e.exports={requestContextHeader:"request-context",requestContextSourceKey:"appId",requestContextTargetKey:"appId",requestIdHeader:"request-id",parentIdHeader:"x-ms-request-id",rootIdHeader:"x-ms-request-root-id",correlationContextHeader:"correlation-context",traceparentHeader:"traceparent",traceStateHeader:"tracestate"}},function(e,t){e.exports=require("http")},function(e,t){e.exports=require("child_process")},function(e,t,n){"use strict";var r=n(18),i=n(21),o=n(2),s=n(5),a=n(17),c=n(118),u=n(14),l=n(12),p=n(49),f=n(26),d=function(){function e(t){if(e.INSTANCE)throw new Error("Client request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,this._isEnabled&&!this._isInitialized&&this._initialize(),f.IsInitialized&&(n(119).enable(e,this._client),n(120).enable(e,this._client),n(121).enable(e,this._client),n(122).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;r.get;var n=r.request,o=i.request,s=function(n,r){var i=!r[e.disableCollectionRequestOption]&&!n[e.alreadyAutoCollectedFlag];n[e.alreadyAutoCollectedFlag]=!0,n&&r&&i&&(u.CorrelationContextManager.wrapEmitter(n),e.trackRequest(t._client,{options:r,request:n}))};r.request=function(e){for(var t=[],i=1;i<arguments.length;i++)t[i-1]=arguments[i];var o=n.call.apply(n,[r,e].concat(t));return s(o,e),o},i.request=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=o.call.apply(o,[i,e].concat(t));return s(r,e),r},r.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i,o=(i=r.request).call.apply(i,[r,e].concat(t));return o.end(),o},i.get=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r,o=(r=i.request).call.apply(r,[i,e].concat(t));return o.end(),o}},e.trackRequest=function(t,n){if(n.options&&n.request&&t){var r,i,f=new c(n.options,n.request),d=u.CorrelationContextManager.getCurrentContext();if(d&&d.operation&&d.operation.traceparent&&p.isValidTraceId(d.operation.traceparent.traceId))d.operation.traceparent.updateSpanId(),r=d.operation.traceparent.getBackCompatRequestId();else if(l.w3cEnabled){i=(v=new p).toString(),r=v.getBackCompatRequestId()}else r=d&&d.operation&&d.operation.parentId+e.requestNumber+++".";if(s.canIncludeCorrelationHeader(t,f.getUrl())&&n.request.getHeader&&n.request.setHeader&&t.config&&t.config.correlationId){var h=n.request.getHeader(a.requestContextHeader);try{s.safeIncludeCorrelationHeader(t,n.request,h)}catch(e){o.warn("Request-Context header could not be set. Correlation of requests may be lost",e)}if(d&&d.operation)try{if(n.request.setHeader(a.requestIdHeader,r),n.request.setHeader(a.parentIdHeader,d.operation.id),n.request.setHeader(a.rootIdHeader,r),i||d.operation.traceparent)n.request.setHeader(a.traceparentHeader,i||d.operation.traceparent.toString());else if(l.w3cEnabled){var v=(new p).toString();n.request.setHeader(a.traceparentHeader,v)}if(d.operation.tracestate){var g=d.operation.tracestate.toString();g&&n.request.setHeader(a.traceStateHeader,g)}var y=d.customProperties.serializeToHeader();y&&n.request.setHeader(a.correlationContextHeader,y)}catch(e){o.warn("Correlation headers could not be set. Correlation of requests may be lost.",e)}}n.request.on&&(n.request.on("response",(function(e){f.onResponse(e);var i=f.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects["http.ClientResponse"]=e,t.trackDependency(i)})),n.request.on("error",(function(e){f.onError(e);var i=f.getDependencyTelemetry(n,r);i.contextObjects=i.contextObjects||{},i.contextObjects["http.RequestOptions"]=n.options,i.contextObjects["http.ClientRequest"]=n.request,i.contextObjects.Error=e,t.trackDependency(i)})))}else o.info("AutoCollectHttpDependencies.trackRequest was called with invalid parameters: ",!n.options,!n.request,!t)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.disableCollectionRequestOption="disableAppInsightsAutoCollection",e.requestNumber=1,e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=d},function(e,t){e.exports=require("https")},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(9);function s(e,...t){return r(this,void 0,void 0,(function*(){const n=o.getJavaExtension();if(!n)throw new o.JavaExtensionNotEnabledError(`Cannot execute command ${e}, VS Code Java Extension is not enabled.`);return n.isActive||(yield n.activate()),i.commands.executeCommand(e,...t)}))}t.VSCODE_STARTDEBUG="vscode.startDebug",t.VSCODE_ADD_DEBUGCONFIGURATION="debug.addConfiguration",t.JAVA_START_DEBUGSESSION="vscode.java.startDebugSession",t.JAVA_RESOLVE_CLASSPATH="vscode.java.resolveClasspath",t.JAVA_RESOLVE_MAINCLASS="vscode.java.resolveMainClass",t.JAVA_VALIDATE_LAUNCHCONFIG="vscode.java.validateLaunchConfig",t.JAVA_BUILD_WORKSPACE="java.workspace.compile",t.JAVA_EXECUTE_WORKSPACE_COMMAND="java.execute.workspaceCommand",t.JAVA_FETCH_USAGE_DATA="vscode.java.fetchUsageData",t.JAVA_UPDATE_DEBUG_SETTINGS="vscode.java.updateDebugSettings",t.JAVA_RESOLVE_MAINMETHOD="vscode.java.resolveMainMethod",t.JAVA_INFER_LAUNCH_COMMAND_LENGTH="vscode.java.inferLaunchCommandLength",t.JAVA_CHECK_PROJECT_SETTINGS="vscode.java.checkProjectSettings",t.JAVA_RESOLVE_ELEMENT_AT_SELECTION="vscode.java.resolveElementAtSelection",t.JAVA_RESOLVE_BUILD_FILES="vscode.java.resolveBuildFiles",t.JAVA_IS_ON_CLASSPATH="vscode.java.isOnClasspath",t.JAVA_RESOLVE_JAVAEXECUTABLE="vscode.java.resolveJavaExecutable",t.JAVA_FETCH_PLATFORM_SETTINGS="vscode.java.fetchPlatformSettings",t.JAVA_RESOLVE_CLASSFILTERS="vscode.java.resolveClassFilters",t.JAVA_RESOLVE_SOURCE_URI="vscode.java.resolveSourceUri",t.executeJavaLanguageServerCommand=function(...e){return s(t.JAVA_EXECUTE_WORKSPACE_COMMAND,...e)},t.executeJavaExtensionCommand=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(10),i=n(36);var o;!function(e){e.EXCEPTION="exception",e.USAGEDATA="usageData",e.USAGEERROR="usageError",e.ACTIVATEEXTENSION="activateExtension"}(o=t.Type||(t.Type={}));const s=["message","stacktrace","detailmessage"];t.logger=new class{constructor(){this.reporter=null}initialize(e,t){if(this.reporter)return;const n=JSON.parse(r.readFileSync(e.asAbsolutePath("./package.json"),"utf-8"));if(n){const e=n.aiKey instanceof Array?n.aiKey[0]:n.aiKey,r={name:n.name,version:n.version,aiKey:e};r.aiKey&&(this.reporter=new i.default(r.name,r.version,r.aiKey,t))}}log(e,t,n){this.reporter&&(e===o.EXCEPTION||e===o.USAGEERROR?this.reporter.sendTelemetryErrorEvent(e,t,n,s):this.reporter.sendTelemetryEvent(e,t,n))}logMessage(e,t){this.log(e,{message:t})}dispose(){this.reporter&&this.reporter.dispose()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LS_FAILS_TO_START="java-language-support-extension-fails-to-start",t.FAILED_TO_RESOLVE_CLASSPATH="failed-to-resolve-classpath",t.REQUEST_TYPE_NOT_SUPPORTED="request-type-xyz-is-not-supported-only-launch-and-attach-are-supported",t.FAILED_TO_COMPLETE_HCR="failed-to-complete-hot-code-replace",t.ATTACH_CONFIG_ERROR="please-specify-the-host-name-and-the-port-of-the-remote-debuggee-in-the-launchjson",t.EVALUATE_ON_RUNNING_THREAD="failed-to-evaluate-reason-cannot-evaluate-because-the-thread-is-resumed",t.CANNOT_FIND_MAIN_CLASS="cannot-find-a-class-with-the-main-method",t.BUILD_FAILED="build-failed-do-you-want-to-continue",t.UNSUPPORTED_CLASS_VERSION_ERROR="program-throws-unsupportedclassversionerror"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JAVA_LANGID="java",t.HCR_EVENT="hotcodereplace",t.USER_NOTIFICATION_EVENT="usernotification"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.IsInitialized=!process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL;var i="DiagnosticChannel";if(t.IsInitialized){var o=n(60),s=(process.env.APPLICATION_INSIGHTS_NO_PATCH_MODULES||"").split(","),a={bunyan:o.bunyan,console:o.console,mongodb:o.mongodb,mongodbCore:o.mongodbCore,mysql:o.mysql,redis:o.redis,pg:o.pg,pgPool:o.pgPool,winston:o.winston};for(var c in a)-1===s.indexOf(c)&&(a[c].enable(),r.info(i,"Subscribed to "+c+" events"));s.length>0&&r.info(i,"Some modules will not be patched",s)}else r.info(i,"Not subscribing to dependency autocollection because APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL was set");t.registerContextPreservation=function(e){t.IsInitialized&&n(0).channel.addContextPreservation(e)}},function(e,t){var n;t=e.exports=J,n="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var r=Number.MAX_SAFE_INTEGER||9007199254740991,i=t.re=[],o=t.src=[],s=0,a=s++;o[a]="0|[1-9]\\d*";var c=s++;o[c]="[0-9]+";var u=s++;o[u]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var l=s++;o[l]="("+o[a]+")\\.("+o[a]+")\\.("+o[a]+")";var p=s++;o[p]="("+o[c]+")\\.("+o[c]+")\\.("+o[c]+")";var f=s++;o[f]="(?:"+o[a]+"|"+o[u]+")";var d=s++;o[d]="(?:"+o[c]+"|"+o[u]+")";var h=s++;o[h]="(?:-("+o[f]+"(?:\\."+o[f]+")*))";var v=s++;o[v]="(?:-?("+o[d]+"(?:\\."+o[d]+")*))";var g=s++;o[g]="[0-9A-Za-z-]+";var y=s++;o[y]="(?:\\+("+o[g]+"(?:\\."+o[g]+")*))";var m=s++,_="v?"+o[l]+o[h]+"?"+o[y]+"?";o[m]="^"+_+"$";var b="[v=\\s]*"+o[p]+o[v]+"?"+o[y]+"?",E=s++;o[E]="^"+b+"$";var C=s++;o[C]="((?:<|>)?=?)";var w=s++;o[w]=o[c]+"|x|X|\\*";var T=s++;o[T]=o[a]+"|x|X|\\*";var I=s++;o[I]="[v=\\s]*("+o[T]+")(?:\\.("+o[T]+")(?:\\.("+o[T]+")(?:"+o[h]+")?"+o[y]+"?)?)?";var x=s++;o[x]="[v=\\s]*("+o[w]+")(?:\\.("+o[w]+")(?:\\.("+o[w]+")(?:"+o[v]+")?"+o[y]+"?)?)?";var A=s++;o[A]="^"+o[C]+"\\s*"+o[I]+"$";var S=s++;o[S]="^"+o[C]+"\\s*"+o[x]+"$";var O=s++;o[O]="(?:~>?)";var k=s++;o[k]="(\\s*)"+o[O]+"\\s+",i[k]=new RegExp(o[k],"g");var P=s++;o[P]="^"+o[O]+o[I]+"$";var R=s++;o[R]="^"+o[O]+o[x]+"$";var N=s++;o[N]="(?:\\^)";var D=s++;o[D]="(\\s*)"+o[N]+"\\s+",i[D]=new RegExp(o[D],"g");var j=s++;o[j]="^"+o[N]+o[I]+"$";var L=s++;o[L]="^"+o[N]+o[x]+"$";var M=s++;o[M]="^"+o[C]+"\\s*("+b+")$|^$";var q=s++;o[q]="^"+o[C]+"\\s*("+_+")$|^$";var U=s++;o[U]="(\\s*)"+o[C]+"\\s*("+b+"|"+o[I]+")",i[U]=new RegExp(o[U],"g");var H=s++;o[H]="^\\s*("+o[I]+")\\s+-\\s+("+o[I]+")\\s*$";var F=s++;o[F]="^\\s*("+o[x]+")\\s+-\\s+("+o[x]+")\\s*$";var V=s++;o[V]="(<|>)?=?\\s*\\*";for(var $=0;$<34;$++)n($,o[$]),i[$]||(i[$]=new RegExp(o[$]));function B(e,t){if(e instanceof J)return e;if("string"!=typeof e)return null;if(e.length>256)return null;if(!(t?i[E]:i[m]).test(e))return null;try{return new J(e,t)}catch(e){return null}}function J(e,t){if(e instanceof J){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>256)throw new TypeError("version is longer than 256 characters");if(!(this instanceof J))return new J(e,t);n("SemVer",e,t),this.loose=t;var o=e.trim().match(t?i[E]:i[m]);if(!o)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>r||this.major<0)throw new TypeError("Invalid major version");if(this.minor>r||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>r||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<r)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}t.parse=B,t.valid=function(e,t){var n=B(e,t);return n?n.version:null},t.clean=function(e,t){var n=B(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null},t.SemVer=J,J.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},J.prototype.toString=function(){return this.version},J.prototype.compare=function(e){return n("SemVer.compare",this.version,this.loose,e),e instanceof J||(e=new J(e,this.loose)),this.compareMain(e)||this.comparePre(e)},J.prototype.compareMain=function(e){return e instanceof J||(e=new J(e,this.loose)),G(this.major,e.major)||G(this.minor,e.minor)||G(this.patch,e.patch)},J.prototype.comparePre=function(e){if(e instanceof J||(e=new J(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return G(r,i)}while(++t)},J.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);-1===n&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new J(e,n).inc(t,r).version}catch(e){return null}},t.diff=function(e,t){if(Y(e,t))return null;var n=B(e),r=B(t);if(n.prerelease.length||r.prerelease.length){for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return"pre"+i;return"prerelease"}for(var i in n)if(("major"===i||"minor"===i||"patch"===i)&&n[i]!==r[i])return i},t.compareIdentifiers=G;var z=/^[0-9]+$/;function G(e,t){var n=z.test(e),r=z.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function W(e,t,n){return new J(e,n).compare(new J(t,n))}function Q(e,t,n){return W(e,t,n)>0}function K(e,t,n){return W(e,t,n)<0}function Y(e,t,n){return 0===W(e,t,n)}function X(e,t,n){return 0!==W(e,t,n)}function Z(e,t,n){return W(e,t,n)>=0}function ee(e,t,n){return W(e,t,n)<=0}function te(e,t,n,r){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),i=e!==n;break;case"":case"=":case"==":i=Y(e,n,r);break;case"!=":i=X(e,n,r);break;case">":i=Q(e,n,r);break;case">=":i=Z(e,n,r);break;case"<":i=K(e,n,r);break;case"<=":i=ee(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return i}function ne(e,t){if(e instanceof ne){if(e.loose===t)return e;e=e.value}if(!(this instanceof ne))return new ne(e,t);n("comparator",e,t),this.loose=t,this.parse(e),this.semver===re?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return G(t,e)},t.major=function(e,t){return new J(e,t).major},t.minor=function(e,t){return new J(e,t).minor},t.patch=function(e,t){return new J(e,t).patch},t.compare=W,t.compareLoose=function(e,t){return W(e,t,!0)},t.rcompare=function(e,t,n){return W(t,e,n)},t.sort=function(e,n){return e.sort((function(e,r){return t.compare(e,r,n)}))},t.rsort=function(e,n){return e.sort((function(e,r){return t.rcompare(e,r,n)}))},t.gt=Q,t.lt=K,t.eq=Y,t.neq=X,t.gte=Z,t.lte=ee,t.cmp=te,t.Comparator=ne;var re={};function ie(e,t){if(e instanceof ie)return e.loose===t?e:new ie(e.raw,t);if(e instanceof ne)return new ie(e.value,t);if(!(this instanceof ie))return new ie(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((function(e){return this.parseRange(e.trim())}),this).filter((function(e){return e.length})),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function oe(e){return!e||"x"===e.toLowerCase()||"*"===e}function se(e,t,n,r,i,o,s,a,c,u,l,p,f){return((t=oe(n)?"":oe(r)?">="+n+".0.0":oe(i)?">="+n+"."+r+".0":">="+t)+" "+(a=oe(c)?"":oe(u)?"<"+(+c+1)+".0.0":oe(l)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+l+"-"+p:"<="+a)).trim()}function ae(e,t){for(var r=0;r<e.length;r++)if(!e[r].test(t))return!1;if(t.prerelease.length){for(r=0;r<e.length;r++)if(n(e[r].semver),e[r].semver!==re&&e[r].semver.prerelease.length>0){var i=e[r].semver;if(i.major===t.major&&i.minor===t.minor&&i.patch===t.patch)return!0}return!1}return!0}function ce(e,t,n){try{t=new ie(t,n)}catch(e){return!1}return t.test(e)}function ue(e,t,n,r){var i,o,s,a,c;switch(e=new J(e,r),t=new ie(t,r),n){case">":i=Q,o=ee,s=K,a=">",c=">=";break;case"<":i=K,o=Z,s=Q,a="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(ce(e,t,r))return!1;for(var u=0;u<t.set.length;++u){var l=t.set[u],p=null,f=null;if(l.forEach((function(e){e.semver===re&&(e=new ne(">=0.0.0")),p=p||e,f=f||e,i(e.semver,p.semver,r)?p=e:s(e.semver,f.semver,r)&&(f=e)})),p.operator===a||p.operator===c)return!1;if((!f.operator||f.operator===a)&&o(e,f.semver))return!1;if(f.operator===c&&s(e,f.semver))return!1}return!0}ne.prototype.parse=function(e){var t=this.loose?i[M]:i[q],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new J(n[2],this.loose):this.semver=re},ne.prototype.toString=function(){return this.value},ne.prototype.test=function(e){return n("Comparator.test",e,this.loose),this.semver===re||("string"==typeof e&&(e=new J(e,this.loose)),te(e,this.operator,this.semver,this.loose))},ne.prototype.intersects=function(e,t){if(!(e instanceof ne))throw new TypeError("a Comparator is required");var n;if(""===this.operator)return n=new ie(e.value,t),ce(this.value,n,t);if(""===e.operator)return n=new ie(this.value,t),ce(e.semver,n,t);var r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=te(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=te(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||i||o&&s||a||c},t.Range=ie,ie.prototype.format=function(){return this.range=this.set.map((function(e){return e.join(" ").trim()})).join("||").trim(),this.range},ie.prototype.toString=function(){return this.range},ie.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),n("range",e,t);var r=t?i[F]:i[H];e=e.replace(r,se),n("hyphen replace",e),e=e.replace(i[U],"$1$2$3"),n("comparator trim",e,i[U]),e=(e=(e=e.replace(i[k],"$1~")).replace(i[D],"$1^")).split(/\s+/).join(" ");var o=t?i[M]:i[q],s=e.split(" ").map((function(e){return function(e,t){return n("comp",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){n("caret",e,t);var r=t?i[L]:i[j];return e.replace(r,(function(t,r,i,o,s){var a;return n("caret",e,t,r,i,o,s),oe(r)?a="":oe(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":oe(o)?a="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":s?(n("replaceCaret pr",s),"-"!==s.charAt(0)&&(s="-"+s),a="0"===r?"0"===i?">="+r+"."+i+"."+o+s+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+s+" <"+(+r+1)+".0.0"):(n("no pr"),a="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",a),a}))}(e,t)})).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map((function(e){return function(e,t){var r=t?i[R]:i[P];return e.replace(r,(function(t,r,i,o,s){var a;return n("tilde",e,t,r,i,o,s),oe(r)?a="":oe(i)?a=">="+r+".0.0 <"+(+r+1)+".0.0":oe(o)?a=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":s?(n("replaceTilde pr",s),"-"!==s.charAt(0)&&(s="-"+s),a=">="+r+"."+i+"."+o+s+" <"+r+"."+(+i+1)+".0"):a=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",a),a}))}(e,t)})).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map((function(e){return function(e,t){e=e.trim();var r=t?i[S]:i[A];return e.replace(r,(function(t,r,i,o,s,a){n("xRange",e,t,r,i,o,s,a);var c=oe(i),u=c||oe(o),l=u||oe(s);return"="===r&&l&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&l?(u&&(o=0),l&&(s=0),">"===r?(r=">=",u?(i=+i+1,o=0,s=0):l&&(o=+o+1,s=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+s):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":l&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t}))}(e,t)})).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(i[V],"")}(e,t),n("stars",e),e}(e,t)})).join(" ").split(/\s+/);return this.loose&&(s=s.filter((function(e){return!!e.match(o)}))),s=s.map((function(e){return new ne(e,t)}))},ie.prototype.intersects=function(e,t){if(!(e instanceof ie))throw new TypeError("a Range is required");return this.set.some((function(n){return n.every((function(n){return e.set.some((function(e){return e.every((function(e){return n.intersects(e,t)}))}))}))}))},t.toComparators=function(e,t){return new ie(e,t).set.map((function(e){return e.map((function(e){return e.value})).join(" ").trim().split(" ")}))},ie.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new J(e,this.loose));for(var t=0;t<this.set.length;t++)if(ae(this.set[t],e))return!0;return!1},t.satisfies=ce,t.maxSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ie(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&-1!==i.compare(e)||(i=new J(r=e,n)))})),r},t.minSatisfying=function(e,t,n){var r=null,i=null;try{var o=new ie(t,n)}catch(e){return null}return e.forEach((function(e){o.test(e)&&(r&&1!==i.compare(e)||(i=new J(r=e,n)))})),r},t.validRange=function(e,t){try{return new ie(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,n){return ue(e,t,"<",n)},t.gtr=function(e,t,n){return ue(e,t,">",n)},t.outside=ue,t.prerelease=function(e,t){var n=B(e,t);return n&&n.prerelease.length?n.prerelease:null},t.intersects=function(e,t,n){return e=new ie(e,n),t=new ie(t,n),e.intersects(t)}},function(e,t){e.exports=require("util")},function(e,t){e.exports=require("assert")},function(e,t,n){"use strict";var r=n(31),i=r.wrap,o=r.unwrap,s="wrap@before";function a(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function c(e,t){var n;return n=e._events&&e._events[t],Array.isArray(n)||(n=n?[n]:[]),n}function u(e,t,n){var r=c(e,t).filter((function(e){return-1===n.indexOf(e)}));r.length>0&&function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r],o=e[s];if("function"==typeof o)o(i);else if(Array.isArray(o))for(var a=o.length,c=0;c<a;c++)o[c](i)}}(e,r)}function l(e,t){if(e){var n=e;if("function"==typeof e)n=t(e);else if(Array.isArray(e)){n=[];for(var r=0;r<e.length;r++)n[r]=t(e[r])}return n}}e.exports=function(e,t,n){if(!(e&&e.on&&e.addListener&&e.removeListener&&e.emit))throw new Error("can only wrap real EEs");if(!t)throw new Error("must have function to run on listener addition");if(!n)throw new Error("must have function to wrap listeners when emitting");function r(e){return function(t,n){var o=c(this,t).slice();try{var s=e.call(this,t,n);return u(this,t,o),s}finally{this.on.__wrapped||i(this,"on",r),this.addListener.__wrapped||i(this,"addListener",r)}}}e[s]?"function"==typeof e[s]?a(e,s,[e[s],t]):Array.isArray(e[s])&&e[s].push(t):a(e,s,t),e.__wrapped||(i(e,"addListener",r),i(e,"on",r),i(e,"emit",(function(e){return function(t){if(!this._events||!this._events[t])return e.apply(this,arguments);var r=this._events[t];function s(e){return function(){this._events[t]=r;try{return e.apply(this,arguments)}finally{r=this._events[t],this._events[t]=l(r,n)}}}i(this,"removeListener",s);try{return this._events[t]=l(r,n),e.apply(this,arguments)}finally{o(this,"removeListener"),this._events[t]=r}}})),a(e,"__unwrap",(function(){o(e,"addListener"),o(e,"on"),o(e,"emit"),delete e[s],delete e.__wrapped})),a(e,"__wrapped",!0))}},function(e,t,n){"use strict";function r(e){return"function"==typeof e}var i=console.error.bind(console);function o(e,t,n){var r=!!e[t]&&e.propertyIsEnumerable(t);Object.defineProperty(e,t,{configurable:!0,enumerable:r,writable:!0,value:n})}function s(e){e&&e.logger&&(r(e.logger)?i=e.logger:i("new logger isn't a function, not replacing"))}function a(e,t,n){if(e&&e[t]){if(!n)return i("no wrapper function"),void i((new Error).stack);if(r(e[t])&&r(n)){var s=e[t],a=n(s,t);return o(a,"__original",s),o(a,"__unwrap",(function(){e[t]===a&&o(e,t,s)})),o(a,"__wrapped",!0),o(e,t,a),a}i("original object and wrapper must be functions")}else i("no original function "+t+" to wrap")}function c(e,t){return e&&e[t]?e[t].__unwrap?e[t].__unwrap():void i("no original to unwrap to -- has "+t+" already been unwrapped?"):(i("no function to unwrap."),void i((new Error).stack))}s.wrap=a,s.massWrap=function(e,t,n){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){a(e,t,n)}))})):i("must provide one or more functions to wrap on modules")},s.unwrap=c,s.massUnwrap=function(e,t){if(!e)return i("must provide one or more modules to patch"),void i((new Error).stack);Array.isArray(e)||(e=[e]),t&&Array.isArray(t)?e.forEach((function(e){t.forEach((function(t){c(e,t)}))})):i("must provide one or more functions to unwrap on modules")},e.exports=s},function(e,t,n){"use strict";var r=n(11),i=n(15),o=function(){function e(t,n,r){void 0===n&&(n=6e4),void 0===r&&(r=!1),this._lastIntervalRequestExecutionTime=0,this._lastIntervalDependencyExecutionTime=0,e.INSTANCE||(e.INSTANCE=this),this._isInitialized=!1,this._client=t,this._collectionInterval=n,this._enableLiveMetricsCounters=r}return e.prototype.enable=function(t,n){var i=this;this._isEnabled=t,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),t?this._handle||(this._lastCpus=r.cpus(),this._lastRequests={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},this._lastDependencies={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},this._lastExceptions={totalExceptionCount:e._totalExceptionCount,time:+new Date},"function"==typeof process.cpuUsage&&(this._lastAppCpuUsage=process.cpuUsage()),this._lastHrtime=process.hrtime(),this._collectionInterval=n||this._collectionInterval,this._handle=setInterval((function(){return i.trackPerformance()}),this._collectionInterval),this._handle.unref()):this._handle&&(clearInterval(this._handle),this._handle=void 0)},e.countRequest=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalRequestExecutionTime+=r,!1===n&&e._totalFailedRequestCount++,e._totalRequestCount++}},e.countException=function(){e._totalExceptionCount++},e.countDependency=function(t,n){var r;if(e.isEnabled()){if("string"==typeof t)r=+new Date("1970-01-01T"+t+"Z");else{if("number"!=typeof t)return;r=t}e._intervalDependencyExecutionTime+=r,!1===n&&e._totalFailedDependencyCount++,e._totalDependencyCount++}},e.prototype.isInitialized=function(){return this._isInitialized},e.isEnabled=function(){return e.INSTANCE&&e.INSTANCE._isEnabled},e.prototype.trackPerformance=function(){this._trackCpu(),this._trackMemory(),this._trackNetwork(),this._trackDependencyRate(),this._trackExceptionRate()},e.prototype._trackCpu=function(){var e=r.cpus();if(e&&e.length&&this._lastCpus&&e.length===this._lastCpus.length){for(var t=0,n=0,o=0,s=0,a=0,c=0;e&&c<e.length;c++){var u=e[c],l=this._lastCpus[c],p=(u.model,u.speed,u.times),f=l.times;t+=p.user-f.user||0,n+=p.sys-f.sys||0,o+=p.nice-f.nice||0,s+=p.idle-f.idle||0,a+=p.irq-f.irq||0}var d=void 0;if("function"==typeof process.cpuUsage){var h=process.cpuUsage(),v=process.hrtime(),g=h.user-this._lastAppCpuUsage.user+(h.system-this._lastAppCpuUsage.system)||0;if(void 0!==this._lastHrtime&&2===this._lastHrtime.length)d=100*g/((1e6*(v[0]-this._lastHrtime[0])+(v[1]-this._lastHrtime[1])/1e3||0)*e.length);this._lastAppCpuUsage=h,this._lastHrtime=v}var y=t+n+o+s+a||1;this._client.trackMetric({name:i.PerformanceCounter.PROCESSOR_TIME,value:(y-s)/y*100}),this._client.trackMetric({name:i.PerformanceCounter.PROCESS_TIME,value:d||t/y*100})}this._lastCpus=e},e.prototype._trackMemory=function(){var e=r.freemem(),t=process.memoryUsage().rss,n=r.totalmem()-e;this._client.trackMetric({name:i.PerformanceCounter.PRIVATE_BYTES,value:t}),this._client.trackMetric({name:i.PerformanceCounter.AVAILABLE_BYTES,value:e}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.COMMITTED_BYTES,value:n})},e.prototype._trackNetwork=function(){var t=this._lastRequests,n={totalRequestCount:e._totalRequestCount,totalFailedRequestCount:e._totalFailedRequestCount,time:+new Date},r=n.totalRequestCount-t.totalRequestCount||0,o=n.totalFailedRequestCount-t.totalFailedRequestCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalRequestExecutionTime-this._lastIntervalRequestExecutionTime)/r||0;if(this._lastIntervalRequestExecutionTime=e._intervalRequestExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.PerformanceCounter.REQUEST_RATE,value:u}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.PerformanceCounter.REQUEST_DURATION,value:c}),this._enableLiveMetricsCounters&&this._client.trackMetric({name:i.QuickPulseCounter.REQUEST_FAILURE_RATE,value:l})}this._lastRequests=n},e.prototype._trackDependencyRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastDependencies,n={totalDependencyCount:e._totalDependencyCount,totalFailedDependencyCount:e._totalFailedDependencyCount,time:+new Date},r=n.totalDependencyCount-t.totalDependencyCount||0,o=n.totalFailedDependencyCount-t.totalFailedDependencyCount||0,s=n.time-t.time,a=s/1e3,c=(e._intervalDependencyExecutionTime-this._lastIntervalDependencyExecutionTime)/r||0;if(this._lastIntervalDependencyExecutionTime=e._intervalDependencyExecutionTime,s>0){var u=r/a,l=o/a;this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_RATE,value:u}),this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_FAILURE_RATE,value:l}),(!this._enableLiveMetricsCounters||r>0)&&this._client.trackMetric({name:i.QuickPulseCounter.DEPENDENCY_DURATION,value:c})}this._lastDependencies=n}},e.prototype._trackExceptionRate=function(){if(this._enableLiveMetricsCounters){var t=this._lastExceptions,n={totalExceptionCount:e._totalExceptionCount,time:+new Date},r=n.totalExceptionCount-t.totalExceptionCount||0,o=n.time-t.time;if(o>0){var s=r/(o/1e3);this._client.trackMetric({name:i.QuickPulseCounter.EXCEPTION_RATE,value:s})}this._lastExceptions=n}},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e._totalRequestCount=0,e._totalFailedRequestCount=0,e._lastRequestExecutionTime=0,e._totalDependencyCount=0,e._totalFailedDependencyCount=0,e._lastDependencyExecutionTime=0,e._totalExceptionCount=0,e._intervalDependencyExecutionTime=0,e._intervalRequestExecutionTime=0,e}();e.exports=o},function(e,t,n){"use strict";var r=n(12),i=n(126),o=n(15),s=n(16),a=function(){function e(t){var n=this;this.endpointBase=o.DEFAULT_BREEZE_ENDPOINT;var r=process.env[e.ENV_connectionString],a=i.parse(t),c=i.parse(r),u=!a.instrumentationkey&&Object.keys(a).length>0?null:t;this.instrumentationKey=a.instrumentationkey||u||c.instrumentationkey||e._getInstrumentationKey(),this.endpointUrl=(a.ingestionendpoint||c.ingestionendpoint||this.endpointBase)+"/v2/track",this.maxBatchSize=250,this.maxBatchIntervalMs=15e3,this.disableAppInsights=!1,this.samplingPercentage=100,this.correlationIdRetryIntervalMs=3e4,this.correlationHeaderExcludedDomains=["*.core.windows.net","*.core.chinacloudapi.cn","*.core.cloudapi.de","*.core.usgovcloudapi.net","*.core.microsoft.scloud","*.core.eaglex.ic.gov"],this.setCorrelationId=function(e){return n.correlationId=e},this.proxyHttpUrl=process.env[e.ENV_http_proxy]||void 0,this.proxyHttpsUrl=process.env[e.ENV_https_proxy]||void 0,this.httpAgent=void 0,this.httpsAgent=void 0,this.profileQueryEndpoint=a.ingestionendpoint||c.ingestionendpoint||process.env[e.ENV_profileQueryEndpoint]||this.endpointBase,this._quickPulseHost=a.liveendpoint||c.liveendpoint||process.env[e.ENV_quickPulseHost]||o.DEFAULT_LIVEMETRICS_HOST,this._quickPulseHost.match(/^https?:\/\//)&&(this._quickPulseHost=s.parse(this._quickPulseHost).host)}return Object.defineProperty(e.prototype,"profileQueryEndpoint",{get:function(){return this._profileQueryEndpoint},set:function(e){r.cancelCorrelationIdQuery(this,this.setCorrelationId),this._profileQueryEndpoint=e,this.correlationId=r.correlationIdPrefix,r.queryCorrelationId(this,this.setCorrelationId)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"quickPulseHost",{get:function(){return this._quickPulseHost},set:function(e){this._quickPulseHost=e},enumerable:!0,configurable:!0}),e._getInstrumentationKey=function(){var t=process.env[e.ENV_iKey]||process.env[e.ENV_azurePrefix+e.ENV_iKey]||process.env[e.legacy_ENV_iKey]||process.env[e.ENV_azurePrefix+e.legacy_ENV_iKey];if(!t||""==t)throw new Error("Instrumentation key not found, pass the key in the config to this method or set the key in the environment variable APPINSIGHTS_INSTRUMENTATIONKEY before starting the server");return t},e.ENV_azurePrefix="APPSETTING_",e.ENV_iKey="APPINSIGHTS_INSTRUMENTATIONKEY",e.legacy_ENV_iKey="APPINSIGHTS_INSTRUMENTATION_KEY",e.ENV_profileQueryEndpoint="APPINSIGHTS_PROFILE_QUERY_ENDPOINT",e.ENV_quickPulseHost="APPINSIGHTS_QUICKPULSE_HOST",e.ENV_connectionString="APPLICATIONINSIGHTS_CONNECTION_STRING",e.ENV_nativeMetricsDisablers="APPLICATION_INSIGHTS_DISABLE_EXTENDED_METRIC",e.ENV_nativeMetricsDisableAll="APPLICATION_INSIGHTS_DISABLE_ALL_EXTENDED_METRICS",e.ENV_http_proxy="http_proxy",e.ENV_https_proxy="https_proxy",e}();e.exports=a},function(e,t,n){"use strict";(function(t){var r=n(11),i=n(10),o=n(3),s=n(4),a=n(2),c=function(){function e(e){this.keys=new s.ContextTagKeys,this.tags={},this._loadApplicationContext(),this._loadDeviceContext(),this._loadInternalContext()}return e.prototype._loadApplicationContext=function(n){if(n=n||o.resolve(t,"../../../../package.json"),!e.appVersion[n]){e.appVersion[n]="unknown";try{var r=JSON.parse(i.readFileSync(n,"utf8"));r&&"string"==typeof r.version&&(e.appVersion[n]=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.applicationVersion]=e.appVersion[n]},e.prototype._loadDeviceContext=function(){this.tags[this.keys.deviceId]="",this.tags[this.keys.cloudRoleInstance]=r&&r.hostname(),this.tags[this.keys.deviceOSVersion]=r&&r.type()+" "+r.release(),this.tags[this.keys.cloudRole]=e.DefaultRoleName,this.tags["ai.device.osArchitecture"]=r&&r.arch(),this.tags["ai.device.osPlatform"]=r&&r.platform()},e.prototype._loadInternalContext=function(){var n=o.resolve(t,"../../package.json");if(!e.sdkVersion){e.sdkVersion="unknown";try{var r=JSON.parse(i.readFileSync(n,"utf8"));r&&"string"==typeof r.version&&(e.sdkVersion=r.version)}catch(e){a.info("unable to read app version: ",e)}}this.tags[this.keys.internalSdkVersion]="node:"+e.sdkVersion},e.DefaultRoleName="Web",e.appVersion={},e.sdkVersion=null,e}();e.exports=c}).call(this,"/")},function(e,t){e.exports=require("crypto")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),process.env.APPLICATION_INSIGHTS_NO_DIAGNOSTIC_CHANNEL=!0;var r=n(10),i=n(11),o=n(3),s=n(1),a=n(59),c=function(){function e(e,t,n,i){var a=this;this.extensionId=e,this.extensionVersion=t,this.firstParty=!1,this.userOptIn=!1,this.firstParty=!!i;var c=process.env.VSCODE_LOGS||"";c&&e&&"trace"===process.env.VSCODE_LOG_LEVEL&&(c=o.join(c,e+".txt"),this.logStream=r.createWriteStream(c,{flags:"a",encoding:"utf8",autoClose:!0})),this.updateUserOptIn(n),this.configListener=s.workspace.onDidChangeConfiguration((function(){return a.updateUserOptIn(n)}))}return e.prototype.updateUserOptIn=function(t){var n=s.workspace.getConfiguration(e.TELEMETRY_CONFIG_ID);this.userOptIn!==n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0)&&(this.userOptIn=n.get(e.TELEMETRY_CONFIG_ENABLED_ID,!0),this.userOptIn?this.createAppInsightsClient(t):this.dispose())},e.prototype.createAppInsightsClient=function(e){a.defaultClient?(this.appInsightsClient=new a.TelemetryClient(e),this.appInsightsClient.channel.setUseDiskRetryCaching(!0)):(a.setup(e).setAutoCollectRequests(!1).setAutoCollectPerformance(!1).setAutoCollectExceptions(!1).setAutoCollectDependencies(!1).setAutoDependencyCorrelation(!1).setAutoCollectConsole(!1).setUseDiskRetryCaching(!0).start(),this.appInsightsClient=a.defaultClient),this.appInsightsClient.commonProperties=this.getCommonProperties(),s&&s.env&&(this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.userId]=s.env.machineId,this.appInsightsClient.context.tags[this.appInsightsClient.context.keys.sessionId]=s.env.sessionId),e&&0===e.indexOf("AIF-")&&(this.appInsightsClient.config.endpointUrl="https://vortex.data.microsoft.com/collect/v1",this.firstParty=!0)},e.prototype.getCommonProperties=function(){var e=Object.create(null);if(e["common.os"]=i.platform(),e["common.platformversion"]=(i.release()||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),e["common.extname"]=this.extensionId,e["common.extversion"]=this.extensionVersion,s&&s.env){switch(e["common.vscodemachineid"]=s.env.machineId,e["common.vscodesessionid"]=s.env.sessionId,e["common.vscodeversion"]=s.version,s.env.uiKind){case s.UIKind.Web:e["common.uikind"]="web";break;case s.UIKind.Desktop:e["common.uikind"]="desktop";break;default:e["common.uikind"]="unknown"}e["common.remotename"]=this.cleanRemoteName(s.env.remoteName)}return e},e.prototype.cleanRemoteName=function(e){if(!e)return"none";var t="other";return["ssh-remote","dev-container","attached-container","wsl"].forEach((function(n){0===e.indexOf(n+"+")&&(t=n)})),t},e.prototype.shouldSendErrorTelemetry=function(){return!this.firstParty||("other"!==this.cleanRemoteName(s.env.remoteName)||void 0!==this.extension&&this.extension.extensionKind!==s.ExtensionKind.Workspace&&s.env.uiKind!==s.UIKind.Web)},Object.defineProperty(e.prototype,"extension",{get:function(){return void 0===this._extension&&(this._extension=s.extensions.getExtension(this.extensionId)),this._extension},enumerable:!0,configurable:!0}),e.prototype.cloneAndChange=function(e,t){if(null===e||"object"!=typeof e)return e;if("function"!=typeof t)return e;var n={};for(var r in e)n[r]=t(r,e[r]);return n},e.prototype.anonymizeFilePaths=function(e,t){if(null==e)return"";var n=[new RegExp(s.env.appRoot.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi")];this.extension&&n.push(new RegExp(this.extension.extensionPath.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),"gi"));var r=e;if(t){for(var i=[],o=0,a=n;o<a.length;o++)for(var c=a[o];;){var u=c.exec(e);if(!u)break;i.push([u.index,c.lastIndex])}var l=/^[\\\/]?(node_modules|node_modules\.asar)[\\\/]/,p=/(file:\/\/)?([a-zA-Z]:(\\\\|\\|\/)|(\\\\|\\|\/))?([\w-\._]+(\\\\|\\|\/))+[\w-\._]*/g,f=0;r="";for(var d=function(){var t=p.exec(e);if(!t)return"break";!l.test(t[0])&&i.every((function(e){var n=e[0],r=e[1];return t.index<n||t.index>=r}))&&(r+=e.substring(f,t.index)+"<REDACTED: user-file-path>",f=p.lastIndex)};;){if("break"===d())break}f<e.length&&(r+=e.substr(f))}for(var h=0,v=n;h<v.length;h++){c=v[h];r=r.replace(c,"")}return r},e.prototype.sendTelemetryEvent=function(e,t,n){var r=this;if(this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e,t){return r.anonymizeFilePaths(t,r.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryErrorEvent=function(e,t,n,r){var i=this;if(this.userOptIn&&e&&this.appInsightsClient){var o=this.cloneAndChange(t,(function(e,t){return i.shouldSendErrorTelemetry()?i.anonymizeFilePaths(t,i.firstParty):void 0===r||-1!==r.indexOf(e)?"REDACTED":i.anonymizeFilePaths(t,i.firstParty)}));this.appInsightsClient.trackEvent({name:this.extensionId+"/"+e,properties:o,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.sendTelemetryException=function(e,t,n){var r=this;if(this.shouldSendErrorTelemetry()&&this.userOptIn&&e&&this.appInsightsClient){var i=this.cloneAndChange(t,(function(e,t){return r.anonymizeFilePaths(t,r.firstParty)}));this.appInsightsClient.trackException({exception:e,properties:i,measurements:n}),this.logStream&&this.logStream.write("telemetry/"+e.name+" "+e.message+" "+JSON.stringify({properties:t,measurements:n})+"\n")}},e.prototype.dispose=function(){var e=this;this.configListener.dispose();var t=new Promise((function(t){if(!e.logStream)return t(void 0);e.logStream.on("finish",t),e.logStream.end()})),n=new Promise((function(t){e.appInsightsClient?e.appInsightsClient.flush({callback:function(){e.appInsightsClient=void 0,t(void 0)}}):t(void 0)}));return Promise.all([n,t])},e.TELEMETRY_CONFIG_ID="telemetry",e.TELEMETRY_CONFIG_ENABLED_ID="enableTelemetry",e}();t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(27),o=n(38),s=Object.keys(process.binding("natives")),a=o.prototype.require;t.makePatchingRequire=function(e){var t={};return function(n){var c=a.apply(this,arguments);if(e[n]){var u=o._resolveFilename(n,this);if(t.hasOwnProperty(u))return t[u];var l=void 0;if(s.indexOf(n)<0)try{l=a.call(this,r.join(n,"package.json")).version}catch(e){return c}else l=process.version.substring(1);var p=l.indexOf("-");p>=0&&(l=l.substring(0,p));for(var f=c,d=0,h=e[n];d<h.length;d++){var v=h[d];i.satisfies(l,v.versionSpecifier)&&(f=v.patch(f,u))}return t[u]=f}return c}}},function(e,t){e.exports=require("module")},function(e,t){e.exports=require("timers")},function(e){e.exports=JSON.parse('{"_args":[["async-hook-jl@1.7.6","/home/vsts/work/1/s"]],"_from":"async-hook-jl@1.7.6","_id":"async-hook-jl@1.7.6","_inBundle":false,"_integrity":"sha512-gFaHkFfSxTjvoxDMYqDuGHlcRyUuamF8s+ZTtJdDzqjws4mCt7v0vuV79/E2Wr2/riMQgtG4/yUtXWs1gZ7JMg==","_location":"/async-hook-jl","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"async-hook-jl@1.7.6","name":"async-hook-jl","escapedName":"async-hook-jl","rawSpec":"1.7.6","saveSpec":null,"fetchSpec":"1.7.6"},"_requiredBy":["/cls-hooked"],"_resolved":"https://registry.npmjs.org/async-hook-jl/-/async-hook-jl-1.7.6.tgz","_spec":"1.7.6","_where":"/home/vsts/work/1/s","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/jeff-lewis/async-hook-jl/issues"},"dependencies":{"stack-chain":"^1.3.7"},"description":"Inspect the life of handle objects in node","devDependencies":{"async":"1.5.x","cli-color":"1.1.x","endpoint":"0.4.x","eslint":"^3.4.0"},"engines":{"node":"^4.7 || >=6.9 || >=7.3"},"homepage":"https://github.com/jeff-lewis/async-hook-jl#readme","keywords":["async","async hooks","inspect","async wrap"],"license":"MIT","main":"./index.js","name":"async-hook-jl","repository":{"type":"git","url":"git://github.com/jeff-lewis/async-hook-jl.git"},"scripts":{"test":"node ./test/runner.js && eslint ."},"version":"1.7.6"}')},function(e,t,n){if(global._stackChain){if(global._stackChain.version!==n(42).version)throw new Error("Conflicting version of stack-chain found");e.exports=global._stackChain}else e.exports=global._stackChain=n(87)},function(e){e.exports=JSON.parse('{"_args":[["stack-chain@1.3.7","/home/vsts/work/1/s"]],"_from":"stack-chain@1.3.7","_id":"stack-chain@1.3.7","_inBundle":false,"_integrity":"sha1-0ZLJ/06moiyUxN1FkXHj8AzqEoU=","_location":"/stack-chain","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"stack-chain@1.3.7","name":"stack-chain","escapedName":"stack-chain","rawSpec":"1.3.7","saveSpec":null,"fetchSpec":"1.3.7"},"_requiredBy":["/async-hook-jl"],"_resolved":"https://registry.npmjs.org/stack-chain/-/stack-chain-1.3.7.tgz","_spec":"1.3.7","_where":"/home/vsts/work/1/s","author":{"name":"Andreas Madsen","email":"amwebdk@gmail.com"},"bugs":{"url":"https://github.com/AndreasMadsen/stack-chain/issues"},"description":"API for combining call site modifiers","devDependencies":{"tap":"2.x.x","uglify-js":"2.5.x"},"homepage":"https://github.com/AndreasMadsen/stack-chain#readme","keywords":["stack","chain","trace","call site","concat","format"],"license":"MIT","name":"stack-chain","repository":{"type":"git","url":"git://github.com/AndreasMadsen/stack-chain.git"},"scripts":{"test":"tap ./test/simple"},"version":"1.3.7"}')},function(e,t){e.exports=require("zlib")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvailabilityData=n(98),t.Base=n(45),t.ContextTagKeys=n(99),t.Data=n(100),t.DataPoint=n(101),t.DataPointType=n(46),t.Domain=n(8),t.Envelope=n(102),t.EventData=n(47),t.ExceptionData=n(103),t.ExceptionDetails=n(104),t.MessageData=n(105),t.MetricData=n(106),t.PageViewData=n(107),t.RemoteDependencyData=n(108),t.RequestData=n(109),t.SeverityLevel=n(110),t.StackFrame=n(111)},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";var r;!function(e){e[e.Measurement=0]="Measurement",e[e.Aggregation=1]="Aggregation"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r=function(){function e(){}return e.prototype.getUrl=function(){return this.url},e.prototype.RequestParser=function(){this.startTime=+new Date},e.prototype._setStatus=function(e,t){var n=+new Date;this.duration=n-this.startTime,this.statusCode=e;var r=this.properties||{};if(t)if("string"==typeof t)r.error=t;else if(t instanceof Error)r.error=t.message;else if("object"==typeof t)for(var i in t)r[i]=t[i]&&t[i].toString&&t[i].toString();this.properties=r},e.prototype._isSuccess=function(){return 0<this.statusCode&&this.statusCode<400},e}();e.exports=r},function(e,t,n){"use strict";var r=n(5),i=n(12),o=function(){function e(t,n){if(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.version=e.DEFAULT_VERSION,t&&"string"==typeof t)if(t.split(",").length>1)this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16);else{var o=t.trim().split("-"),s=o.length;s>=4?(this.version=o[0],this.traceId=o[1],this.spanId=o[2],this.traceFlag=o[3]):(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^[0-9a-f]{2}$/g)||(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId()),"00"===this.version&&4!==s&&(this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),"ff"===this.version&&(this.version=e.DEFAULT_VERSION,this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)),this.version.match(/^0[0-9a-f]$/g)||(this.version=e.DEFAULT_VERSION),this.traceFlag.match(/^[0-9a-f]{2}$/g)||(this.traceFlag=e.DEFAULT_TRACE_FLAG,this.traceId=r.w3cTraceId()),e.isValidTraceId(this.traceId)||(this.traceId=r.w3cTraceId()),e.isValidSpanId(this.spanId)||(this.spanId=r.w3cTraceId().substr(0,16),this.traceId=r.w3cTraceId()),this.parentId=this.getBackCompatRequestId()}else if(n){this.parentId=n.slice();var a=i.getRootId(n);e.isValidTraceId(a)||(this.legacyRootId=a,a=r.w3cTraceId()),-1!==n.indexOf("|")&&(n=n.substring(1+n.substring(0,n.length-1).lastIndexOf("."),n.length-1)),this.traceId=a,this.spanId=n}else this.traceId=r.w3cTraceId(),this.spanId=r.w3cTraceId().substr(0,16)}return e.isValidTraceId=function(e){return e.match(/^[0-9a-f]{32}$/)&&"00000000000000000000000000000000"!==e},e.isValidSpanId=function(e){return e.match(/^[0-9a-f]{16}$/)&&"0000000000000000"!==e},e.prototype.getBackCompatRequestId=function(){return"|"+this.traceId+"."+this.spanId+"."},e.prototype.toString=function(){return this.version+"-"+this.traceId+"-"+this.spanId+"-"+this.traceFlag},e.prototype.updateSpanId=function(){this.spanId=r.w3cTraceId().substr(0,16)},e.DEFAULT_TRACE_FLAG="01",e.DEFAULT_VERSION="00",e}();e.exports=o},function(e,t,n){"use strict";var r=n(18),i=n(21),o=n(2),s=n(5),a=n(17),c=n(123),u=n(14),l=n(32),p=function(){function e(t){if(e.INSTANCE)throw new Error("Server request tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t}return e.prototype.enable=function(e){this._isEnabled=e,(this._isAutoCorrelating||this._isEnabled||l.isEnabled())&&!this._isInitialized&&(this.useAutoCorrelation(this._isAutoCorrelating),this._initialize())},e.prototype.useAutoCorrelation=function(e,t){e&&!this._isAutoCorrelating?u.CorrelationContextManager.enable(t):!e&&this._isAutoCorrelating&&u.CorrelationContextManager.disable(),this._isAutoCorrelating=e},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.isAutoCorrelating=function(){return this._isAutoCorrelating},e.prototype._generateCorrelationContext=function(e){if(this._isAutoCorrelating)return u.CorrelationContextManager.generateContextObject(e.getOperationId(this._client.context.tags),e.getRequestId(),e.getOperationName(this._client.context.tags),e.getCorrelationContextHeader(),e.getTraceparent(),e.getTracestate())},e.prototype._initialize=function(){var t=this;this._isInitialized=!0;var n=function(n){if(n){if("function"!=typeof n)throw new Error("onRequest handler must be a function");return function(r,i){u.CorrelationContextManager.wrapEmitter(r),u.CorrelationContextManager.wrapEmitter(i);var o=r&&!r[e.alreadyAutoCollectedFlag];if(r&&o){var s=new c(r),a=t._generateCorrelationContext(s);u.CorrelationContextManager.runWithContext(a,(function(){t._isEnabled&&(r[e.alreadyAutoCollectedFlag]=!0,e.trackRequest(t._client,{request:r,response:i},s)),"function"==typeof n&&n(r,i)}))}else"function"==typeof n&&n(r,i)}}},o=function(e){var t=e.addListener.bind(e);e.addListener=function(e,r){switch(e){case"request":case"checkContinue":return t(e,n(r));default:return t(e,r)}},e.on=e.addListener},s=r.createServer;r.createServer=function(e){var t=s(n(e));return o(t),t};var a=i.createServer;i.createServer=function(e,t){var r=a(e,n(t));return o(r),r}},e.trackRequestSync=function(t,n){if(n.request&&n.response&&t){e.addResponseCorrelationIdHeader(t,n.response);var r=u.CorrelationContextManager.getCurrentContext(),i=new c(n.request,r&&r.operation.parentId);r&&(r.operation.id=i.getOperationId(t.context.tags)||r.operation.id,r.operation.name=i.getOperationName(t.context.tags)||r.operation.name,r.operation.parentId=i.getRequestId()||r.operation.parentId,r.customProperties.addHeaderData(i.getCorrelationContextHeader())),e.endRequest(t,i,n,n.duration,n.error)}else o.info("AutoCollectHttpRequests.trackRequestSync was called with invalid parameters: ",!n.request,!n.response,!t)},e.trackRequest=function(t,n,r){if(n.request&&n.response&&t){var i=u.CorrelationContextManager.getCurrentContext(),a=r||new c(n.request,i&&i.operation.parentId);s.canIncludeCorrelationHeader(t,a.getUrl())&&e.addResponseCorrelationIdHeader(t,n.response),i&&!r&&(i.operation.id=a.getOperationId(t.context.tags)||i.operation.id,i.operation.name=a.getOperationName(t.context.tags)||i.operation.name,i.operation.parentId=a.getOperationParentId(t.context.tags)||i.operation.parentId,i.customProperties.addHeaderData(a.getCorrelationContextHeader())),n.response.once&&n.response.once("finish",(function(){e.endRequest(t,a,n,null,null)})),n.request.on&&n.request.on("error",(function(r){e.endRequest(t,a,n,null,r)}))}else o.info("AutoCollectHttpRequests.trackRequest was called with invalid parameters: ",!n.request,!n.response,!t)},e.addResponseCorrelationIdHeader=function(e,t){if(e.config&&e.config.correlationId&&t.getHeader&&t.setHeader&&!t.headersSent){var n=t.getHeader(a.requestContextHeader);s.safeIncludeCorrelationHeader(e,t,n)}},e.endRequest=function(e,t,n,r,i){i?t.onError(i,r):t.onResponse(n.response,r);var o=t.getRequestTelemetry(n);if(o.tagOverrides=t.getRequestTags(e.context.tags),n.tagOverrides)for(var s in n.tagOverrides)o.tagOverrides[s]=n.tagOverrides[s];var a=t.getLegacyRootId();a&&(o.properties.ai_legacyRootId=a),o.contextObjects=o.contextObjects||{},o.contextObjects["http.ServerRequest"]=n.request,o.contextObjects["http.ServerResponse"]=n.response,e.trackRequest(o)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1,u.CorrelationContextManager.disable(),this._isAutoCorrelating=!1},e.alreadyAutoCollectedFlag="_appInsightsAutoCollected",e}();e.exports=p},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),o=n(3),s=n(1),a=e=>e.mainClass+""+(e.projectName?"<"+e.projectName+">":"");t.mainClassPicker=new class{constructor(){this.cache={}}showQuickPick(e,t,n,i){return r(this,void 0,void 0,(function*(){let r=a,c=!0;if("function"==typeof n?r=n:"boolean"==typeof n&&(c=n),"boolean"==typeof i&&(c=i),!e||!e.length)return;if(c&&1===e.length)return e[0];const u=e.map(e=>({label:r(e),description:e.filePath?o.basename(e.filePath):"",detail:void 0,data:e})),l=yield s.window.showQuickPick(u,{placeHolder:t});return l?l.data:void 0}))}showQuickPickWithRecentlyUsed(e,t,n){return r(this,void 0,void 0,(function*(){if(!e||!e.length)return;if(1===e.length)return e[0];e.sort((e,t)=>this.getMRUTimestamp(t)-this.getMRUTimestamp(e));const r=e.length&&this.contains(e[0])?e[0]:void 0,c=e=>r&&r.mainClass===e.mainClass&&r.projectName===e.projectName,u=e=>{const t=s.window.activeTextEditor,n=i.get(t,"document.uri.fsPath");return e.filePath&&n&&""===o.relative(e.filePath,n)},l=e=>c(e)||u(e),p=[];e.forEach(e=>{l(e)&&p.push(e)}),e.forEach(e=>{l(e)||p.push(e)});const f=p.map(e=>{const t=[];c(e)&&t.push("$(clock) recently used"),u(e)&&t.push(`$(file-text) active editor (${o.basename(e.filePath)})`);const r=t.join(", ");return{label:n?n(e):a(e),description:e.filePath?o.basename(e.filePath):"",detail:r,data:e}}),d=yield s.window.showQuickPick(f,{placeHolder:t});return d?(this.updateMRUTimestamp(d.data),d.data):void 0}))}getMRUTimestamp(e){return this.cache[this.getKey(e)]||0}updateMRUTimestamp(e){this.cache[this.getKey(e)]=Date.now()}contains(e){return Boolean(this.cache[this.getKey(e)])}getKey(e){return e.mainClass+"|"+e.projectName}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(1),s=n(143),a=/(?:java|javaw|j9|j9w)$/i,c=/(-agentlib|-Xrunjdwp):\S*(address=[^\s,]+)/i;function u(e,t,n){"win32"===process.platform&&0===t.indexOf("\\??\\")&&(t=t.replace("\\??\\",""));const r=i.basename(t,".exe");if(a.test(r)&&n){const r=n.match(c);if(r&&r.length){const o=r[2].split("=")[1].split(":"),s=o.length>1?o[0]:"127.0.0.1",a=parseInt(o[o.length-1],10),c=i.basename(t),u=i.dirname(t);return{pid:e,command:"bin"===i.basename(u)?i.join(i.basename(i.dirname(u)),"bin",c):c,args:n,hostName:s,debugPort:a}}}}t.pickJavaProcess=function(){return r(this,void 0,void 0,(function*(){const e=[];try{yield s.getProcesses((t,n,r,i,o)=>{const s=u(t,r,i);s&&e.push(s)})}catch(e){throw new Error("Process picker failed: "+e)}if(!e.length)throw new Error("Process picker: Cannot find any debuggable Java process. Please make sure to use vmArgs like '-agentlib:jdwp=transport=dt_socket,server=y,address=5005' to turn on debug mode when you start your program.");const t=e.map(e=>({label:e.command,description:e.args,detail:`process id: ${e.pid}, debug port: ${e.debugPort}`,process:e})),n=yield o.window.showQuickPick(t,{placeHolder:"Pick Java process to attach to"});if(n)return n.process}))},t.resolveJavaProcess=function(e){return r(this,void 0,void 0,(function*(){const t=yield s.getProcessTree(e);if(t&&t.pid===e)return u(t.pid,t.command,t.args)}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),o=n(3),s=n(1),a=n(7),c=n(25),u=n(145),l=n(6),p=n(9);t.initializeCodeLensProvider=function(e){(function(){if(s.window.activeTextEditor)return s.window.activeTextEditor.document&&"java"===s.window.activeTextEditor.document.languageId;return!1})()&&p.isJavaExtEnabled()?p.getJavaExtensionAPI().then(t=>{!t||t.serverMode!==p.ServerMode.LIGHTWEIGHT&&t.serverMode!==p.ServerMode.HYBRID?e.subscriptions.push(new f):t.onDidServerModeChange(t=>{t===p.ServerMode.STANDARD&&e.subscriptions.push(new f)})}):e.subscriptions.push(new f)};class f{constructor(){this.runCommand=a.instrumentOperationAsVsCodeCommand("java.debug.runCodeLens",h),this.debugCommand=a.instrumentOperationAsVsCodeCommand("java.debug.debugCodeLens",v);s.workspace.getConfiguration("java.debug.settings").get("enableRunDebugCodeLens")?this.lensProvider=s.languages.registerCodeLensProvider(c.JAVA_LANGID,new d):this.hoverProvider=u.initializeHoverProvider(),this.configurationEvent=s.workspace.onDidChangeConfiguration(e=>{if(e.affectsConfiguration("java.debug.settings")){const e=s.workspace.getConfiguration("java.debug.settings").get("enableRunDebugCodeLens");e&&void 0===this.lensProvider?this.lensProvider=s.languages.registerCodeLensProvider(c.JAVA_LANGID,new d):e||void 0===this.lensProvider||(this.lensProvider.dispose(),this.lensProvider=void 0),e&&this.hoverProvider?(this.hoverProvider.dispose(),this.hoverProvider=void 0):e||this.hoverProvider||(this.hoverProvider=u.initializeHoverProvider())}},this)}dispose(){void 0!==this.lensProvider&&this.lensProvider.dispose(),this.hoverProvider&&this.hoverProvider.dispose(),this.runCommand.dispose(),this.debugCommand.dispose(),this.configurationEvent.dispose()}}class d{provideCodeLenses(e,t){return r(this,void 0,void 0,(function*(){try{const n=yield l.resolveMainMethod(e.uri,t);return i.flatten(n.map(t=>[new s.CodeLens(t.range,{title:"Run",command:"java.debug.runCodeLens",tooltip:"Run Java Program",arguments:[t.mainClass,t.projectName,e.uri]}),new s.CodeLens(t.range,{title:"Debug",command:"java.debug.debugCodeLens",tooltip:"Debug Java Program",arguments:[t.mainClass,t.projectName,e.uri]})]))}catch(e){return[]}}))}}function h(e,t,n){return y(e,t,n,!0)}function v(e,t,n){return y(e,t,n,!1)}function g(e,t,n){return r(this,void 0,void 0,(function*(){const o=s.workspace.getConfiguration("launch",n),a=o.configurations;let c=i.find(a,n=>n.mainClass===e&&i.toString(n.projectName)===i.toString(t));if(c||(c=i.find(a,t=>t.mainClass===e&&!t.projectName)),!c&&(c={type:"java",name:"CodeLens (Launch) - "+e.substr(e.lastIndexOf(".")+1),request:"launch",mainClass:e,projectName:t},a&&a.length||(yield function(e){return r(this,void 0,void 0,(function*(){if(!e)return!1;const t=s.workspace.getWorkspaceFolder(e);return!!(yield s.workspace.findFiles(".vscode/launch.json")).find(e=>s.workspace.getWorkspaceFolder(e)===t)}))}(n))))try{a.splice(0,0,c),yield o.update("configurations",a,s.ConfigurationTarget.WorkspaceFolder)}catch(e){}return i.cloneDeep(c)}))}function y(e,t,n,i){return r(this,void 0,void 0,(function*(){const a=s.workspace.getWorkspaceFolder(n),c=a?a.uri:void 0,u=yield l.isOnClasspath(n.toString());if(c&&!1===u&&!(yield function(e){return r(this,void 0,void 0,(function*(){const t=o.basename(e.fsPath||""),n=o.dirname(e.fsPath||"");if(!n)return!0;const r=s.Uri.file(n);let i=s.workspace.asRelativePath(r,!0);i===r.fsPath&&(i=o.basename(n));const a=yield s.window.showWarningMessage(`The file ${t} isn't on the classpath, the runtime may throw class not found error. Do you want to add the parent folder "${i}" to Java source path?`,"Add to Source Path","Skip");return"Skip"===a||("Add to Source Path"===a&&s.commands.executeCommand("java.project.addToSourcePath",r),!1)}))}(n)))return!1;const p=yield g(e,t,c);return p.projectName=t,p.noDebug=i,s.debug.startDebugging(a,p)}))}t.startDebugging=y},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(13),o=n(3),s=n(1),a=n(7),c=n(22),u=n(139),l=n(25),p=n(144),f=n(53),d=n(146),h=n(147),v=n(148),g=n(6),y=n(23),m=n(51),_=n(52),b=n(149),E=n(150),C=n(9);function w(e,t){y.logger.initialize(t,!0),function(e){const t=["duration"];e.subscriptions.push(s.debug.onDidTerminateDebugSession(e=>{"java"===e.type&&c.executeJavaLanguageServerCommand(c.JAVA_FETCH_USAGE_DATA).then(e=>{Array.isArray(e)&&e.length&&e.forEach(e=>{const n={},r={};for(const i of Object.keys(e))t.indexOf(i)>=0?r[i]=e[i]:n[i]=String(e[i]);"exception"===e.scope?v.logJavaException(n):v.logJavaInfo(n,r),y.logger.log("exception"===e.scope?y.Type.EXCEPTION:y.Type.USAGEDATA,n,r)})})})),e.subscriptions.push(s.debug.onDidReceiveDebugSessionCustomEvent(e=>{(e.session?e.session.type:void 0)===l.JAVA_LANGID&&(e.event===l.HCR_EVENT?d.handleHotCodeReplaceCustomEvent(e):e.event===l.USER_NOTIFICATION_EVENT&&function(e){"ERROR"===e.body.notificationType?C.showErrorMessageWithTroubleshooting({message:e.body.message}):"WARNING"===e.body.notificationType?C.showWarningMessageWithTroubleshooting({message:e.body.message}):s.window.showInformationMessage(e.body.message)}(e))}))}(t),t.subscriptions.push(y.logger),t.subscriptions.push(s.window.registerTerminalLinkProvider(new b.JavaTerminalLinkProvder)),t.subscriptions.push(s.debug.registerDebugConfigurationProvider("java",new u.JavaDebugConfigurationProvider)),t.subscriptions.push(s.debug.registerDebugAdapterDescriptorFactory("java",new h.JavaDebugAdapterDescriptorFactory)),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("JavaDebug.SpecifyProgramArgs",()=>r(this,void 0,void 0,(function*(){return function(e){const t={ignoreFocusOut:!0,placeHolder:"Enter program arguments or leave empty to pass no args"},n=e.workspaceState.get("JavaDebugProgramArgs","");n.length>0&&(t.value=n);return s.window.showInputBox(t).then(t=>(void 0!==t&&e.workspaceState.update("JavaDebugProgramArgs",t),t||" "))}(t)})))),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("JavaDebug.PickJavaProcess",()=>r(this,void 0,void 0,(function*(){let e;try{e=yield _.pickJavaProcess()}catch(e){s.window.showErrorMessage(e.message?e.message:String(e))}return e?String(e.pid):"${command:PickJavaProcess}"}))));const n=new p.NotificationBar;t.subscriptions.push(n),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("java.debug.hotCodeReplace",()=>r(this,void 0,void 0,(function*(){yield function(e){return r(this,void 0,void 0,(function*(){const t=s.debug.activeDebugSession;if(!t)return;if(t.configuration.noDebug)return void s.window.showWarningMessage("Failed to apply the changes because hot code replace is not supported by run mode, would you like to restart the program?",d.YES_BUTTON,d.NO_BUTTON).then(e=>{e===d.YES_BUTTON&&s.commands.executeCommand("workbench.action.debug.restart")});const n=s.workspace.getConfiguration("java.autobuild");if(!n.enabled){if("Yes"===(yield s.window.showWarningMessage("The hot code replace feature requires you to enable the autobuild flag, do you want to enable it?","Yes","No"))){yield n.update("enabled",!0);try{yield c.executeJavaExtensionCommand(c.JAVA_BUILD_WORKSPACE,!1)}catch(e){}}}e.show("$(sync~spin)Applying code changes...");const r=(new Date).getTime(),i=yield t.customRequest("redefineClasses"),o=(new Date).getTime()-r<150?150:0;if(o&&(yield new Promise(e=>{setTimeout(e,o)})),i&&i.errorMessage)return void e.clear();if(!i||!i.changedClasses||!i.changedClasses.length)return e.clear(),void s.window.showWarningMessage("Cannot find any changed classes for hot replace!");const a=i.changedClasses.length;e.show(`$(check)${a} changed class${a>1?"es are":" is"} reloaded`,5e3)}))}(n)})))),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("java.debug.runJavaFile",e=>r(this,void 0,void 0,(function*(){yield T(e,!0)})))),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("java.debug.debugJavaFile",e=>r(this,void 0,void 0,(function*(){yield T(e,!1)})))),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("java.debug.runFromProjectView",e=>r(this,void 0,void 0,(function*(){yield I(e,!0)})))),t.subscriptions.push(a.instrumentOperationAsVsCodeCommand("java.debug.debugFromProjectView",e=>r(this,void 0,void 0,(function*(){yield I(e,!1)})))),d.initializeHotCodeReplace(t),f.initializeCodeLensProvider(t),E.initializeThreadOperations(t)}function T(e,t){return r(this,void 0,void 0,(function*(){const n=C.isJavaExtActivated();try{if(!(yield C.waitForStandardMode()))return}catch(e){if(e instanceof C.JavaExtensionNotEnabledError)return void C.guideToInstallJavaExtension();if(n)return void s.window.showErrorMessage(String(e&&e.message||e));throw e}const r=s.window.activeTextEditor;if(!e&&r&&i.endsWith(o.basename(r.document.fileName),".java")&&(e=r.document.uri),!e)return void s.window.showErrorMessage((t?"Run":"Debug")+" failed. Please open a Java file with main method first.");let a=[];try{a=yield g.resolveMainMethod(e)}catch(e){throw s.window.showErrorMessage(String(e&&e.message||e)),e}if(!a||!a.length)return void s.window.showErrorMessage("Error: Main method not found in the file, please define the main method as: public static void main(String[] args)");const c=yield m.mainClassPicker.showQuickPick(a,"Select the main class to run.",e=>e.mainClass);c&&(yield f.startDebugging(c.mainClass,c.projectName,e,t))}))}function I(e,t){return r(this,void 0,void 0,(function*(){if(!e||!e.name||!e.uri){s.window.showErrorMessage(`Failed to ${t?"run":"debug"} the project because of invalid project node. This command only applies to Project Explorer view.`);const e=new Error(`Failed to ${t?"run":"debug"} the project because of invalid project node.`);throw a.setUserError(e),e}let n=[];try{n=yield s.window.withProgress({location:s.ProgressLocation.Window},t=>r(this,void 0,void 0,(function*(){return t.report({message:"Searching main class..."}),g.resolveMainClass(s.Uri.parse(e.uri))})))}catch(e){throw s.window.showErrorMessage(String(e&&e.message||e)),e}if(!n||!n.length)return void s.window.showErrorMessage(`Failed to ${t?"run":"debug"} this project '${e._nodeData.displayName||e.name}' because it does not contain any main class.`);const o=yield m.mainClassPicker.showQuickPickWithRecentlyUsed(n,"Select the main class to run.",e=>e.mainClass);if(!o)return;const c=o.projectName,u=o.mainClass,l=o.filePath,p=l?s.workspace.getWorkspaceFolder(s.Uri.file(l)):void 0,f=s.workspace.getConfiguration("launch",p).configurations,d=i.find(f,e=>e.mainClass===u&&i.toString(e.projectName)===i.toString(c))||{type:"java",name:"Launch - "+u.substr(u.lastIndexOf(".")+1),request:"launch",mainClass:u,projectName:c};d.noDebug=t,s.debug.startDebugging(p,d)}))}t.activate=function(e){return r(this,void 0,void 0,(function*(){yield a.initializeFromJsonFile(e.asAbsolutePath("./package.json"),{firstParty:!0}),yield a.instrumentOperation("activation",w)(e)}))},t.deactivate=function(){return r(this,void 0,void 0,(function*(){yield a.dispose()}))}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r=n(57),i=n(58);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},function(e,t,n){var r=n(35);e.exports=function(){return r.randomBytes(16)}},function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(14),o=n(95),s=n(116),a=n(32),c=n(20),u=n(50),l=n(12),p=n(2),f=n(125),d=n(129);t.TelemetryClient=n(130),t.Contracts=n(4),function(e){e[e.AI=0]="AI",e[e.AI_AND_W3C=1]="AI_AND_W3C"}(r=t.DistributedTracingModes||(t.DistributedTracingModes={}));var h,v,g,y,m,_,b,E,C,w=!0,T=!1,I=!0,x=!0,A=!0,S=!0,O=!0,k=!0,P=!1,R=!0,N=void 0,D=void 0,j=!1;function L(){return t.defaultClient?(j=!0,g.enable(w,T),y.enable(I),m.enable(x),_.enable(R,v),b.useAutoCorrelation(k,h),b.enable(A),E.enable(S),t.liveMetricsClient&&P&&t.liveMetricsClient.enable(P)):p.warn("Start cannot be called before setup"),M}t.setup=function(e){return t.defaultClient?p.info("The default client is already setup"):(t.defaultClient=new t.TelemetryClient(e),g=new o(t.defaultClient),y=new s(t.defaultClient),m=new a(t.defaultClient),b=new u(t.defaultClient),E=new c(t.defaultClient),_||(_=new d.AutoCollectNativePerformance(t.defaultClient))),t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(O,N,D),M},t.start=L,t.getCorrelationContext=function(){return k?i.CorrelationContextManager.getCurrentContext():null},t.wrapWithCorrelationContext=function(e){return i.CorrelationContextManager.wrapCallback(e)};var M=function(){function e(){}return e.setDistributedTracingMode=function(t){return l.w3cEnabled=t===r.AI_AND_W3C,e},e.setAutoCollectConsole=function(t,n){return void 0===n&&(n=!1),w=t,T=n,j&&g.enable(t,n),e},e.setAutoCollectExceptions=function(t){return I=t,j&&y.enable(t),e},e.setAutoCollectPerformance=function(t,n){void 0===n&&(n=!0),x=t;var r=d.AutoCollectNativePerformance.parseEnabled(n);return R=r.isEnabled,v=r.disabledMetrics,j&&(m.enable(t),_.enable(r.isEnabled,r.disabledMetrics)),e},e.setAutoCollectRequests=function(t){return A=t,j&&b.enable(t),e},e.setAutoCollectDependencies=function(t){return S=t,j&&E.enable(t),e},e.setAutoDependencyCorrelation=function(t,n){return k=t,h=n,j&&b.useAutoCorrelation(t,n),e},e.setUseDiskRetryCaching=function(n,r,i){return O=n,N=r,D=i,t.defaultClient&&t.defaultClient.channel&&t.defaultClient.channel.setUseDiskRetryCaching(n,r,i),e},e.setInternalLogging=function(t,n){return void 0===t&&(t=!1),void 0===n&&(n=!0),p.enableDebug=t,p.disableWarnings=!n,e},e.setSendLiveMetrics=function(n){return void 0===n&&(n=!1),t.defaultClient?(!t.liveMetricsClient&&n?(t.liveMetricsClient=new f(t.defaultClient.config.instrumentationKey),C=new a(t.liveMetricsClient,1e3,!0),t.liveMetricsClient.addCollector(C),t.defaultClient.quickPulseClient=t.liveMetricsClient):t.liveMetricsClient&&t.liveMetricsClient.enable(n),P=n,e):(p.warn("Live metrics client cannot be setup without the default client"),e)},e.start=L,e}();t.Configuration=M,t.dispose=function(){t.defaultClient=null,j=!1,g&&g.dispose(),y&&y.dispose(),m&&m.dispose(),_&&_.dispose(),b&&b.dispose(),E&&E.dispose(),t.liveMetricsClient&&(t.liveMetricsClient.enable(!1),P=!1,t.liveMetricsClient=void 0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(61);t.azuresdk=r;var i=n(63);t.bunyan=i;var o=n(64);t.console=o;var s=n(67);t.mongodbCore=s;var a=n(68);t.mongodb=a;var c=n(69);t.mysql=c;var u=n(72);t.pgPool=u;var l=n(73);t.pg=l;var p=n(75);t.redis=p;var f=n(76);t.tedious=f;var d=n(77);t.winston=d,t.enable=function(){i.enable(),o.enable(),s.enable(),a.enable(),c.enable(),l.enable(),u.enable(),p.enable(),d.enable(),r.enable(),f.enable()}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.AzureMonitorSymbol="Azure_Monitor_Tracer";var o=function(){function e(){}return e.prototype.onStart=function(e){},e.prototype.onEnd=function(e){i.channel.publish("azure-coretracing",e)},e.prototype.shutdown=function(){},e}();t.azureCoreTracing={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){try{var s=new(0,n(!function(){var e=new Error("Cannot find module '@opentelemetry/tracing'");throw e.code="MODULE_NOT_FOUND",e}()).BasicTracer)(i.channel.spanContextPropagator?{scopeManager:i.channel.spanContextPropagator}:void 0),a=s.startSpan;s.startSpan=function(e,t){if(!t||!t.parent){var n=s.getCurrentSpan();n&&n.operation&&n.operation.traceparent&&(t=r({},t,{parent:{traceId:n.operation.traceparent.traceId,spanId:n.operation.traceparent.spanId}}))}var i=a.call(this,e,t);return i.addEvent("Application Insights Integration enabled"),i},s.addSpanProcessor(new o),s[t.AzureMonitorSymbol]=!0,e.setTracer(s)}catch(e){}return e}},t.enable=function(){i.channel.registerMonkeyPatch("@azure/core-tracing",t.azureCoreTracing)}},function(e){e.exports=JSON.parse('{"_args":[["diagnostic-channel@0.2.0","/home/vsts/work/1/s"]],"_from":"diagnostic-channel@0.2.0","_id":"diagnostic-channel@0.2.0","_inBundle":false,"_integrity":"sha1-zJmvlhLCP7H/8TYSxy8sv6qNWhc=","_location":"/diagnostic-channel","_phantomChildren":{},"_requested":{"type":"version","registry":true,"raw":"diagnostic-channel@0.2.0","name":"diagnostic-channel","escapedName":"diagnostic-channel","rawSpec":"0.2.0","saveSpec":null,"fetchSpec":"0.2.0"},"_requiredBy":["/applicationinsights"],"_resolved":"https://registry.npmjs.org/diagnostic-channel/-/diagnostic-channel-0.2.0.tgz","_spec":"0.2.0","_where":"/home/vsts/work/1/s","bugs":{"url":"https://github.com/Microsoft/node-diagnostic-channel/issues"},"dependencies":{"semver":"^5.3.0"},"description":"Provides a context-saving pub/sub channel to connect diagnostic event publishers and subscribers","devDependencies":{"@types/mocha":"^2.2.40","@types/node":"^7.0.12","mocha":"^3.2.0","rimraf":"^2.6.1","tslint":"^5.0.0","typescript":"^2.2.1"},"files":["dist/src/**/*.d.ts","dist/src/**/*.js","LICENSE","README.md","package.json"],"homepage":"https://github.com/Microsoft/node-diagnostic-channel","license":"MIT","main":"./dist/src/channel.js","name":"diagnostic-channel","repository":{"type":"git","url":"git+https://github.com/Microsoft/node-diagnostic-channel.git"},"scripts":{"build":"tsc","clean":"rimraf ./dist","lint":"tslint -c tslint.json -p tsconfig.json","test":"mocha ./dist/tests/**/*.js"},"types":"./dist/src/channel.d.ts","version":"0.2.0"}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.bunyan={versionSpecifier:">= 1.0.0 < 2.0.0",patch:function(e){var t=e.prototype._emit;return e.prototype._emit=function(e,n){var i=t.apply(this,arguments);if(!n){var o=i;o||(o=t.call(this,e,!0)),r.channel.publish("bunyan",{level:e.level,result:o})}return i},e}},t.enable=function(){r.channel.registerMonkeyPatch("bunyan",t.bunyan)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(65);t.console={versionSpecifier:">= 4.0.0",patch:function(e){var t=new i.Writable,n=new i.Writable;t.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t}),!0},n.write=function(e){if(!e)return!0;var t=e.toString();return r.channel.publish("console",{message:t,stderr:!0}),!0};for(var o=new e.Console(t,n),s=function(t){var n=e[t];n&&(e[t]=function(){if(o[t])try{o[t].apply(o,arguments)}catch(e){}return n.apply(e,arguments)})},a=0,c=["log","info","warn","error","dir","time","timeEnd","trace","assert"];a<c.length;a++){s(c[a])}return e}},t.enable=function(){r.channel.registerMonkeyPatch("console",t.console),n(66)}},function(e,t){e.exports=require("stream")},function(e,t){e.exports=require("console")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.mongoCore={versionSpecifier:">= 2.0.0 < 4.0.0",patch:function(e){var t=e.Server.prototype.connect;return e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.pool.write;this.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=r.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var i=this.s.pool.logout;return this.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=r.channel.bindToContext(arguments[1])),i.apply(this,arguments)},e},e}},t.enable=function(){r.channel.registerMonkeyPatch("mongodb-core",t.mongoCore)}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.mongo2={versionSpecifier:">= 2.0.0 <= 3.0.5",patch:function(e){var t=e.instrument({operationIdGenerator:{next:function(){return i.channel.bindToContext((function(e){return e()}))}}}),n={};return t.on("started",(function(e){n[e.requestId]||(n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"function"==typeof e.operationId?e.operationId((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})):i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),e}},t.mongo3={versionSpecifier:"> 3.0.5 < 3.3.0",patch:function(e){var t=e.instrument(),n={},o={};return t.on("started",(function(e){n[e.requestId]||(o[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=r({},e,{time:new Date}))})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete o[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof o[e.requestId]&&(o[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete o[e.requestId])})),e}},t.mongo330={versionSpecifier:">= 3.3.0 < 4.0.0",patch:function(e){!function(e){var t=e.Server.prototype.connect;e.Server.prototype.connect=function(){var e=t.apply(this,arguments),n=this.s.coreTopology.s.pool.write;this.s.coreTopology.s.pool.write=function(){var e="function"==typeof arguments[1]?1:2;return"function"==typeof arguments[e]&&(arguments[e]=i.channel.bindToContext(arguments[e])),n.apply(this,arguments)};var r=this.s.coreTopology.s.pool.logout;return this.s.coreTopology.s.pool.logout=function(){return"function"==typeof arguments[1]&&(arguments[1]=i.channel.bindToContext(arguments[1])),r.apply(this,arguments)},e}}(e);var t=e.instrument(),n={},r={};return t.on("started",(function(e){n[e.requestId]||(r[e.requestId]=i.channel.bindToContext((function(e){return e()})),n[e.requestId]=e)})),t.on("succeeded",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!0})})),delete r[e.requestId])})),t.on("failed",(function(e){var t=n[e.requestId];t&&delete n[e.requestId],"object"==typeof e&&"function"==typeof r[e.requestId]&&(r[e.requestId]((function(){return i.channel.publish("mongodb",{startedData:t,event:e,succeeded:!1})})),delete r[e.requestId])})),e}},t.enable=function(){i.channel.registerMonkeyPatch("mongodb",t.mongo2),i.channel.registerMonkeyPatch("mongodb",t.mongo3),i.channel.registerMonkeyPatch("mongodb",t.mongo330)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(3);t.mysql={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e,t){var o=function(e,t){return function(t,n){var i=e[t];i&&(e[t]=function(){for(var e=arguments.length-1,t=arguments.length-1;t>=0;--t){if("function"==typeof arguments[t]){e=t;break}if(void 0!==arguments[t])break}var o=arguments[e],s={result:null,startTime:null,startDate:null};"function"==typeof o&&(n?(s.startTime=process.hrtime(),s.startDate=new Date,arguments[e]=r.channel.bindToContext(n(s,o))):arguments[e]=r.channel.bindToContext(o));var a=i.apply(this,arguments);return s.result=a,a})}},s=function(e,t){return o(e.prototype)},a=n(70)(i.dirname(t)+"/lib/Connection");["connect","changeUser","ping","statistics","end"].forEach((function(e){return s(a)(e)})),o(a)("createQuery",(function(e,t){return function(n){var i=process.hrtime(e.startTime),o=1e3*i[0]+i[1]/1e6|0;r.channel.publish("mysql",{query:e.result,callbackArgs:arguments,err:n,duration:o,time:e.startDate}),t.apply(this,arguments)}}));var c=n(71)(i.dirname(t)+"/lib/Pool");return["_enqueueCallback"].forEach((function(e){return s(c)(e)})),e}},t.enable=function(){r.channel.registerMonkeyPatch("mysql",t.mysql)}},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=70},function(e,t){function n(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id=71},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.postgresPool1={versionSpecifier:">= 1.0.0 < 3.0.0",patch:function(e){var t=e.prototype.connect;return e.prototype.connect=function(e){return e&&(arguments[0]=r.channel.bindToContext(e)),t.apply(this,arguments)},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg-pool",t.postgresPool1)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(74);t.postgres6={versionSpecifier:"6.*",patch:function(e,t){var n=e.Client.prototype.query;return e.Client.prototype.query=function(e,t,o){var s,a={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},c=process.hrtime();function u(e){e&&e.__diagnosticOriginalFunc&&(e=e.__diagnosticOriginalFunc);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(c);if(a.result=n&&{rowCount:n.rowCount,command:n.command},a.error=t,a.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",a),t){if(e)return e.apply(this,arguments);s&&s instanceof i.EventEmitter&&s.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,"__diagnosticOriginalFunc",{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(a.query.preparable={text:e,args:t},o=u(o)):(a.query.text=e,o?o=u(o):t=u(t)):("string"==typeof e.name?a.query.plan=e.name:e.values instanceof Array?a.query.preparable={text:e.text,args:e.values}:a.query.text=e.text,o?o=u(o):t?t=u(t):e.callback=u(e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,s=n.apply(this,arguments)},e}},t.postgres7={versionSpecifier:"7.*",patch:function(e,t){var n=e.Client.prototype.query;return e.Client.prototype.query=function(e,t,o){var s,a=this,c=!!o,u={query:{},database:{host:this.connectionParameters.host,port:this.connectionParameters.port},result:null,error:null,duration:0,time:new Date},l=process.hrtime();function p(e){e&&e.__diagnosticOriginalFunc&&(e=e.__diagnosticOriginalFunc);var t=r.channel.bindToContext((function(t,n){var o=process.hrtime(l);if(u.result=n&&{rowCount:n.rowCount,command:n.command},u.error=t,u.duration=Math.ceil(1e3*o[0]+o[1]/1e6),r.channel.publish("postgres",u),t){if(e)return e.apply(this,arguments);s&&s instanceof i.EventEmitter&&s.emit("error",t)}else e&&e.apply(this,arguments)}));try{return Object.defineProperty(t,"__diagnosticOriginalFunc",{value:e}),t}catch(t){return e}}try{"string"==typeof e?t instanceof Array?(u.query.preparable={text:e,args:t},o=(c="function"==typeof o)?p(o):o):(u.query.text=e,o?o=(c="function"==typeof o)?p(o):o:t=(c="function"==typeof t)?p(t):t):("string"==typeof e.name?u.query.plan=e.name:e.values instanceof Array?u.query.preparable={text:e.text,args:e.values}:u.query.text=e.text,o?(c="function"==typeof o,o=p(o)):t?t=(c="function"==typeof t)?p(t):t:(c="function"==typeof e.callback,e.callback=c?p(e.callback):e.callback))}catch(e){return n.apply(this,arguments)}return arguments[0]=e,arguments[1]=t,arguments[2]=o,arguments.length=arguments.length>3?arguments.length:3,s=n.apply(this,arguments),c?s:s.then((function(e){return p()(void 0,e),new a._Promise((function(t,n){t(e)}))})).catch((function(e){return p()(e,void 0),new a._Promise((function(t,n){n(e)}))}))},e}},t.enable=function(){r.channel.registerMonkeyPatch("pg",t.postgres6),r.channel.registerMonkeyPatch("pg",t.postgres7)}},function(e,t){e.exports=require("events")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0);t.redis={versionSpecifier:">= 2.0.0 < 3.0.0",patch:function(e){var t=e.RedisClient.prototype.internal_send_command;return e.RedisClient.prototype.internal_send_command=function(e){if(e){var n=e.callback;if(!n||!n.pubsubBound){var i=this.address,o=process.hrtime(),s=new Date;e.callback=r.channel.bindToContext((function(t,a){var c=process.hrtime(o),u=1e3*c[0]+c[1]/1e6|0;r.channel.publish("redis",{duration:u,address:i,commandObj:e,err:t,result:a,time:s}),"function"==typeof n&&n.apply(this,arguments)})),e.callback.pubsubBound=!0}}return t.call(this,e)},e}},t.enable=function(){r.channel.registerMonkeyPatch("redis",t.redis)}},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(0);t.tedious={versionSpecifier:">= 6.0.0 < 9.0.0",patch:function(e){var t=e.Connection.prototype.makeRequest;return e.Connection.prototype.makeRequest=function(){function e(e){var t=process.hrtime(),n={query:{},database:{host:null,port:null},result:null,error:null,duration:0};return i.channel.bindToContext((function(o,s,a){var c=process.hrtime(t);n=r({},n,{database:{host:this.connection.config.server,port:this.connection.config.options.port},result:!o&&{rowCount:s,rows:a},query:{text:this.parametersByName.statement.value},error:o,duration:Math.ceil(1e3*c[0]+c[1]/1e6)}),i.channel.publish("tedious",n),e.call(this,o,s,a)}))}var n=arguments[0];arguments[0].callback=e(n.callback),t.apply(this,arguments)},e}},t.enable=function(){i.channel.registerMonkeyPatch("tedious",t.tedious)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n};Object.defineProperty(t,"__esModule",{value:!0});var s=n(0);t.winston3={versionSpecifier:"3.x",patch:function(e){var t=function(e){function t(t,n){var r=e.call(this,n)||this;return r.winston=t,r}return i(t,e),t.prototype.log=function(e,t){var n=e.message,r=e.level,i=e.meta,a=o(e,["message","level","meta"]);r="function"==typeof Symbol.for?e[Symbol.for("level")]:r;var c=function(e,t){return null!=e.config.npm.levels[t]?"npm":null!=e.config.syslog.levels[t]?"syslog":"unknown"}(this.winston,r);for(var u in i=i||{},a)a.hasOwnProperty(u)&&(i[u]=a[u]);s.channel.publish("winston",{message:n,level:r,levelKind:c,meta:i}),t()},t}(e.Transport);function n(){var n,r=arguments[0].levels||e.config.npm.levels;for(var i in r)r.hasOwnProperty(i)&&(n=void 0===n||r[i]>r[n]?i:n);this.add(new t(e,{level:n}))}var r=e.createLogger;e.createLogger=function(){var i,o=arguments[0].levels||e.config.npm.levels;for(var s in o)o.hasOwnProperty(s)&&(i=void 0===i||o[s]>o[i]?s:i);var a=r.apply(this,arguments);a.add(new t(e,{level:i}));var c=a.configure;return a.configure=function(){c.apply(this,arguments),n.apply(this,arguments)},a};var a=e.createLogger;return e.configure=function(){a.apply(this,arguments),n.apply(this,arguments)},e.add(new t(e)),e}},t.winston2={versionSpecifier:"2.x",patch:function(e){var t,n=e.Logger.prototype.log,r=function(n,r,i){var o;return o=t===e.config.npm.levels?"npm":t===e.config.syslog.levels?"syslog":"unknown",s.channel.publish("winston",{level:n,message:r,meta:i,levelKind:o}),r};return e.Logger.prototype.log=function(){return t=this.levels,this.filters&&0!==this.filters.length?this.filters[this.filters.length-1]!==r&&(this.filters=this.filters.filter((function(e){return e!==r})),this.filters.push(r)):this.filters=[r],n.apply(this,arguments)},e}},t.enable=function(){s.channel.registerMonkeyPatch("winston",t.winston2),s.channel.registerMonkeyPatch("winston",t.winston3)}},function(e,t,n){"use strict";const r=n(27);process&&r.gte(process.versions.node,"8.0.0")?e.exports=n(79):e.exports=n(81)},function(e,t,n){"use strict";const r=n(28),i=n(29),o=n(30),s=n(80),a=process.env.DEBUG_CLS_HOOKED;let c=-1;function u(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map,this._indent=0}function l(e){return process.namespaces[e]}function p(e){let t=l(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function f(...e){a&&process._rawDebug(""+r.format(...e))}e.exports={getNamespace:l,createNamespace:function(e){i.ok(e,"namespace must be given a name."),a&&f(`NS-CREATING NAMESPACE (${e})`);let t=new u(e);t.id=c;return s.createHook({init(n,i,o,u){c=s.executionAsyncId();if(t.active){t._contexts.set(n,t.active);if(a){const s=" ".repeat(t._indent<0?0:t._indent);f(`${s}INIT [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${u}`)}}else if(c===0){const o=s.triggerAsyncId();const l=t._contexts.get(o);if(l){t._contexts.set(n,l);if(a){const s=" ".repeat(t._indent<0?0:t._indent);f(`${s}INIT USING CONTEXT FROM TRIGGERID [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${u}`)}}else if(a){const s=" ".repeat(t._indent<0?0:t._indent);f(`${s}INIT MISSING CONTEXT [${i}] (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${u}`)}}if(a&&i==="PROMISE"){f(r.inspect(u,{showHidden:true}));const s=u.parentId;const a=" ".repeat(t._indent<0?0:t._indent);f(`${a}INIT RESOURCE-PROMISE [${i}] (${e}) parentId:${s} asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} resource:${u}`)}},before(n){c=s.executionAsyncId();let i;i=t._contexts.get(n)||t._contexts.get(c);if(i){if(a){const o=s.triggerAsyncId();const a=" ".repeat(t._indent<0?0:t._indent);f(`${a}BEFORE (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`);t._indent+=2}t.enter(i)}else if(a){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);f(`${o}BEFORE MISSING CONTEXT (${e}) asyncId:${n} currentUid:${c} triggerId:${i} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} namespace._contexts:${r.inspect(t._contexts,{showHidden:true,depth:2,colors:true})}`);t._indent+=2}},after(n){c=s.executionAsyncId();let i;i=t._contexts.get(n)||t._contexts.get(c);if(i){if(a){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);f(`${a}AFTER (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`)}t.exit(i)}else if(a){const o=s.triggerAsyncId();t._indent-=2;const a=" ".repeat(t._indent<0?0:t._indent);f(`${a}AFTER MISSING CONTEXT (${e}) asyncId:${n} currentUid:${c} triggerId:${o} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(i)}`)}},destroy(n){c=s.executionAsyncId();if(a){const i=s.triggerAsyncId();const o=" ".repeat(t._indent<0?0:t._indent);f(`${o}DESTROY (${e}) currentUid:${c} asyncId:${n} triggerId:${i} active:${r.inspect(t.active,{showHidden:true,depth:2,colors:true})} context:${r.inspect(t._contexts.get(c))}`)}t._contexts.delete(n)}}).enable(),process.namespaces[e]=t,t},destroyNamespace:p,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){p(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},u.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");if(this.active[e]=t,a){f(" ".repeat(this._indent<0?0:this._indent)+"CONTEXT-SET KEY:"+e+"="+t+" in ns:"+this.name+" currentUid:"+c+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0}))}return t},u.prototype.get=function(e){if(this.active){if(a){const t=s.executionAsyncId(),n=s.triggerAsyncId(),i=" ".repeat(this._indent<0?0:this._indent);f(i+"CONTEXT-GETTING KEY:"+e+"="+this.active[e]+" ("+this.name+") currentUid:"+c+" active:"+r.inspect(this.active,{showHidden:!0,depth:2,colors:!0})),f(`${i}CONTEXT-GETTING KEY: (${this.name}) ${e}=${this.active[e]} currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} active:${r.inspect(this.active)}`)}return this.active[e]}if(a){const t=s.currentId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-GETTING KEY NO ACTIVE NS: (${this.name}) ${e}=undefined currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length}`)}},u.prototype.createContext=function(){let e=Object.create(this.active?this.active:Object.prototype);if(e._ns_name=this.name,e.id=c,a){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-CREATED Context: (${this.name}) currentUid:${c} asyncHooksCurrentId:${t} triggerId:${n} len:${this._set.length} context:${r.inspect(e,{showHidden:!0,depth:2,colors:!0})}`)}return e},u.prototype.run=function(e){let t=this.createContext();this.enter(t);try{if(a){const e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN BEGIN: (${this.name}) currentUid:${c} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} context:${r.inspect(t)}`)}return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{if(a){const e=s.triggerAsyncId(),n=s.executionAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-RUN END: (${this.name}) currentUid:${c} triggerId:${e} asyncHooksCurrentId:${n} len:${this._set.length} ${r.inspect(t)}`)}this.exit(t)}},u.prototype.runAndReturn=function(e){let t;return this.run((function(n){t=e(n)})),t},u.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return a&&f("CONTEXT-runPromise BEFORE: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(a&&f("CONTEXT-runPromise AFTER then: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,a&&f("CONTEXT-runPromise AFTER catch: ("+this.name+") currentUid:"+c+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},u.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},u.prototype.enter=function(e){if(i.ok(e,"context must be provided for entering"),a){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-ENTER: (${this.name}) currentUid:${c} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}this._set.push(this.active),this.active=e},u.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),a){const t=s.executionAsyncId(),n=s.triggerAsyncId();f(`${" ".repeat(this._indent<0?0:this._indent)}CONTEXT-EXIT: (${this.name}) currentUid:${c} triggerId:${n} asyncHooksCurrentId:${t} len:${this._set.length} ${r.inspect(e)}`)}if(this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(a&&f("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},u.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},u.prototype.fromException=function(e){return e["error@context"]},process.namespaces={}},function(e,t){e.exports=require("async_hooks")},function(e,t,n){"use strict";const r=n(28),i=n(29),o=n(30),s=n(82),a=[];for(let e in s.providers)a[s.providers[e]]=e;const c=process.env.DEBUG_CLS_HOOKED;let u=-1;function l(e){this.name=e,this.active=null,this._set=[],this.id=null,this._contexts=new Map}function p(e){return process.namespaces[e]}function f(e){let t=p(e);i.ok(t,"can't delete nonexistent namespace! \""+e+'"'),i.ok(t.id,"don't assign to process.namespaces directly! "+r.inspect(t)),process.namespaces[e]=null}function d(e){process.env.DEBUG&&process._rawDebug(e)}function h(e){return e?"function"==typeof e?e.name?e.name:(e.toString().trim().match(/^function\s*([^\s(]+)/)||[])[1]:e.constructor&&e.constructor.name?e.constructor.name:void 0:e}if(e.exports={getNamespace:p,createNamespace:function(e){i.ok(e,"namespace must be given a name."),c&&d("CREATING NAMESPACE "+e);let t=new l(e);return t.id=u,s.addHooks({init(n,i,o,s,l){u=n,s?(t._contexts.set(n,t._contexts.get(s)),c&&d("PARENTID: "+e+" uid:"+n+" parent:"+s+" provider:"+o)):t._contexts.set(u,t.active),c&&d("INIT "+e+" uid:"+n+" parent:"+s+" provider:"+a[o]+" active:"+r.inspect(t.active,!0))},pre(n,i){u=n;let o=t._contexts.get(n);o?(c&&d(" PRE "+e+" uid:"+n+" handle:"+h(i)+" context:"+r.inspect(o)),t.enter(o)):c&&d(" PRE MISSING CONTEXT "+e+" uid:"+n+" handle:"+h(i))},post(n,i){u=n;let o=t._contexts.get(n);o?(c&&d(" POST "+e+" uid:"+n+" handle:"+h(i)+" context:"+r.inspect(o)),t.exit(o)):c&&d(" POST MISSING CONTEXT "+e+" uid:"+n+" handle:"+h(i))},destroy(n){u=n,c&&d("DESTROY "+e+" uid:"+n+" context:"+r.inspect(t._contexts.get(u))+" active:"+r.inspect(t.active,!0)),t._contexts.delete(n)}}),process.namespaces[e]=t,t},destroyNamespace:f,reset:function(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){f(e)}));process.namespaces=Object.create(null)},ERROR_SYMBOL:"error@context"},l.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return c&&d("    SETTING KEY:"+e+"="+t+" in ns:"+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[e]=t,t},l.prototype.get=function(e){if(this.active)return c&&d("    GETTING KEY:"+e+"="+this.active[e]+" "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0)),this.active[e];c&&d("    GETTING KEY:"+e+"=undefined "+this.name+" uid:"+u+" active:"+r.inspect(this.active,!0))},l.prototype.createContext=function(){c&&d("   CREATING Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  active:"+r.inspect(this.active,!0,2,!0));let e=Object.create(this.active?this.active:Object.prototype);return e._ns_name=this.name,e.id=u,c&&d("   CREATED Context: "+this.name+" uid:"+u+" len:"+this._set.length+"  context:"+r.inspect(e,!0,2,!0)),e},l.prototype.run=function(e){let t=this.createContext();this.enter(t);try{return c&&d(" BEFORE RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(t)),e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{c&&d(" AFTER RUN: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t)}},l.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},l.prototype.runPromise=function(e){let t=this.createContext();this.enter(t);let n=e(t);if(!n||!n.then||!n.catch)throw new Error("fn must return a promise.");return c&&d(" BEFORE runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(t)),n.then(e=>(c&&d(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e)).catch(e=>{throw e["error@context"]=t,c&&d(" AFTER runPromise: "+this.name+" uid:"+u+" len:"+this._set.length+" "+r.inspect(t)),this.exit(t),e})},l.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());let n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},l.prototype.enter=function(e){i.ok(e,"context must be provided for entering"),c&&d("  ENTER "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(e)),this._set.push(this.active),this.active=e},l.prototype.exit=function(e){if(i.ok(e,"context must be provided for exiting"),c&&d("  EXIT "+this.name+" uid:"+u+" len:"+this._set.length+" context: "+r.inspect(e)),this.active===e)return i.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());let t=this._set.lastIndexOf(e);t<0?(c&&d("??ERROR?? context exiting but not entered - ignoring: "+r.inspect(e)),i.ok(t>=0,"context not currently entered; can't exit. \n"+r.inspect(this)+"\n"+r.inspect(e))):(i.ok(t,"can't remove top context"),this._set.splice(t,1))},l.prototype.bindEmitter=function(e){i.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");let t=this,n="context@"+this.name;o(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;let t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){let r=n[e];t=r.namespace.bind(t,r.context)})),t}))},l.prototype.fromException=function(e){return e["error@context"]},process.namespaces={},s._state&&!s._state.enabled&&s.enable(),c){var v=n(41);for(var g in v.filter._modifiers)v.filter.deattach(g)}},function(e,t,n){"use strict";(function(t){const r=n(83);if(global._asyncHook){if(global._asyncHook.version!==n(40).version)throw new Error("Conflicting version of async-hook-jl found");e.exports=global._asyncHook}else{n(41).filter.attach((function(e,n){return n.filter((function(e){const n=e.getFileName();return!(n&&n.slice(0,t.length)===t)}))})),e.exports=global._asyncHook=new r}}).call(this,"/")},function(e,t,n){"use strict";const r=process.binding("async_wrap"),i=r.Providers.TIMERWRAP,o={nextTick:n(84),promise:n(85),timers:n(86)},s=new Set;function a(){this.enabled=!1,this.counter=0}function c(){const e=this.initFns=[],t=this.preFns=[],n=this.postFns=[],r=this.destroyFns=[];this.init=function(t,n,r,o){if(n!==i)for(const i of e)i(t,this,n,r,o);else s.add(t)},this.pre=function(e){if(!s.has(e))for(const n of t)n(e,this)},this.post=function(e,t){if(!s.has(e))for(const r of n)r(e,this,t)},this.destroy=function(e){if(s.has(e))s.delete(e);else for(const t of r)t(e)}}function u(e,t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}function l(){this._state=new a,this._hooks=new c,this.version=n(40).version,this.providers=r.Providers;for(const e of Object.keys(o))o[e].call(this);process.env.hasOwnProperty("NODE_ASYNC_HOOK_WARNING")&&console.warn("warning: you are using async-hook-jl which is unstable."),r.setupHooks({init:this._hooks.init,pre:this._hooks.pre,post:this._hooks.post,destroy:this._hooks.destroy})}c.prototype.add=function(e){e.init&&this.initFns.push(e.init),e.pre&&this.preFns.push(e.pre),e.post&&this.postFns.push(e.post),e.destroy&&this.destroyFns.push(e.destroy)},c.prototype.remove=function(e){e.init&&u(this.initFns,e.init),e.pre&&u(this.preFns,e.pre),e.post&&u(this.postFns,e.post),e.destroy&&u(this.destroyFns,e.destroy)},e.exports=l,l.prototype.addHooks=function(e){this._hooks.add(e)},l.prototype.removeHooks=function(e){this._hooks.remove(e)},l.prototype.enable=function(){this._state.enabled=!0,r.enable()},l.prototype.disable=function(){this._state.enabled=!1,r.disable()}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=process.nextTick;process.nextTick=function(){if(!t.enabled)return n.apply(process,arguments);const i=new Array(arguments.length);for(let e=0;e<arguments.length;e++)i[e]=arguments[e];const o=i[0];if("function"!=typeof o)throw new TypeError("callback is not a function");const s=new r,a=--t.counter;return e.init.call(s,a,0,null,null),i[0]=function(){e.pre.call(s,a);let t=!0;try{o.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(s,a,!0),e.destroy.call(null,a)}))}e.post.call(s,a,!1),e.destroy.call(null,a)},n.apply(process,i)}}},function(e,t,n){"use strict";function r(){}e.exports=function(){const e=this._hooks,t=this._state,n=global.Promise,i=n.prototype.then;function o(t,n,r,i){return"function"!=typeof t?i?function(t){return function(n){return e.destroy.call(null,t),n}}(r):function(t){return function(n){throw e.destroy.call(null,t),n}}(r):function(){e.pre.call(n,r);try{return t.apply(this,arguments)}finally{e.post.call(n,r,!1),e.destroy.call(null,r)}}}n.prototype.then=function(n,s){if(!t.enabled)return i.call(this,n,s);const a=new r,c=--t.counter;return e.init.call(a,c,0,null,null),i.call(this,o(n,a,c,!0),o(s,a,c,!1))}}},function(e,t,n){"use strict";const r=n(39);function i(){}function o(){}function s(){}const a=new Map,c=new Map,u=new Map;let l=null,p=!1;function f(e,t,n,i,o,s,a){const c=r[n],u=r[i];r[n]=function(){if(!t.enabled)return c.apply(r,arguments);const n=new Array(arguments.length);for(let e=0;e<arguments.length;e++)n[e]=arguments[e];const i=n[0];if("function"!=typeof i)throw new TypeError('"callback" argument must be a function');const u=new o,f=--t.counter;let d=void 0;return e.init.call(u,f,0,null,null),n[0]=function(){l=d,e.pre.call(u,f);let t=!0;try{i.apply(this,arguments),t=!1}finally{t&&process.listenerCount("uncaughtException")>0&&process.once("uncaughtException",(function(){e.post.call(u,f,!0),s.delete(d),e.destroy.call(null,f)}))}e.post.call(u,f,!1),l=null,(a||p)&&(p=!1,s.delete(d),e.destroy.call(null,f))},d=c.apply(r,n),s.set(d,f),d},r[i]=function(t){if(l===t&&null!==t)p=!0;else if(s.has(t)){const n=s.get(t);s.delete(t),e.destroy.call(null,n)}u.apply(r,arguments)}}e.exports=function(){f(this._hooks,this._state,"setTimeout","clearTimeout",i,a,!0),f(this._hooks,this._state,"setInterval","clearInterval",o,c,!1),f(this._hooks,this._state,"setImmediate","clearImmediate",s,u,!0),global.setTimeout=r.setTimeout,global.setInterval=r.setInterval,global.setImmediate=r.setImmediate,global.clearTimeout=r.clearTimeout,global.clearInterval=r.clearInterval,global.clearImmediate=r.clearImmediate}},function(e,t,n){var r=n(88);function i(){this.extend=new a,this.filter=new a,this.format=new c,this.version=n(42).version}var o=!1;i.prototype.callSite=function e(t){t||(t={}),o=!0;var n={};Error.captureStackTrace(n,e);var r=n.stack;return o=!1,r=r.slice(t.slice||0),t.extend&&(r=this.extend._modify(n,r)),t.filter&&(r=this.filter._modify(n,r)),r};var s=new i;function a(){this._modifiers=[]}function c(){this._formater=r,this._previous=void 0}a.prototype._modify=function(e,t){for(var n=0,r=this._modifiers.length;n<r;n++)t=this._modifiers[n](e,t);return t},a.prototype.attach=function(e){this._modifiers.push(e)},a.prototype.deattach=function(e){var t=this._modifiers.indexOf(e);return-1!==t&&(this._modifiers.splice(t,1),!0)},c.prototype.replace=function(e){e?this._formater=e:this.restore()},c.prototype.restore=function(){this._formater=r,this._previous=void 0},c.prototype._backup=function(){this._previous=this._formater},c.prototype._roolback=function(){this._previous===r?this.replace(void 0):this.replace(this._previous),this._previous=void 0},Error.prepareStackTrace&&s.format.replace(Error.prepareStackTrace);var u=!1;function l(e,t){if(o)return t;if(u)return r(e,t);var n=t.concat();n=s.extend._modify(e,n),n=(n=s.filter._modify(e,n)).slice(0,Error.stackTraceLimit),Object.isExtensible(e)&&void 0===Object.getOwnPropertyDescriptor(e,"callSite")&&(e.callSite={original:t,mutated:n}),u=!0;var i=s.format._formater(e,n);return u=!1,i}Object.defineProperty(Error,"prepareStackTrace",{get:function(){return l},set:function(e){e===l?s.format._roolback():(s.format._backup(),s.format.replace(e))}}),Object.defineProperty(Error.prototype,"callSite",{get:function(){return this.stack,this.callSite},set:function(e){Object.defineProperty(this,"callSite",{value:e,writable:!0,configurable:!0})},configurable:!0}),e.exports=s},function(e,t){e.exports=function(e,t){var n=[];n.push(function(e){try{return Error.prototype.toString.call(e)}catch(e){try{return"<error: "+e+">"}catch(e){return"<error>"}}}(e));for(var r=0;r<t.length;r++){var i,o=t[r];try{i=o.toString()}catch(e){try{i="<error: "+e+">"}catch(e){i="<error>"}}n.push("    at "+i)}return n.join("\n")}},function(e,t,n){"use strict";var r=n(29),i=n(30);function o(e){this.name=e,this.active=null,this._set=[],this.id=null}function s(e){return process.namespaces[e]}function a(e){var t=s(e);r.ok(t,"can't delete nonexistent namespace!"),r.ok(t.id,"don't assign to process.namespaces directly!"),process.removeAsyncListener(t.id),process.namespaces[e]=null}function c(){process.namespaces&&Object.keys(process.namespaces).forEach((function(e){a(e)})),process.namespaces=Object.create(null)}process.addAsyncListener||n(90),o.prototype.set=function(e,t){if(!this.active)throw new Error("No context available. ns.run() or ns.bind() must be called first.");return this.active[e]=t,t},o.prototype.get=function(e){if(this.active)return this.active[e]},o.prototype.createContext=function(){return Object.create(this.active)},o.prototype.run=function(e){var t=this.createContext();this.enter(t);try{return e(t),t}catch(e){throw e&&(e["error@context"]=t),e}finally{this.exit(t)}},o.prototype.runAndReturn=function(e){var t;return this.run((function(n){t=e(n)})),t},o.prototype.bind=function(e,t){t||(t=this.active?this.active:this.createContext());var n=this;return function(){n.enter(t);try{return e.apply(this,arguments)}catch(e){throw e&&(e["error@context"]=t),e}finally{n.exit(t)}}},o.prototype.enter=function(e){r.ok(e,"context must be provided for entering"),this._set.push(this.active),this.active=e},o.prototype.exit=function(e){if(r.ok(e,"context must be provided for exiting"),this.active===e)return r.ok(this._set.length,"can't remove top context"),void(this.active=this._set.pop());var t=this._set.lastIndexOf(e);r.ok(t>=0,"context not currently entered; can't exit"),r.ok(t,"can't remove top context"),this._set.splice(t,1)},o.prototype.bindEmitter=function(e){r.ok(e.on&&e.addListener&&e.emit,"can only bind real EEs");var t=this,n="context@"+this.name;i(e,(function(e){e&&(e["cls@contexts"]||(e["cls@contexts"]=Object.create(null)),e["cls@contexts"][n]={namespace:t,context:t.active})}),(function(e){if(!e||!e["cls@contexts"])return e;var t=e,n=e["cls@contexts"];return Object.keys(n).forEach((function(e){var r=n[e];t=r.namespace.bind(t,r.context)})),t}))},o.prototype.fromException=function(e){return e["error@context"]},process.namespaces||c(),e.exports={getNamespace:s,createNamespace:function(e){r.ok(e,"namespace must be given a name!");var t=new o(e);return t.id=process.addAsyncListener({create:function(){return t.active},before:function(e,n){n&&t.enter(n)},after:function(e,n){n&&t.exit(n)},error:function(e){e&&t.exit(e)}}),process.namespaces[e]=t,t},destroyNamespace:a,reset:c}},function(e,t,n){"use strict";if(process.addAsyncListener)throw new Error("Don't require polyfill unless needed");var r=n(31),i=n(27),o=r.wrap,s=r.massWrap,a=n(91),c=n(28),u=i.gte(process.version,"6.0.0"),l=i.gte(process.version,"7.0.0"),p=i.gte(process.version,"8.0.0"),f=i.gte(process.version,"11.0.0"),d=n(92);function h(e){return function(){this.on("connection",(function(e){e._handle&&(e._handle.onread=a(e._handle.onread))}));try{return e.apply(this,arguments)}finally{this._handle&&this._handle.onconnection&&(this._handle.onconnection=a(this._handle.onconnection))}}}function v(e){if(e&&e._handle){var t=e._handle;t._originalOnread||(t._originalOnread=t.onread),t.onread=a(t._originalOnread)}}l&&!d._normalizeArgs?d._normalizeArgs=function(e){if(0===e.length)return[{},null];var t,n,r=e[0],i={};"object"==typeof r&&null!==r?i=r:"string"==typeof(t=r)&&!1===(n=t,(n=Number(n))>=0&&n)?i.path=r:(i.port=r,e.length>1&&"string"==typeof e[1]&&(i.host=e[1]));var o=e[e.length-1];return"function"!=typeof o?[i,null]:[i,o]}:l||d._normalizeConnectArgs||(d._normalizeConnectArgs=function(e){var t,n={};"object"==typeof e[0]&&null!==e[0]?n=e[0]:"string"==typeof e[0]&&!1===(t=e[0],(t=Number(t))>=0&&t)?n.path=e[0]:(n.port=e[0],"string"==typeof e[1]&&(n.host=e[1]));var r=e[e.length-1];return"function"==typeof r?[n,r]:[n]}),"_setUpListenHandle"in d.Server.prototype?o(d.Server.prototype,"_setUpListenHandle",h):o(d.Server.prototype,"_listen2",h),o(d.Socket.prototype,"connect",(function(e){return function(){var t;(t=p&&Array.isArray(arguments[0])&&Object.getOwnPropertySymbols(arguments[0]).length>0?arguments[0]:l?d._normalizeArgs(arguments):d._normalizeConnectArgs(arguments))[1]&&(t[1]=a(t[1]));var n=e.apply(this,t);return v(this),n}}));var g=n(18);o(g.Agent.prototype,"addRequest",(function(e){return function(t){var n=t.onSocket;return t.onSocket=a((function(e){return v(e),n.apply(this,arguments)})),e.apply(this,arguments)}}));var y=n(19);function m(e){Array.isArray(e.stdio)&&e.stdio.forEach((function(e){e&&e._handle&&(e._handle.onread=a(e._handle.onread),o(e._handle,"close",R))})),e._handle&&(e._handle.onexit=a(e._handle.onexit))}y.ChildProcess?o(y.ChildProcess.prototype,"spawn",(function(e){return function(){var t=e.apply(this,arguments);return m(this),t}})):s(y,["execFile","fork","spawn"],(function(e){return function(){var t=e.apply(this,arguments);return m(t),t}})),process._fatalException||(process._originalNextTick=process.nextTick);var _=[];process._nextDomainTick&&_.push("_nextDomainTick"),process._tickDomainCallback&&_.push("_tickDomainCallback"),s(process,_,P),o(process,"nextTick",R);var b=["setTimeout","setInterval"];global.setImmediate&&b.push("setImmediate");var E=n(39),C=global.setTimeout===E.setTimeout;s(E,b,R),C&&s(global,b,R);var w=n(93);s(w,["lookup","resolve","resolve4","resolve6","resolveCname","resolveMx","resolveNs","resolveTxt","resolveSrv","reverse"],P),w.resolveNaptr&&o(w,"resolveNaptr",P);var T,I,x=n(10);s(x,["watch","rename","truncate","chown","fchown","chmod","fchmod","stat","lstat","fstat","link","symlink","readlink","realpath","unlink","rmdir","mkdir","readdir","close","open","utimes","futimes","fsync","write","read","readFile","writeFile","appendFile","watchFile","unwatchFile","exists"],P),x.lchown&&o(x,"lchown",P),x.lchmod&&o(x,"lchmod",P),x.ftruncate&&o(x,"ftruncate",P);try{T=n(43)}catch(e){}if(T&&T.Deflate&&T.Deflate.prototype){var A=Object.getPrototypeOf(T.Deflate.prototype);A._transform?o(A,"_transform",P):A.write&&A.flush&&A.end&&s(A,["write","flush","end"],P)}try{I=n(35)}catch(e){}if(I){var S=["pbkdf2","randomBytes"];f||S.push("pseudoRandomBytes"),s(I,S,P)}var O=!!global.Promise&&"function Promise() { [native code] }"===Promise.toString()&&"function toString() { [native code] }"===Promise.toString.toString();if(O){var k=process.addAsyncListener({create:function(){O=!1}});global.Promise.resolve(!0).then((function(){O=!1})),process.removeAsyncListener(k)}function P(e){var t=function(){var t,n=arguments.length-1;if("function"==typeof arguments[n]){t=Array(arguments.length);for(var r=0;r<arguments.length-1;r++)t[r]=arguments[r];t[n]=a(arguments[n])}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof r&&(r=a(r)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof i&&(i=a(i)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof o&&(o=a(o)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof s&&(s=a(s)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof c&&(c=a(c)),e.call(this,n,r,i,o,s,c))};default:return t}}function R(e){var t=function(){var t;if("function"==typeof arguments[0]){(t=Array(arguments.length))[0]=a(arguments[0]);for(var n=1;n<arguments.length;n++)t[n]=arguments[n]}return e.apply(this,t||arguments)};switch(e.length){case 1:return function(n){return 1!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n))};case 2:return function(n,r){return 2!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r))};case 3:return function(n,r,i){return 3!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i))};case 4:return function(n,r,i,o){return 4!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o))};case 5:return function(n,r,i,o,s){return 5!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s))};case 6:return function(n,r,i,o,s,c){return 6!==arguments.length?t.apply(this,arguments):("function"==typeof n&&(n=a(n)),e.call(this,n,r,i,o,s,c))};default:return t}}O&&function(){var e=global.Promise;function t(n){if(!(this instanceof t))return e(n);if("function"!=typeof n)return new e(n);var i,o,s=new e((function(e,t){i=this,o=[function(t){return r(s,!1),e(t)},function(e){return r(s,!1),t(e)}]}));s.__proto__=t.prototype;try{n.apply(i,o)}catch(e){o[1](e)}return s}c.inherits(t,e),o(e.prototype,"then",s),e.prototype.chain&&o(e.prototype,"chain",s);if(u)global.Promise=n(94)(e,r);else{["all","race","reject","resolve","accept","defer"].forEach((function(n){"function"==typeof e[n]&&(t[n]=e[n])})),global.Promise=t}function r(e,t){e.__asl_wrapper&&!t||(e.__asl_wrapper=a(i))}function i(t,n,o,s){var a;try{return{returnVal:a=n.call(t,o),error:!1}}catch(e){return{errorVal:e,error:!0}}finally{a instanceof e?s.__asl_wrapper=function(){var e=a.__asl_wrapper||i;return e.apply(this,arguments)}:r(s,!0)}}function s(e){return function(){var t=this,n=e.apply(t,Array.prototype.map.call(arguments,r));return n.__asl_wrapper=function(e,r,o,s){return t.__asl_wrapper?(t.__asl_wrapper(e,(function(){}),null,n),n.__asl_wrapper(e,r,o,s)):i(e,r,o,s)},n;function r(e){return"function"!=typeof e?e:a((function(r){var o=(t.__asl_wrapper||i)(this,e,r,n);if(o.error)throw o.errorVal;return o.returnVal}))}}}}()},function(e,t,n){var r,i,o=n(31).wrap,s=[],a=0,c=!1,u=[];function l(e,t){var n=e.length,r=t.length,i=[];if(0===n&&0===r)return i;for(var o=0;o<n;o++)i[o]=e[o];if(0===r)return i;for(var s=0;s<r;s++){var a=!0;for(o=0;o<n;o++)if(e[o].uid===t[s].uid){a=!1;break}a&&i.push(t[s])}return i}if(process._fatalException){var p,f=!1;r=function(e){var t=s.length;if(f||0===t)return!1;var n=!1;f=!0;for(var r=0;r<t;++r){var i=s[r];if(0!=(8&i.flags)){var o=p&&p[i.uid];n=i.error(o,e)||n}}return f=!1,u.length>0&&(s=u.pop()),p=void 0,n&&!c},i=function(e,t,n){var r=[];c=!0;for(var i=0;i<n;++i){var o=t[i];if(r[o.uid]=o.data,0!=(1&o.flags)){var a=o.create(o.data);void 0!==a&&(r[o.uid]=a)}}return c=!1,function(){p=r,u.push(s),s=l(t,s),c=!0;for(var i=0;i<n;++i)(2&t[i].flags)>0&&t[i].before(this,r[t[i].uid]);c=!1;var o=e.apply(this,arguments);for(c=!0,i=0;i<n;++i)(4&t[i].flags)>0&&t[i].after(this,r[t[i].uid]);return c=!1,s=u.pop(),p=void 0,o}},o(process,"_fatalException",(function(e){return function(t){return r(t)||e(t)}}))}else{var d=!1;r=function(e){if(d)throw e;for(var t=!1,n=s.length,r=0;r<n;++r){var i=s[r];0!=(8&i.flags)&&(t=i.error(null,e)||t)}if(!t&&c)throw e},i=function(e,t,n){var i=[];c=!0;for(var o=0;o<n;++o){var a=t[o];if(i[a.uid]=a.data,0!=(1&a.flags)){var p=a.create(a.data);void 0!==p&&(i[a.uid]=p)}}return c=!1,function(){var o,a=!1,p=!1;u.push(s),s=l(t,s),c=!0;for(var f=0;f<n;++f)(2&t[f].flags)>0&&t[f].before(this,i[t[f].uid]);c=!1;try{o=e.apply(this,arguments)}catch(e){a=!0;for(f=0;f<n;++f)if(0!=(8&s[f].flags))try{p=s[f].error(i[t[f].uid],e)||p}catch(e){throw d=!0,e}if(!p)throw process.removeListener("uncaughtException",r),process._originalNextTick((function(){process.addListener("uncaughtException",r)})),e}finally{if(!a||p){for(c=!0,f=0;f<n;++f)(4&t[f].flags)>0&&t[f].after(this,i[t[f].uid]);c=!1}s=u.pop()}return o}},process.addListener("uncaughtException",r)}function h(e,t){"function"==typeof e.create&&(this.create=e.create,this.flags|=1),"function"==typeof e.before&&(this.before=e.before,this.flags|=2),"function"==typeof e.after&&(this.after=e.after,this.flags|=4),"function"==typeof e.error&&(this.error=e.error,this.flags|=8),this.uid=++a,this.data=void 0===t?null:t}function v(e,t){if("object"!=typeof e||!e)throw new TypeError("callbacks argument must be an object");return e instanceof h?e:new h(e,t)}h.prototype.create=void 0,h.prototype.before=void 0,h.prototype.after=void 0,h.prototype.error=void 0,h.prototype.data=void 0,h.prototype.uid=0,h.prototype.flags=0,process.createAsyncListener=v,process.addAsyncListener=function(e,t){var n;n=e instanceof h?e:v(e,t);for(var r=!1,i=0;i<s.length;i++)if(n===s[i]){r=!0;break}return r||s.push(n),n},process.removeAsyncListener=function(e){for(var t=0;t<s.length;t++)if(e===s[t]){s.splice(t,1);break}},e.exports=function(e){var t=s.length;if(0===t)return e;for(var n=s.slice(),r=0;r<t;++r)if(n[r].flags>0)return i(e,n,t);return function(e,t,n){c=!0;for(var r=0;r<n;++r){var i=t[r];i.create&&i.create(i.data)}return c=!1,function(){u.push(s),s=l(t,s);var n=e.apply(this,arguments);return s=u.pop(),n}}(e,n,t)}},function(e,t){e.exports=require("net")},function(e,t){e.exports=require("dns")},function(e,t,n){"use strict";e.exports=(e,t)=>class extends e{constructor(e){var n,r;super((function(e,o){n=this,r=[function(n){return t(i,!1),e(n)},function(e){return t(i,!1),o(e)}]}));var i=this;try{e.apply(n,r)}catch(e){r[1](e)}return i}}},function(e,t,n){"use strict";var r=n(26),i=function(){function e(t){if(e.INSTANCE)throw new Error("Console logging adapter tracking should be configured from the applicationInsights object");this._client=t,e.INSTANCE=this}return e.prototype.enable=function(e,t){r.IsInitialized&&(n(96).enable(e&&t,this._client),n(114).enable(e,this._client),n(115).enable(e,this._client))},e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1,!1)},e._methodNames=["debug","info","log","warn","error"],e}();e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),o=[],s=function(e){var t=e.data.message;o.forEach((function(n){t instanceof Error?n.trackException({exception:t}):(t.lastIndexOf("\n")==t.length-1&&(t=t.substring(0,t.length-1)),n.trackTrace({message:t,severity:e.data.stderr?r.SeverityLevel.Warning:r.SeverityLevel.Information}))}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("console",s),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("console",s)},t.dispose=function(){i.channel.unsubscribe("console",s),o=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(44),i=function(){function e(){}return e.TYPE_HTTP="Http",e.TYPE_AI="Http (tracked component)",e}();t.RemoteDependencyDataConstants=i,t.domainSupportsProperties=function(e){return"properties"in e||e instanceof r.EventData||e instanceof r.ExceptionData||e instanceof r.MessageData||e instanceof r.MetricData||e instanceof r.PageViewData||e instanceof r.RemoteDependencyData||e instanceof r.RequestData}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r=function(){this.applicationVersion="ai.application.ver",this.deviceId="ai.device.id",this.deviceLocale="ai.device.locale",this.deviceModel="ai.device.model",this.deviceOEMName="ai.device.oemName",this.deviceOSVersion="ai.device.osVersion",this.deviceType="ai.device.type",this.locationIp="ai.location.ip",this.operationId="ai.operation.id",this.operationName="ai.operation.name",this.operationParentId="ai.operation.parentId",this.operationSyntheticSource="ai.operation.syntheticSource",this.operationCorrelationVector="ai.operation.correlationVector",this.sessionId="ai.session.id",this.sessionIsFirst="ai.session.isFirst",this.userAccountId="ai.user.accountId",this.userId="ai.user.id",this.userAuthUserId="ai.user.authUserId",this.cloudRole="ai.cloud.role",this.cloudRoleInstance="ai.cloud.roleInstance",this.internalSdkVersion="ai.internal.sdkVersion",this.internalAgentVersion="ai.internal.agentVersion",this.internalNodeName="ai.internal.nodeName"};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){return e.call(this)||this}return i(t,e),t}(n(45));e.exports=o},function(e,t,n){"use strict";var r=n(46),i=function(){this.kind=r.Measurement};e.exports=i},function(e,t,n){"use strict";var r=function(){this.ver=1,this.sampleRate=100,this.tags={}};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.exceptions=[],t.properties={},t.measurements={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r=function(){this.hasFullStack=!0,this.parsedStack=[]};e.exports=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.metrics=[],t.properties={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(47));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.success=!0,t.properties={},t.measurements={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=function(e){function t(){var t=e.call(this)||this;return t.ver=2,t.properties={},t.measurements={},t}return i(t,e),t}(n(8));e.exports=o},function(e,t,n){"use strict";var r;!function(e){e[e.Verbose=0]="Verbose",e[e.Information=1]="Information",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.Critical=4]="Critical"}(r||(r={})),e.exports=r},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(113))},function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.telemetryTypeToBaseType=function(e){switch(e){case r.Event:return"EventData";case r.Exception:return"ExceptionData";case r.Trace:return"MessageData";case r.Metric:return"MetricData";case r.Request:return"RequestData";case r.Dependency:return"RemoteDependencyData";case r.Availability:return"AvailabilityData"}},t.baseTypeToTelemetryType=function(e){switch(e){case"EventData":return r.Event;case"ExceptionData":return r.Exception;case"MessageData":return r.Trace;case"MetricData":return r.Metric;case"RequestData":return r.Request;case"RemoteDependencyData":return r.Dependency;case"AvailabilityData":return r.Availability}},t.TelemetryTypeString={Event:"EventData",Exception:"ExceptionData",Trace:"MessageData",Metric:"MetricData",Request:"RequestData",Dependency:"RemoteDependencyData",Availability:"AvailabilityData"},function(e){e[e.Event=0]="Event",e[e.Exception=1]="Exception",e[e.Trace=2]="Trace",e[e.Metric=3]="Metric",e[e.Request=4]="Request",e[e.Dependency=5]="Dependency",e[e.Availability=6]="Availability"}(r=t.TelemetryType||(t.TelemetryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),o=[],s={10:r.SeverityLevel.Verbose,20:r.SeverityLevel.Verbose,30:r.SeverityLevel.Information,40:r.SeverityLevel.Warning,50:r.SeverityLevel.Error,60:r.SeverityLevel.Critical},a=function(e){var t=e.data.result;o.forEach((function(n){var r=s[e.data.level];t instanceof Error?n.trackException({exception:t}):n.trackTrace({message:t,severity:r})}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("bunyan",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("bunyan",a)},t.dispose=function(){i.channel.unsubscribe("bunyan",a),o=[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(0),o=[],s={syslog:function(e){var t={emerg:r.SeverityLevel.Critical,alert:r.SeverityLevel.Critical,crit:r.SeverityLevel.Critical,error:r.SeverityLevel.Error,warning:r.SeverityLevel.Warning,notice:r.SeverityLevel.Information,info:r.SeverityLevel.Information,debug:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},npm:function(e){var t={error:r.SeverityLevel.Error,warn:r.SeverityLevel.Warning,info:r.SeverityLevel.Information,verbose:r.SeverityLevel.Verbose,debug:r.SeverityLevel.Verbose,silly:r.SeverityLevel.Verbose};return void 0===t[e]?r.SeverityLevel.Information:t[e]},unknown:function(e){return r.SeverityLevel.Information}},a=function(e){var t=e.data.message;o.forEach((function(n){if(t instanceof Error)n.trackException({exception:t,properties:e.data.meta});else{var r=s[e.data.levelKind](e.data.level);n.trackTrace({message:t,severity:r,properties:e.data.meta})}}))};t.enable=function(e,t){e?(0===o.length&&i.channel.subscribe("winston",a),o.push(t)):0===(o=o.filter((function(e){return e!=t}))).length&&i.channel.unsubscribe("winston",a)},t.dispose=function(){i.channel.unsubscribe("winston",a),o=[]}},function(e,t,n){"use strict";var r=function(){function e(t){if(e.INSTANCE)throw new Error("Exception tracking should be configured from the applicationInsights object");e.INSTANCE=this,this._client=t;var n=process.versions.node.split(".");e._canUseUncaughtExceptionMonitor=parseInt(n[0])>13||13===parseInt(n[0])&&parseInt(n[1])>=7}return e.prototype.isInitialized=function(){return this._isInitialized},e.prototype.enable=function(t){var n=this;if(t){this._isInitialized=!0;if(!this._exceptionListenerHandle){var r=function(t,r,i){void 0===i&&(i=new Error(e._FALLBACK_ERROR_MESSAGE)),n._client.trackException({exception:i}),n._client.flush({isAppCrashing:!0}),t&&r&&1===process.listeners(r).length&&(console.error(i),process.exit(1))};e._canUseUncaughtExceptionMonitor?(this._exceptionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle)):(this._exceptionListenerHandle=r.bind(this,!0,e.UNCAUGHT_EXCEPTION_HANDLER_NAME),this._rejectionListenerHandle=r.bind(this,!1),process.on(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.on(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle))}}else this._exceptionListenerHandle&&(e._canUseUncaughtExceptionMonitor?process.removeListener(e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME,this._exceptionListenerHandle):(process.removeListener(e.UNCAUGHT_EXCEPTION_HANDLER_NAME,this._exceptionListenerHandle),process.removeListener(e.UNHANDLED_REJECTION_HANDLER_NAME,this._rejectionListenerHandle)),this._exceptionListenerHandle=void 0,this._rejectionListenerHandle=void 0,delete this._exceptionListenerHandle,delete this._rejectionListenerHandle)},e.prototype.dispose=function(){e.INSTANCE=null,this.enable(!1),this._isInitialized=!1},e.INSTANCE=null,e.UNCAUGHT_EXCEPTION_MONITOR_HANDLER_NAME="uncaughtExceptionMonitor",e.UNCAUGHT_EXCEPTION_HANDLER_NAME="uncaughtException",e.UNHANDLED_REJECTION_HANDLER_NAME="unhandledRejection",e._RETHROW_EXIT_MESSAGE="Application Insights Rethrow Exception Handler",e._FALLBACK_ERROR_MESSAGE="A promise was rejected without providing an error. Application Insights generated this error stack for you.",e._canUseUncaughtExceptionMonitor=!1,e}();e.exports=r},function(e,t){e.exports=require("constants")},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(16),s=n(4),a=n(5),c=n(17),u=n(48),l=n(12),p=function(e){function t(n,r){var i=e.call(this)||this;return r&&r.method&&n&&(i.method=r.method,i.url=t._getUrlFromRequestOptions(n,r),i.startTime=+new Date),i}return i(t,e),t.prototype.onError=function(e){this._setStatus(void 0,e)},t.prototype.onResponse=function(e){this._setStatus(e.statusCode,void 0),this.correlationId=a.getCorrelationContextTarget(e,c.requestContextTargetKey)},t.prototype.getDependencyTelemetry=function(e,t){var n=o.parse(this.url);n.search=void 0,n.hash=void 0;var r=this.method.toUpperCase()+" "+n.pathname,i=s.RemoteDependencyDataConstants.TYPE_HTTP,a=n.hostname;this.correlationId?(i=s.RemoteDependencyDataConstants.TYPE_AI,this.correlationId!==l.correlationIdPrefix&&(a=n.hostname+" | "+this.correlationId)):i=s.RemoteDependencyDataConstants.TYPE_HTTP,n.port&&(a+=":"+n.port);var c={id:t,name:r,data:this.url,duration:this.duration,success:this._isSuccess(),resultCode:this.statusCode?this.statusCode.toString():null,properties:this.properties||{},dependencyTypeName:i,target:a};if(e){for(var u in e)c[u]||(c[u]=e[u]);if(e.properties)for(var u in e.properties)c.properties[u]=e.properties[u]}return c},t._getUrlFromRequestOptions=function(e,t){if("string"==typeof e)e=o.parse(e);else{var n=e;e={},n&&Object.keys(n).forEach((function(t){e[t]=n[t]}))}if(e.path){var r=o.parse(e.path);e.pathname=r.pathname,e.search=r.search}e.host&&e.port&&(!o.parse("http://"+e.host).port&&e.port&&(e.hostname=e.host,delete e.host));return e.protocol=e.protocol||t.agent&&t.agent.protocol||void 0,e.hostname=e.hostname||"localhost",o.format(e)},t}(u);e.exports=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=[];t.subscriber=function(e){e.data.event.commandName,i.forEach((function(t){var n=e.data.startedData&&e.data.startedData.databaseName||"Unknown database";t.trackDependency({target:n,data:e.data.event.commandName,name:e.data.event.commandName,duration:e.data.event.duration,success:e.data.succeeded,resultCode:e.data.succeeded?"0":"1",dependencyTypeName:"mongodb"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mongodb",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mongodb",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=[];t.subscriber=function(e){i.forEach((function(t){var n=e.data.query||{},r=n.sql||"Unknown query",i=!e.data.err,o=(n._connection||{}).config||{},s=o.socketPath?o.socketPath:(o.host||"localhost")+":"+o.port;t.trackDependency({target:s,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"mysql"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("mysql",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("mysql",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=[];t.subscriber=function(e){i.forEach((function(t){"info"!==e.data.commandObj.command&&t.trackDependency({target:e.data.address,name:e.data.commandObj.command,data:e.data.commandObj.command,duration:e.data.duration,success:!e.data.err,resultCode:e.data.err?"1":"0",dependencyTypeName:"redis"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("redis",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("redis",t.subscriber)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=[];t.subscriber=function(e){i.forEach((function(t){var n=e.data.query,r=n.preparable&&n.preparable.text||n.plan||n.text||"unknown query",i=!e.data.error,o=e.data.database.host+":"+e.data.database.port;t.trackDependency({target:o,data:r,name:r,duration:e.data.duration,success:i,resultCode:i?"0":"1",dependencyTypeName:"postgres"})}))},t.enable=function(e,n){e?(0===i.length&&r.channel.subscribe("postgres",t.subscriber),i.push(n)):0===(i=i.filter((function(e){return e!=n}))).length&&r.channel.unsubscribe("postgres",t.subscriber)}},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(16),s=n(4),a=n(5),c=n(17),u=n(48),l=n(12),p=n(124),f=n(49),d=function(e){function t(t,n){var r=e.call(this)||this;return t&&(r.method=t.method,r.url=r._getAbsoluteUrl(t),r.startTime=+new Date,r.socketRemoteAddress=t.socket&&t.socket.remoteAddress,r.parseHeaders(t,n),t.connection&&(r.connectionRemoteAddress=t.connection.remoteAddress,r.legacySocketRemoteAddress=t.connection.socket&&t.connection.socket.remoteAddress)),r}return i(t,e),t.prototype.onError=function(e,t){this._setStatus(void 0,e),t&&(this.duration=t)},t.prototype.onResponse=function(e,t){this._setStatus(e.statusCode,void 0),t&&(this.duration=t)},t.prototype.getRequestTelemetry=function(e){var t={id:this.requestId,name:this.method+" "+o.parse(this.url).pathname,url:this.url,source:this.sourceCorrelationId,duration:this.duration,resultCode:this.statusCode?this.statusCode.toString():null,success:this._isSuccess(),properties:this.properties};if(e){for(var n in e)t[n]||(t[n]=e[n]);if(e.properties)for(var n in e.properties)t.properties[n]=e.properties[n]}return t},t.prototype.getRequestTags=function(e){var n={};for(var r in e)n[r]=e[r];return n[t.keys.locationIp]=e[t.keys.locationIp]||this._getIp(),n[t.keys.sessionId]=e[t.keys.sessionId]||this._getId("ai_session"),n[t.keys.userId]=e[t.keys.userId]||this._getId("ai_user"),n[t.keys.userAuthUserId]=e[t.keys.userAuthUserId]||this._getId("ai_authUser"),n[t.keys.operationName]=this.getOperationName(e),n[t.keys.operationParentId]=this.getOperationParentId(e),n[t.keys.operationId]=this.getOperationId(e),n},t.prototype.getOperationId=function(e){return e[t.keys.operationId]||this.operationId},t.prototype.getOperationParentId=function(e){return e[t.keys.operationParentId]||this.parentId||this.getOperationId(e)},t.prototype.getOperationName=function(e){return e[t.keys.operationName]||this.method+" "+o.parse(this.url).pathname},t.prototype.getRequestId=function(){return this.requestId},t.prototype.getCorrelationContextHeader=function(){return this.correlationContextHeader},t.prototype.getTraceparent=function(){return this.traceparent},t.prototype.getTracestate=function(){return this.tracestate},t.prototype.getLegacyRootId=function(){return this.legacyRootId},t.prototype._getAbsoluteUrl=function(e){if(!e.headers)return e.url;var t=e.connection?e.connection.encrypted:null,n=o.parse(e.url),r=n.pathname,i=n.search;return o.format({protocol:t?"https":"http",host:e.headers.host,pathname:r,search:i})},t.prototype._getIp=function(){var e=/[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}/,t=function(t){var n=e.exec(t);if(n)return n[0]},n=t(this.rawHeaders["x-forwarded-for"])||t(this.rawHeaders["x-client-ip"])||t(this.rawHeaders["x-real-ip"])||t(this.connectionRemoteAddress)||t(this.socketRemoteAddress)||t(this.legacySocketRemoteAddress);return!n&&this.connectionRemoteAddress&&this.connectionRemoteAddress.substr&&"::"===this.connectionRemoteAddress.substr(0,2)&&(n="127.0.0.1"),n},t.prototype._getId=function(e){var n=this.rawHeaders&&this.rawHeaders.cookie&&"string"==typeof this.rawHeaders.cookie&&this.rawHeaders.cookie||"";return t.parseId(a.getCookie(e,n))},t.prototype.setBackCompatFromThisTraceContext=function(){this.operationId=this.traceparent.traceId,this.traceparent.legacyRootId&&(this.legacyRootId=this.traceparent.legacyRootId),this.parentId=this.traceparent.parentId,this.traceparent.updateSpanId(),this.requestId=this.traceparent.getBackCompatRequestId()},t.prototype.parseHeaders=function(e,t){if(this.rawHeaders=e.headers||e.rawHeaders,this.userAgent=e.headers&&e.headers["user-agent"],this.sourceCorrelationId=a.getCorrelationContextTarget(e,c.requestContextSourceKey),e.headers){var n=e.headers[c.traceStateHeader],r=e.headers[c.traceparentHeader],i=e.headers[c.requestIdHeader],o=e.headers[c.parentIdHeader],s=e.headers[c.rootIdHeader];this.correlationContextHeader=e.headers[c.correlationContextHeader],l.w3cEnabled&&(r||n)?(this.traceparent=new f(r),this.tracestate=r&&n&&new p(n),this.setBackCompatFromThisTraceContext()):i?l.w3cEnabled?(this.traceparent=new f(null,i),this.setBackCompatFromThisTraceContext()):(this.parentId=i,this.requestId=l.generateRequestId(this.parentId),this.operationId=l.getRootId(this.requestId)):l.w3cEnabled?(this.traceparent=new f,this.traceparent.parentId=o,this.traceparent.legacyRootId=s||o,this.setBackCompatFromThisTraceContext()):(this.parentId=o,this.requestId=l.generateRequestId(s||this.parentId),this.correlationContextHeader=null,this.operationId=l.getRootId(this.requestId)),t&&(this.requestId=t,this.operationId=l.getRootId(this.requestId))}},t.parseId=function(e){var t=e.split("|");return t.length>0?t[0]:""},t.keys=new s.ContextTagKeys,t}(u);e.exports=d},function(e,t,n){"use strict";var r=function(){function e(e){this.fieldmap=[],e&&(this.fieldmap=this.parseHeader(e))}return e.prototype.toString=function(){var e=this.fieldmap;return e&&0!=e.length?e.join(", "):null},e.validateKeyChars=function(e){var t=e.split("@");if(2==t.length){var n=t[0].trim(),r=t[1].trim(),i=Boolean(n.match(/^[\ ]?[a-z0-9\*\-\_/]{1,241}$/)),o=Boolean(r.match(/^[\ ]?[a-z0-9\*\-\_/]{1,14}$/));return i&&o}return 1==t.length&&Boolean(e.match(/^[\ ]?[a-z0-9\*\-\_/]{1,256}$/))},e.prototype.parseHeader=function(t){var n=[],r={},i=t.split(",");if(i.length>32)return null;for(var o=0,s=i;o<s.length;o++){var a=s[o].trim();if(0!==a.length){var c=a.split("=");if(2!==c.length)return null;if(!e.validateKeyChars(c[0]))return null;if(r[c[0]])return null;r[c[0]]=!0,n.push(a)}}return n},e.strict=!0,e}();e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(33),o=n(127),s=n(128),a=n(15),c=n(34),u=function(){function e(e,t){this._isCollectingData=!1,this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0,this._metrics={},this._documents=[],this._collectors=[],this.config=new i(e),this.context=t||new c,this._sender=new s(this.config),this._isEnabled=!1}return e.prototype.addCollector=function(e){this._collectors.push(e)},e.prototype.trackMetric=function(e){this._addMetric(e)},e.prototype.addDocument=function(e){var t=o.telemetryEnvelopeToQuickPulseDocument(e);t&&this._documents.push(t)},e.prototype.enable=function(e){e&&!this._isEnabled?(this._isEnabled=!0,this._goQuickPulse()):!e&&this._isEnabled&&(this._isEnabled=!1,clearTimeout(this._handle),this._handle=void 0)},e.prototype.enableCollectors=function(e){this._collectors.forEach((function(t){t.enable(e)}))},e.prototype._addMetric=function(e){var t=e.value,n=e.count||1,r=a.PerformanceToQuickPulseCounter[e.name];r&&(this._metrics[r]?(this._metrics[r].Value=(this._metrics[r].Value*this._metrics[r].Weight+t*n)/(this._metrics[r].Weight+n),this._metrics[r].Weight+=n):(this._metrics[r]=o.createQuickPulseMetric(e),this._metrics[r].Name=r,this._metrics[r].Weight=1))},e.prototype._resetQuickPulseBuffer=function(){delete this._metrics,this._metrics={},this._documents.length=0},e.prototype._goQuickPulse=function(){var t=this,n=Object.keys(this._metrics).map((function(e){return t._metrics[e]})),r=o.createQuickPulseEnvelope(n,this._documents.slice(),this.config,this.context);this._resetQuickPulseBuffer(),this._isCollectingData?this._post(r):this._ping(r);var i=this._isCollectingData?e.POST_INTERVAL:e.PING_INTERVAL;this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_POST_WAIT_TIME&&!this._lastSendSucceeded?(this._isCollectingData=!1,i=e.FALLBACK_INTERVAL):!this._isCollectingData&&Date.now()-this._lastSuccessTime>=e.MAX_PING_WAIT_TIME&&!this._lastSendSucceeded&&(i=e.FALLBACK_INTERVAL),this._lastSendSucceeded=null,this._handle=setTimeout(this._goQuickPulse.bind(this),i),this._handle.unref()},e.prototype._ping=function(e){this._sender.ping(e,this._quickPulseDone.bind(this))},e.prototype._post=function(e){this._sender.post(e,this._quickPulseDone.bind(this))},e.prototype._quickPulseDone=function(e,t){null!=e?(this._isCollectingData!==e&&(r.info("Live Metrics sending data",e),this.enableCollectors(e)),this._isCollectingData=e,t&&t.statusCode<300&&t.statusCode>=200?(this._lastSuccessTime=Date.now(),this._lastSendSucceeded=!0):this._lastSendSucceeded=!1):this._lastSendSucceeded=!1},e.MAX_POST_WAIT_TIME=2e4,e.MAX_PING_WAIT_TIME=6e4,e.FALLBACK_INTERVAL=6e4,e.PING_INTERVAL=5e3,e.POST_INTERVAL=1e3,e}();e.exports=u},function(e,t,n){"use strict";var r=n(15),i=function(){function e(){}return e.parse=function(t){if(!t)return{};var n=t.split(e._FIELDS_SEPARATOR).reduce((function(t,n){var r=n.split(e._FIELD_KEY_VALUE_SEPARATOR);if(2===r.length){var i=r[0].toLowerCase(),o=r[1];t[i]=o}return t}),{});if(Object.keys(n).length>0){if(n.endpointsuffix){var i=n.location?n.location+".":"";n.ingestionendpoint=n.ingestionendpoint||"https://"+i+"dc."+n.endpointsuffix,n.liveendpoint=n.liveendpoint||"https://"+i+"live."+n.endpointsuffix}n.ingestionendpoint=n.ingestionendpoint||r.DEFAULT_BREEZE_ENDPOINT,n.liveendpoint=n.liveendpoint||r.DEFAULT_LIVEMETRICS_ENDPOINT}return n},e._FIELDS_SEPARATOR=";",e._FIELD_KEY_VALUE_SEPARATOR="=",e}();e.exports=i},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},i=n(11),o=n(4),s=n(15),a=n(5),c=n(2),u=a.w3cTraceId(),l=function(){function e(){}return e.createQuickPulseEnvelope=function(e,t,n,r){var o=i&&"function"==typeof i.hostname&&i.hostname()||"Unknown",s=r.tags&&r.keys&&r.keys.cloudRoleInstance&&r.tags[r.keys.cloudRoleInstance]||o;return{Documents:t.length>0?t:null,InstrumentationKey:n.instrumentationKey||"",Metrics:e.length>0?e:null,InvariantVersion:1,Timestamp:"/Date("+Date.now()+")/",Version:r.tags[r.keys.internalSdkVersion],StreamId:u,MachineName:o,Instance:s}},e.createQuickPulseMetric=function(e){return{Name:e.name,Value:e.value,Weight:e.count||1}},e.telemetryEnvelopeToQuickPulseDocument=function(t){switch(t.data.baseType){case o.TelemetryTypeString.Event:return e.createQuickPulseEventDocument(t);case o.TelemetryTypeString.Exception:return e.createQuickPulseExceptionDocument(t);case o.TelemetryTypeString.Trace:return e.createQuickPulseTraceDocument(t);case o.TelemetryTypeString.Dependency:return e.createQuickPulseDependencyDocument(t);case o.TelemetryTypeString.Request:return e.createQuickPulseRequestDocument(t)}return null},e.createQuickPulseEventDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.name;return r({},n,{Name:i})},e.createQuickPulseTraceDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.severityLevel||0;return r({},n,{Message:t.data.baseData.message,SeverityLevel:o.SeverityLevel[i]})},e.createQuickPulseExceptionDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData.exceptions,o="",s="",a="";return i&&i.length>0&&(i[0].parsedStack&&i[0].parsedStack.length>0?i[0].parsedStack.forEach((function(e){o+=e.assembly+"\n"})):i[0].stack&&i[0].stack.length>0&&(o=i[0].stack),s=i[0].message,a=i[0].typeName),r({},n,{Exception:o,ExceptionMessage:s,ExceptionType:a})},e.createQuickPulseRequestDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Success:i.success,Duration:i.duration,ResponseCode:i.responseCode,OperationName:i.name})},e.createQuickPulseDependencyDocument=function(t){var n=e.createQuickPulseDocument(t),i=t.data.baseData;return r({},n,{Name:i.name,Target:i.target,Success:i.success,Duration:i.duration,ResultCode:i.resultCode,CommandName:i.data,OperationName:n.OperationId,DependencyTypeName:i.type})},e.createQuickPulseDocument=function(t){var n,r;return t.data.baseType?(r=s.TelemetryTypeStringToQuickPulseType[t.data.baseType],n=s.TelemetryTypeStringToQuickPulseDocumentType[t.data.baseType]):c.warn("Document type invalid; not sending live metric document",t.data.baseType),{DocumentType:n,__type:r,OperationId:t.tags[e.keys.operationId],Version:"1.0",Properties:e.aggregateProperties(t)}},e.aggregateProperties=function(e){var t=[],n=e.data.baseData.measurements||{};for(var r in n)if(n.hasOwnProperty(r)){var i={key:r,value:n[r]};t.push(i)}var o=e.data.baseData.properties||{};for(var r in o)if(o.hasOwnProperty(r)){i={key:r,value:o[r]};t.push(i)}return t},e.keys=new o.ContextTagKeys,e}();e.exports=l},function(e,t,n){"use strict";var r=n(21),i=n(20),o=n(2),s="POST",a="x-ms-qps-transmission-time",c="x-ms-qps-subscribed",u=function(){function e(e){this._config=e,this._consecutiveErrors=0}return e.prototype.ping=function(e,t){this._submitData(e,t,"ping")},e.prototype.post=function(e,t){this._submitData([e],t,"post")},e.prototype._submitData=function(t,n,u){var l,p,f=this,d=JSON.stringify(t),h=((l={})[i.disableCollectionRequestOption]=!0,l.host=this._config.quickPulseHost,l.method=s,l.path="/QuickPulseService.svc/"+u+"?ikey="+this._config.instrumentationKey,l.headers=((p={Expect:"100-continue"})[a]=1e4*Date.now(),p["Content-Type"]="application/json",p["Content-Length"]=Buffer.byteLength(d),p),l),v=r.request(h,(function(e){var t="true"===e.headers[c];f._consecutiveErrors=0,n(t,e)}));v.on("error",(function(t){f._consecutiveErrors++;var r="Transient error connecting to the Live Metrics endpoint. This packet will not appear in your Live Metrics Stream. Error:";f._consecutiveErrors%e.MAX_QPS_FAILURES_BEFORE_WARN==0?(r="Live Metrics endpoint could not be reached "+f._consecutiveErrors+" consecutive times. Most recent error:",o.warn(e.TAG,r,t)):o.info(e.TAG,r,t),n()})),v.write(d),v.end()},e.TAG="QuickPulseSender",e.MAX_QPS_FAILURES_BEFORE_WARN=25,e}();e.exports=u},function(e,t,n){"use strict";var r=this&&this.__assign||Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e};Object.defineProperty(t,"__esModule",{value:!0});var i=n(33),o=n(34),s=n(2),a=function(){function e(t){this._disabledMetrics={},e.INSTANCE&&e.INSTANCE.dispose(),e.INSTANCE=this,this._client=t}return e.isNodeVersionCompatible=function(){var e=process.versions.node.split(".");return parseInt(e[0])>=6},e.prototype.enable=function(t,r,i){var o=this;if(void 0===r&&(r={}),void 0===i&&(i=6e4),e.isNodeVersionCompatible()){if(null==e._metricsAvailable&&t&&!this._isInitialized)try{var a=n(!function(){var e=new Error("Cannot find module 'applicationinsights-native-metrics'");throw e.code="MODULE_NOT_FOUND",e}());e._emitter=new a,e._metricsAvailable=!0,s.info("Native metrics module successfully loaded!")}catch(t){return void(e._metricsAvailable=!1)}this._isEnabled=t,this._disabledMetrics=r,this._isEnabled&&!this._isInitialized&&(this._isInitialized=!0),this._isEnabled&&e._emitter?(e._emitter.enable(!0,i),this._handle=setInterval((function(){return o._trackNativeMetrics()}),i),this._handle.unref()):e._emitter&&(e._emitter.enable(!1),this._handle&&(clearInterval(this._handle),this._handle=void 0))}},e.prototype.dispose=function(){this.enable(!1)},e.parseEnabled=function(e){var t=process.env[i.ENV_nativeMetricsDisableAll],n=process.env[i.ENV_nativeMetricsDisablers];if(t)return{isEnabled:!1,disabledMetrics:{}};if(n){var o=n.split(","),s={};if(o.length>0)for(var a=0,c=o;a<c.length;a++){s[c[a]]=!0}return"object"==typeof e?{isEnabled:!0,disabledMetrics:r({},e,s)}:{isEnabled:e,disabledMetrics:s}}return"boolean"==typeof e?{isEnabled:e,disabledMetrics:{}}:{isEnabled:!0,disabledMetrics:e}},e.prototype._trackNativeMetrics=function(){var e=!0;"object"!=typeof this._isEnabled&&(e=this._isEnabled),e&&(this._trackGarbageCollection(),this._trackEventLoop(),this._trackHeapUsage())},e.prototype._trackGarbageCollection=function(){if(!this._disabledMetrics.gc){var t,n=e._emitter.getGCData();for(var r in n){var i=n[r].metrics,s=r+" Garbage Collection Duration",a=Math.sqrt(i.sumSquares/i.count-Math.pow(i.total/i.count,2))||0;this._client.trackMetric({name:s,value:i.total,count:i.count,max:i.max,min:i.min,stdDev:a,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)})}}},e.prototype._trackEventLoop=function(){if(!this._disabledMetrics.loop){var t=e._emitter.getLoopData().loopUsage;if(0!=t.count){var n,r=Math.sqrt(t.sumSquares/t.count-Math.pow(t.total/t.count,2))||0;this._client.trackMetric({name:"Event Loop CPU Time",value:t.total,count:t.count,min:t.min,max:t.max,stdDev:r,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}}},e.prototype._trackHeapUsage=function(){if(!this._disabledMetrics.heap){var e,t,n,r=process.memoryUsage(),i=r.heapUsed,s=r.heapTotal,a=r.rss;this._client.trackMetric({name:"Memory Usage (Heap)",value:i,count:1,tagOverrides:(e={},e[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,e)}),this._client.trackMetric({name:"Memory Total (Heap)",value:s,count:1,tagOverrides:(t={},t[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,t)}),this._client.trackMetric({name:"Memory Usage (Non-Heap)",value:a-s,count:1,tagOverrides:(n={},n[this._client.context.keys.internalSdkVersion]="node-nativeperf:"+o.sdkVersion,n)})}},e}();t.AutoCollectNativePerformance=a},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=n(131),s=n(50),a=n(20),c=n(2),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i(t,e),t.prototype.trackNodeHttpRequestSync=function(e){e&&e.request&&e.response&&e.duration?s.trackRequestSync(this,e):c.warn("trackNodeHttpRequestSync requires NodeHttpRequestTelemetry object with request, response and duration specified.")},t.prototype.trackNodeHttpRequest=function(e){(e.duration||e.error)&&c.warn("trackNodeHttpRequest will ignore supplied duration and error parameters. These values are collected from the request and response objects."),e&&e.request&&e.response?s.trackRequest(this,e):c.warn("trackNodeHttpRequest requires NodeHttpRequestTelemetry object with request and response specified.")},t.prototype.trackNodeHttpDependency=function(e){e&&e.request?a.trackRequest(this,e):c.warn("trackNodeHttpDependency requires NodeHttpDependencyTelemetry object with request specified.")},t}(o);e.exports=u},function(e,t,n){"use strict";var r=n(16),i=n(33),o=n(34),s=n(4),a=n(132),c=n(133),u=n(14),l=n(136),p=n(5),f=n(2),d=n(137),h=function(){function e(e){this._telemetryProcessors=[];var t=new i(e);this.config=t,this.context=new o,this.commonProperties={};var n=new l(this.config);this.channel=new a((function(){return t.disableAppInsights}),(function(){return t.maxBatchSize}),(function(){return t.maxBatchIntervalMs}),n)}return e.prototype.trackAvailability=function(e){this.track(e,s.TelemetryType.Availability)},e.prototype.trackTrace=function(e){this.track(e,s.TelemetryType.Trace)},e.prototype.trackMetric=function(e){this.track(e,s.TelemetryType.Metric)},e.prototype.trackException=function(e){e&&e.exception&&!p.isError(e.exception)&&(e.exception=new Error(e.exception.toString())),this.track(e,s.TelemetryType.Exception)},e.prototype.trackEvent=function(e){this.track(e,s.TelemetryType.Event)},e.prototype.trackRequest=function(e){this.track(e,s.TelemetryType.Request)},e.prototype.trackDependency=function(e){e&&!e.target&&e.data&&(e.target=r.parse(e.data).host),this.track(e,s.TelemetryType.Dependency)},e.prototype.flush=function(e){this.channel.triggerSend(!!e&&!!e.isAppCrashing,e?e.callback:void 0)},e.prototype.track=function(e,t){if(e&&s.telemetryTypeToBaseType(t)){var n=d.createEnvelope(e,t,this.commonProperties,this.context,this.config);e.time&&(n.time=e.time.toISOString());var r=this.runTelemetryProcessors(n,e.contextObjects);r=r&&c.samplingTelemetryProcessor(n,{correlationContext:u.CorrelationContextManager.getCurrentContext()}),c.performanceMetricsTelemetryProcessor(n,this.quickPulseClient),r&&this.channel.send(n)}else f.warn("track() requires telemetry object and telemetryType to be specified.")},e.prototype.addTelemetryProcessor=function(e){this._telemetryProcessors.push(e)},e.prototype.clearTelemetryProcessors=function(){this._telemetryProcessors=[]},e.prototype.runTelemetryProcessors=function(e,t){var n=!0,r=this._telemetryProcessors.length;if(0===r)return n;(t=t||{}).correlationContext=u.CorrelationContextManager.getCurrentContext();for(var i=0;i<r;++i)try{var o=this._telemetryProcessors[i];if(o&&!1===o.apply(null,[e,t])){n=!1;break}}catch(t){n=!0,f.warn("One of telemetry processors failed, telemetry item will be sent.",t,e)}return n},e}();e.exports=h},function(e,t,n){"use strict";var r=n(2),i=function(){function e(e,t,n,r){this._buffer=[],this._lastSend=0,this._isDisabled=e,this._getBatchSize=t,this._getBatchIntervalMs=n,this._sender=r}return e.prototype.setUseDiskRetryCaching=function(e,t,n){this._sender.setDiskRetryMode(e,t,n)},e.prototype.send=function(e){var t=this;if(!this._isDisabled())if(e){var n=this._stringify(e);"string"==typeof n&&(this._buffer.push(n),this._buffer.length>=this._getBatchSize()?this.triggerSend(!1):!this._timeoutHandle&&this._buffer.length>0&&(this._timeoutHandle=setTimeout((function(){t._timeoutHandle=null,t.triggerSend(!1)}),this._getBatchIntervalMs())))}else r.warn("Cannot send null/undefined telemetry")},e.prototype.triggerSend=function(e,t){var n=this._buffer.length<1;if(!n){var r=this._buffer.join("\n");e?(this._sender.saveOnCrash(r),"function"==typeof t&&t("data saved on crash")):this._sender.send(Buffer.from?Buffer.from(r):new Buffer(r),t)}this._lastSend=+new Date,this._buffer.length=0,clearTimeout(this._timeoutHandle),this._timeoutHandle=null,n&&"function"==typeof t&&t("no data to send")},e.prototype._stringify=function(e){try{return JSON.stringify(e)}catch(t){r.warn("Failed to serialize payload",t,e)}},e}();e.exports=i},function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),r(n(134)),r(n(135))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4);function i(e){var t=5381;if(!e)return 0;for(;e.length<8;)e+=e;for(var n=0;n<e.length;n++)t=((t<<5)+t|0)+e.charCodeAt(n)|0;return(t=t<=-2147483648?2147483647:Math.abs(t))/2147483647*100}t.samplingTelemetryProcessor=function(e,t){var n=e.sampleRate;return null==n||n>=100||(!(!e.data||r.TelemetryType.Metric!==r.baseTypeToTelemetryType(e.data.baseType))||(t.correlationContext&&t.correlationContext.operation?i(t.correlationContext.operation.id)<n:100*Math.random()<n))},t.getSamplingHashCode=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i=n(4);t.performanceMetricsTelemetryProcessor=function(e,t){switch(t&&t.addDocument(e),e.data.baseType){case i.TelemetryTypeString.Exception:r.countException();break;case i.TelemetryTypeString.Request:var n=e.data.baseData;r.countRequest(n.duration,n.success);break;case i.TelemetryTypeString.Dependency:var o=e.data.baseData;r.countDependency(o.duration,o.success)}return!0}},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(3),s=n(43),a=n(19),c=n(2),u=n(20),l=n(5),p=function(){function e(t,n,i){if(this._config=t,this._onSuccess=n,this._onError=i,this._enableDiskRetryMode=!1,this._resendInterval=e.WAIT_BETWEEN_RESEND,this._maxBytesOnDisk=e.MAX_BYTES_ON_DISK,this._numConsecutiveFailures=0,!e.OS_PROVIDES_FILE_PROTECTION)if(e.USE_ICACLS){try{e.OS_PROVIDES_FILE_PROTECTION=r.existsSync(e.ICACLS_PATH)}catch(e){}e.OS_PROVIDES_FILE_PROTECTION||c.warn(e.TAG,"Could not find ICACLS in expected location! This is necessary to use disk retry mode on Windows.")}else e.OS_PROVIDES_FILE_PROTECTION=!0}return e.prototype.setDiskRetryMode=function(t,n,r){this._enableDiskRetryMode=e.OS_PROVIDES_FILE_PROTECTION&&t,"number"==typeof n&&n>=0&&(this._resendInterval=Math.floor(n)),"number"==typeof r&&r>=0&&(this._maxBytesOnDisk=Math.floor(r)),t&&!e.OS_PROVIDES_FILE_PROTECTION&&(this._enableDiskRetryMode=!1,c.warn(e.TAG,"Ignoring request to enable disk retry mode. Sufficient file protection capabilities were not detected."))},e.prototype.send=function(t,n){var r=this,i=this._config.endpointUrl,o={method:"POST",withCredentials:!1,headers:{"Content-Type":"application/x-json-stream"}};s.gzip(t,(function(s,a){var p=a;s?(c.warn(s),p=t,o.headers["Content-Length"]=t.length.toString()):(o.headers["Content-Encoding"]="gzip",o.headers["Content-Length"]=a.length),c.info(e.TAG,o),o[u.disableCollectionRequestOption]=!0;var f=l.makeRequest(r._config,i,o,(function(i){i.setEncoding("utf-8");var o="";i.on("data",(function(e){o+=e})),i.on("end",(function(){r._numConsecutiveFailures=0,c.info(e.TAG,o),"function"==typeof r._onSuccess&&r._onSuccess(o),"function"==typeof n&&n(o),r._enableDiskRetryMode&&(200===i.statusCode?setTimeout((function(){return r._sendFirstFileOnDisk()}),r._resendInterval).unref():408!==i.statusCode&&429!==i.statusCode&&439!==i.statusCode&&500!==i.statusCode&&503!==i.statusCode||r._storeToDisk(t))}))}));f.on("error",(function(i){if(r._numConsecutiveFailures++,!r._enableDiskRetryMode||r._numConsecutiveFailures>0&&r._numConsecutiveFailures%e.MAX_CONNECTION_FAILURES_BEFORE_WARN==0){var o="Ingestion endpoint could not be reached. This batch of telemetry items has been lost. Use Disk Retry Caching to enable resending of failed telemetry. Error:";r._enableDiskRetryMode&&(o="Ingestion endpoint could not be reached "+r._numConsecutiveFailures+" consecutive times. There may be resulting telemetry loss. Most recent error:"),c.warn(e.TAG,o,i)}else{o="Transient failure to reach ingestion endpoint. This batch of telemetry items will be retried. Error:";c.info(e.TAG,o,i)}if(r._onErrorHelper(i),"function"==typeof n){var s="error sending telemetry";i&&"function"==typeof i.toString&&(s=i.toString()),n(s)}r._enableDiskRetryMode&&r._storeToDisk(t)})),f.write(p),f.end()}))},e.prototype.saveOnCrash=function(e){this._enableDiskRetryMode&&this._storeToDiskSync(e)},e.prototype._runICACLS=function(t,n){var r=a.spawn(e.ICACLS_PATH,t,{windowsHide:!0});r.on("error",(function(e){return n(e)})),r.on("close",(function(e,t){return n(0===e?null:new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+e+")"))}))},e.prototype._runICACLSSync=function(t){if(!a.spawnSync)throw new Error("Could not synchronously call ICACLS under current version of Node.js");var n=a.spawnSync(e.ICACLS_PATH,t,{windowsHide:!0});if(n.error)throw n.error;if(0!==n.status)throw new Error("Setting ACL restrictions did not succeed (ICACLS returned code "+n.status+")")},e.prototype._getACLIdentity=function(t){if(e.ACL_IDENTITY)return t(null,e.ACL_IDENTITY);var n=a.spawn(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]}),r="";n.stdout.on("data",(function(e){return r+=e})),n.on("error",(function(e){return t(e,null)})),n.on("close",(function(n,i){return e.ACL_IDENTITY=r&&r.trim(),t(0===n?null:new Error("Getting ACL identity did not succeed (PS returned code "+n+")"),e.ACL_IDENTITY)}))},e.prototype._getACLIdentitySync=function(){if(e.ACL_IDENTITY)return e.ACL_IDENTITY;if(a.spawnSync){var t=a.spawnSync(e.POWERSHELL_PATH,["-Command","[System.Security.Principal.WindowsIdentity]::GetCurrent().Name"],{windowsHide:!0,stdio:["ignore","pipe","pipe"]});if(t.error)throw t.error;if(0!==t.status)throw new Error("Getting ACL identity did not succeed (PS returned code "+t.status+")");return e.ACL_IDENTITY=t.stdout&&t.stdout.toString().trim(),e.ACL_IDENTITY}throw new Error("Could not synchronously get ACL identity under current version of Node.js")},e.prototype._getACLArguments=function(e,t){return[e,"/grant","*S-1-5-32-544:(OI)(CI)F","/grant",t+":(OI)(CI)F","/inheritance:r"]},e.prototype._applyACLRules=function(t,n){var r=this;return e.USE_ICACLS?void 0!==e.ACLED_DIRECTORIES[t]?n(e.ACLED_DIRECTORIES[t]?null:new Error("Setting ACL restrictions did not succeed (cached result)")):(e.ACLED_DIRECTORIES[t]=!1,void this._getACLIdentity((function(i,o){if(i)return e.ACLED_DIRECTORIES[t]=!1,n(i);r._runICACLS(r._getACLArguments(t,o),(function(r){return e.ACLED_DIRECTORIES[t]=!r,n(r)}))}))):n(null)},e.prototype._applyACLRulesSync=function(t){if(e.USE_ICACLS){if(void 0===e.ACLED_DIRECTORIES[t])return this._runICACLSSync(this._getACLArguments(t,this._getACLIdentitySync())),void(e.ACLED_DIRECTORIES[t]=!0);if(!e.ACLED_DIRECTORIES[t])throw new Error("Setting ACL restrictions did not succeed (cached result)")}},e.prototype._confirmDirExists=function(e,t){var n=this;r.lstat(e,(function(i,o){i&&"ENOENT"===i.code?r.mkdir(e,(function(r){r&&"EEXIST"!==r.code?t(r):n._applyACLRules(e,t)})):!i&&o.isDirectory()?n._applyACLRules(e,t):t(i||new Error("Path existed but was not a directory"))}))},e.prototype._getShallowDirectorySize=function(e,t){r.readdir(e,(function(n,i){if(n)return t(n,-1);var s=null,a=0,c=0;if(0!==i.length)for(var u=0;u<i.length;u++)r.stat(o.join(e,i[u]),(function(e,n){c++,e?s=e:n.isFile()&&(a+=n.size),c===i.length&&t(s,s?-1:a)}));else t(null,0)}))},e.prototype._getShallowDirectorySizeSync=function(e){for(var t=r.readdirSync(e),n=0,i=0;i<t.length;i++)n+=r.statSync(o.join(e,t[i])).size;return n},e.prototype._storeToDisk=function(t){var n=this,s=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);c.info(e.TAG,"Checking existance of data storage directory: "+s),this._confirmDirExists(s,(function(i){if(i)return c.warn(e.TAG,"Error while checking/creating directory: "+(i&&i.message)),void n._onErrorHelper(i);n._getShallowDirectorySize(s,(function(i,a){if(i||a<0)return c.warn(e.TAG,"Error while checking directory size: "+(i&&i.message)),void n._onErrorHelper(i);if(a>n._maxBytesOnDisk)c.warn(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+a);else{var u=(new Date).getTime()+".ai.json",l=o.join(s,u);c.info(e.TAG,"saving data to disk at: "+l),r.writeFile(l,t,{mode:384},(function(e){return n._onErrorHelper(e)}))}}))}))},e.prototype._storeToDiskSync=function(t){var n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);try{c.info(e.TAG,"Checking existance of data storage directory: "+n),r.existsSync(n)||r.mkdirSync(n),this._applyACLRulesSync(n);var s=this._getShallowDirectorySizeSync(n);if(s>this._maxBytesOnDisk)return void c.info(e.TAG,"Not saving data due to max size limit being met. Directory size in bytes is: "+s);var a=(new Date).getTime()+".ai.json",u=o.join(n,a);c.info(e.TAG,"saving data before crash to disk at: "+u),r.writeFileSync(u,t,{mode:384})}catch(t){c.warn(e.TAG,"Error while saving data to disk: "+(t&&t.message)),this._onErrorHelper(t)}},e.prototype._sendFirstFileOnDisk=function(){var t=this,n=o.join(i.tmpdir(),e.TEMPDIR_PREFIX+this._config.instrumentationKey);r.exists(n,(function(e){e&&r.readdir(n,(function(e,i){if(e)t._onErrorHelper(e);else if((i=i.filter((function(e){return o.basename(e).indexOf(".ai.json")>-1}))).length>0){var s=i[0],a=o.join(n,s);r.readFile(a,(function(e,n){e?t._onErrorHelper(e):r.unlink(a,(function(e){e?t._onErrorHelper(e):t.send(n)}))}))}}))}))},e.prototype._onErrorHelper=function(e){"function"==typeof this._onError&&this._onError(e)},e.TAG="Sender",e.ICACLS_PATH=process.env.systemdrive+"/windows/system32/icacls.exe",e.POWERSHELL_PATH=process.env.systemdrive+"/windows/system32/windowspowershell/v1.0/powershell.exe",e.ACLED_DIRECTORIES={},e.ACL_IDENTITY=null,e.WAIT_BETWEEN_RESEND=6e4,e.MAX_BYTES_ON_DISK=5e7,e.MAX_CONNECTION_FAILURES_BEFORE_WARN=5,e.TEMPDIR_PREFIX="appInsights-node",e.OS_PROVIDES_FILE_PROTECTION=!1,e.USE_ICACLS="Windows_NT"===i.type(),e}();e.exports=p},function(e,t,n){"use strict";var r=n(4),i=n(5),o=n(14),s=function(){function e(){}return e.createEnvelope=function(t,n,o,s,a){var c=null;switch(n){case r.TelemetryType.Trace:c=e.createTraceData(t);break;case r.TelemetryType.Dependency:c=e.createDependencyData(t);break;case r.TelemetryType.Event:c=e.createEventData(t);break;case r.TelemetryType.Exception:c=e.createExceptionData(t);break;case r.TelemetryType.Request:c=e.createRequestData(t);break;case r.TelemetryType.Metric:c=e.createMetricData(t);break;case r.TelemetryType.Availability:c=e.createAvailabilityData(t)}if(o&&r.domainSupportsProperties(c.baseData)){if(c&&c.baseData)if(c.baseData.properties)for(var u in o)c.baseData.properties[u]||(c.baseData.properties[u]=o[u]);else c.baseData.properties=o;c.baseData.properties=i.validateStringMap(c.baseData.properties)}var l=a&&a.instrumentationKey||"",p=new r.Envelope;return p.data=c,p.iKey=l,p.name="Microsoft.ApplicationInsights."+l.replace(/-/g,"")+"."+c.baseType.substr(0,c.baseType.length-4),p.tags=this.getTags(s,t.tagOverrides),p.time=(new Date).toISOString(),p.ver=1,p.sampleRate=a?a.samplingPercentage:100,n===r.TelemetryType.Metric&&(p.sampleRate=100),p},e.createTraceData=function(e){var t=new r.MessageData;t.message=e.message,t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Information:t.severityLevel=e.severity;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Trace),n.baseData=t,n},e.createDependencyData=function(e){var t=new r.RemoteDependencyData;"string"==typeof e.name&&(t.name=e.name.length>1024?e.name.slice(0,1021)+"...":e.name),t.data=e.data,t.target=e.target,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.type=e.dependencyTypeName,t.properties=e.properties,t.resultCode=e.resultCode?e.resultCode+"":"",e.id?t.id=e.id:t.id=i.w3cTraceId();var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Dependency),n.baseData=t,n},e.createEventData=function(e){var t=new r.EventData;t.name=e.name,t.properties=e.properties,t.measurements=e.measurements;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Event),n.baseData=t,n},e.createExceptionData=function(e){var t=new r.ExceptionData;t.properties=e.properties,isNaN(e.severity)?t.severityLevel=r.SeverityLevel.Error:t.severityLevel=e.severity,t.measurements=e.measurements,t.exceptions=[];var n=e.exception.stack,o=new r.ExceptionDetails;o.message=e.exception.message,o.typeName=e.exception.name,o.parsedStack=this.parseStack(n),o.hasFullStack=i.isArray(o.parsedStack)&&o.parsedStack.length>0,t.exceptions.push(o);var s=new r.Data;return s.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Exception),s.baseData=t,s},e.createRequestData=function(e){var t=new r.RequestData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.url=e.url,t.source=e.source,t.duration=i.msToTimeSpan(e.duration),t.responseCode=e.resultCode?e.resultCode+"":"",t.success=e.success,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Request),n.baseData=t,n},e.createMetricData=function(e){var t=new r.MetricData;t.metrics=[];var n=new r.DataPoint;n.count=isNaN(e.count)?1:e.count,n.kind=r.DataPointType.Aggregation,n.max=isNaN(e.max)?e.value:e.max,n.min=isNaN(e.min)?e.value:e.min,n.name=e.name,n.stdDev=isNaN(e.stdDev)?0:e.stdDev,n.value=e.value,t.metrics.push(n),t.properties=e.properties;var i=new r.Data;return i.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Metric),i.baseData=t,i},e.createAvailabilityData=function(e){var t=new r.AvailabilityData;e.id?t.id=e.id:t.id=i.w3cTraceId(),t.name=e.name,t.duration=i.msToTimeSpan(e.duration),t.success=e.success,t.runLocation=e.runLocation,t.message=e.message,t.measurements=e.measurements,t.properties=e.properties;var n=new r.Data;return n.baseType=r.telemetryTypeToBaseType(r.TelemetryType.Availability),n.baseData=t,n},e.getTags=function(e,t){var n=o.CorrelationContextManager.getCurrentContext(),r={};if(e&&e.tags)for(var i in e.tags)r[i]=e.tags[i];if(t)for(var i in t)r[i]=t[i];return n&&(r[e.keys.operationId]=r[e.keys.operationId]||n.operation.id,r[e.keys.operationName]=r[e.keys.operationName]||n.operation.name,r[e.keys.operationParentId]=r[e.keys.operationParentId]||n.operation.parentId),r},e.parseStack=function(e){var t=void 0;if("string"==typeof e){var n=e.split("\n");t=[];for(var r=0,i=0,o=0;o<=n.length;o++){var s=n[o];if(a.regex.test(s)){var c=new a(n[o],r++);i+=c.sizeInBytes,t.push(c)}}if(i>32768)for(var u=0,l=t.length-1,p=0,f=u,d=l;u<l;){if((p+=t[u].sizeInBytes+t[l].sizeInBytes)>32768){var h=d-f+1;t.splice(f,h);break}f=u,d=l,u++,l--}}return t},e}(),a=function(){function e(t,n){this.sizeInBytes=0,this.level=n,this.method="<no_method>",this.assembly=i.trim(t);var r=t.match(e.regex);r&&r.length>=5&&(this.method=i.trim(r[2])||this.method,this.fileName=i.trim(r[4])||"<no_filename>",this.line=parseInt(r[5])||0),this.sizeInBytes+=this.method.length,this.sizeInBytes+=this.fileName.length,this.sizeInBytes+=this.assembly.length,this.sizeInBytes+=e.baseSize,this.sizeInBytes+=this.level.toString().length,this.sizeInBytes+=this.line.toString().length}return e.regex=/^([\s]+at)?(.*?)(\@|\s\(|\s)([^\(\@\n]+):([0-9]+):([0-9]+)(\)?)$/,e.baseSize=58,e}();e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.ERROR="error",e.INFO="info",e.OPERATION_START="opStart",e.OPERATION_END="opEnd",e.OPERATION_STEP="opStep"}(t.EventName||(t.EventName={})),function(e){e.NO_ERROR=0,e.GENERAL_ERROR=1}(t.ErrorCodes||(t.ErrorCodes={})),function(e){e.USER_ERROR="userError",e.SYSTEM_ERROR="systemError"}(t.ErrorType||(t.ErrorType={})),t.DimensionEntries=["operationId","operationName","errorCode","errorType","message","stack","stepName"],t.MeasurementEntries=["duration"]},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(10),o=n(13),s=n(11),a=n(3),c=n(1),u=n(7),l=n(24),p=n(140),f=n(141),d=n(22),h=n(6),v=n(142),g=n(23),y=n(51),m=n(52),_=n(9),b={win32:"windows",linux:"linux",darwin:"osx"}[process.platform];function E(e){return r(this,void 0,void 0,(function*(){const t=c.workspace.getConfiguration("java.debug");if(!t)return;const n=function(e){switch(e.toLowerCase()){case"verbose":return"FINE";case"warn":return"WARNING";case"error":return"SEVERE";case"info":return"INFO";default:return"FINE"}}(t.logLevel||""),r=yield _.getJavaHome();if(t.settings&&Object.keys(t.settings).length)try{const i={skipClasses:yield f.substituteFilterVariables(t.settings.stepping.skipClasses),skipSynthetics:t.settings.skipSynthetics,skipStaticInitializers:t.settings.skipStaticInitializers,skipConstructors:t.settings.skipConstructors},o={skipClasses:yield f.substituteFilterVariables(t.settings.exceptionBreakpoint.skipClasses)},s=yield d.executeJavaLanguageServerCommand(d.JAVA_UPDATE_DEBUG_SETTINGS,JSON.stringify(Object.assign({},t.settings,{logLevel:n,javaHome:r,stepFilters:i,exceptionFilters:o,exceptionFiltersUpdated:e&&e.affectsConfiguration("java.debug.settings.exceptionBreakpoint.skipClasses"),limitOfVariablesPerJdwpRequest:Math.max(t.settings.jdwp.limitOfVariablesPerJdwpRequest,1),jdwpRequestTimeout:Math.max(t.settings.jdwp.requestTimeout,100)})));"FINE"===n&&console.log("settings:",s)}catch(e){console.log("Cannot update debug settings.",e)}}))}t.JavaDebugConfigurationProvider=class{constructor(){this.isUserSettingsDirty=!0,c.workspace.onDidChangeConfiguration(e=>{if(e.affectsConfiguration("java.debug")){if(c.debug.activeDebugSession)return this.isUserSettingsDirty=!1,E(e);this.isUserSettingsDirty=!0}})}provideDebugConfigurations(e,t){return u.instrumentOperation("provideDebugConfigurations",t=>this.provideDebugConfigurationsAsync(e))()}resolveDebugConfiguration(e,t,n){return this.isEmptyConfig(t)&&(t.type="java",t.name="Java Debug",t.request="launch"),t}resolveDebugConfigurationWithSubstitutedVariables(e,t,n){return u.instrumentOperation("resolveDebugConfiguration",n=>{try{return this.mergePlatformProperties(e,t),this.resolveAndValidateDebugConfiguration(e,t)}catch(e){return void _.showErrorMessage({type:g.Type.EXCEPTION,message:String(e&&e.message||e)})}})()}provideDebugConfigurationsAsync(e,t){return c.window.withProgress({location:c.ProgressLocation.Window},t=>new Promise((n,i)=>r(this,void 0,void 0,(function*(){t.report({message:"Auto generating configuration..."});const r={type:"java",name:"Debug (Launch) - Current File",request:"launch",mainClass:"${file}"};try{if(!(yield _.waitForStandardMode()))return void n([r]);const t=yield h.resolveMainClass(e?e.uri:void 0);let i;i={};const o=t.map(e=>Object.assign({},r,{name:this.constructLaunchConfigName(e.mainClass,e.projectName,i),mainClass:e.mainClass,projectName:e.projectName}));n([r,...o])}catch(e){e instanceof _.JavaExtensionNotEnabledError&&_.guideToInstallJavaExtension(),t.report({message:"failed to generate configuration. "+e}),n(r)}}))))}mergePlatformProperties(e,t){if(t&&b&&t[b])try{for(const e of Object.keys(t[b]))t[e]=t[b][e];t[b]=void 0}catch(e){}}constructLaunchConfigName(e,t,n){let r="Debug (Launch)-"+e.substr(e.lastIndexOf(".")+1);return void 0!==t&&(r+=`<${t}>`),void 0===n[r]?(n[r]=0,r):(n[r]+=1,`${r}(${n[r]})`)}resolveAndValidateDebugConfiguration(e,t){return r(this,void 0,void 0,(function*(){try{if(!(yield _.waitForStandardMode()))return;if(this.isUserSettingsDirty&&(this.isUserSettingsDirty=!1,yield E()),this.isEmptyConfig(t)&&(t.type="java",t.name="Java Debug",t.request="launch"),"launch"===t.request){if(void 0===t.vmArgs){const e=c.workspace.getConfiguration("java.debug.settings");t.vmArgs=e.vmArgs}if(!t.console){const e=c.workspace.getConfiguration("java.debug.settings");t.console=e.console}if("integratedTerminal"!==t.console||t.internalConsoleOptions||(t.internalConsoleOptions="neverOpen"),function(){const e=c.workspace.getConfiguration("java.debug.settings");return!e||e.forceBuildBeforeLaunch}()){if(!(yield p.buildWorkspace()))return}const n=yield this.resolveLaunchConfig(e?e.uri:void 0,t);if(!n||!n.mainClass)return;if(t.mainClass=n.mainClass,t.projectName=n.projectName,o.isEmpty(t.classPaths)&&o.isEmpty(t.modulePaths)){const e=yield h.resolveClasspath(t.mainClass,t.projectName);t.modulePaths=e[0],t.classPaths=e[1]}if(o.isEmpty(t.classPaths)&&o.isEmpty(t.modulePaths))throw new _.UserError({message:"Cannot resolve the modulepaths/classpaths automatically, please specify the value in the launch.json.",type:g.Type.USAGEERROR});t.javaExec=yield h.resolveJavaExecutable(t.mainClass,t.projectName),t.cwd=t.cwd||o.get(e,"uri.fsPath"),Array.isArray(t.args)&&(t.args=this.concatArgs(t.args)),Array.isArray(t.vmArgs)&&(t.vmArgs=this.concatArgs(t.vmArgs)),yield f.populateStepFilters(t),(yield h.detectPreviewFlag(t.mainClass,t.projectName))&&(t.vmArgs=(t.vmArgs||"")+" --enable-preview",v.validateRuntime(t)),yield v.addMoreHelpfulVMArgs(t),t.shortenCommandLine&&"auto"!==t.shortenCommandLine||(t.shortenCommandLine=yield v.detectLaunchCommandStyle(t)),"win32"===process.platform&&"internalConsole"!==t.console&&(t.launcherScript=_.getLauncherScriptPath())}else{if("attach"!==t.request)throw new _.UserError({message:`Request type "${t.request}" is not supported. Only "launch" and "attach" are supported.`,type:g.Type.USAGEERROR,anchor:l.REQUEST_TYPE_NOT_SUPPORTED});if(t.hostName&&t.port)t.processId=void 0;else{if(void 0===t.processId)throw new _.UserError({message:"Please specify the hostName/port directly, or provide the processId of the remote debuggee in the launch.json.",type:g.Type.USAGEERROR,anchor:l.ATTACH_CONFIG_ERROR});{if("${command:PickJavaProcess}"===t.processId)return;const e=Number(t.processId);if(Number.isNaN(e))return void c.window.showErrorMessage(`The processId config '${t.processId}' is not a valid process id.`);const n=yield m.resolveJavaProcess(e);if(!n)return void c.window.showErrorMessage(`Attach to process: pid '${t.processId}' is not a debuggable Java process. Please make sure the process has turned on debug mode using vmArgs like '-agentlib:jdwp=transport=dt_socket,server=y,address=5005.'`);t.processId=void 0,t.hostName=n.hostName,t.port=n.debugPort}}yield f.populateStepFilters(t)}return t}catch(e){return e instanceof _.JavaExtensionNotEnabledError?void _.guideToInstallJavaExtension():e instanceof _.UserError?void _.showErrorMessageWithTroubleshooting(e.context):void _.showErrorMessageWithTroubleshooting(_.convertErrorToMessage(e))}}))}concatArgs(e){return o.join(o.map(e,e=>{const t=String(e);return/["\s]/.test(t)?'"'+t.replace(/(["\\])/g,"\\$1")+'"':t})," ")}isEmptyConfig(e){return 0===Object.keys(e).filter(e=>"noDebug"!==e).length}resolveLaunchConfig(e,t){return r(this,void 0,void 0,(function*(){if(!t.mainClass||this.isFile(t.mainClass)){const n=t.mainClass||o.get(c.window.activeTextEditor,"document.uri.fsPath");if(n){const e=yield h.resolveMainMethod(c.Uri.file(n));if(e.length)return y.mainClassPicker.showQuickPick(e,"Please select a main class you want to run.")}const r=n?`The file '${a.basename(n)}' is not executable, please select a main class you want to run.`:"Please select a main class you want to run.";return this.promptMainClass(e,r)}const n=!o.isEmpty(t.classPaths)||!o.isEmpty(t.modulePaths),r=yield h.validateLaunchConfig(e,t.mainClass,t.projectName,n);return r.mainClass.isValid&&r.projectName.isValid?{mainClass:t.mainClass,projectName:t.projectName}:this.fixMainClass(e,t,r)}))}isFile(e){try{return i.lstatSync(e).isFile()}catch(e){return!1}}fixMainClass(e,t,n){return r(this,void 0,void 0,(function*(){const r=[];if(n.mainClass.isValid||r.push(String(n.mainClass.message)),n.projectName.isValid||r.push(String(n.projectName.message)),!n.proposals||!n.proposals.length)throw new _.UserError({message:r.join(s.EOL),type:g.Type.USAGEERROR,anchor:l.FAILED_TO_RESOLVE_CLASSPATH});if("Fix"===(yield _.showErrorMessageWithTroubleshooting({message:r.join(s.EOL),type:g.Type.USAGEERROR,anchor:l.FAILED_TO_RESOLVE_CLASSPATH},"Fix"))){const i=yield y.mainClassPicker.showQuickPick(n.proposals,"Please select main class<project name>.",!1);return i&&(u.sendInfo(null,{fix:"yes",fixMessage:r.join(s.EOL)}),g.logger.log(g.Type.USAGEDATA,{fix:"yes",fixMessage:r.join(s.EOL)}),yield this.persistMainClassOption(e,t,i)),i}}))}persistMainClassOption(e,t,n){return r(this,void 0,void 0,(function*(){const r=o.cloneDeep(t);return r.mainClass=n.mainClass,r.projectName=n.projectName,this.persistLaunchConfig(e,t,r)}))}persistLaunchConfig(e,t,n){return r(this,void 0,void 0,(function*(){const r=c.workspace.getConfiguration("launch",e),i=r.configurations,s=o.findIndex(i,e=>o.isEqual(e,t));s>=0&&(i[s]=n,yield r.update("configurations",i))}))}promptMainClass(e,t){return r(this,void 0,void 0,(function*(){const n=yield h.resolveMainClass(e);if(0===n.length){const t=e?c.workspace.getWorkspaceFolder(e):void 0;throw new _.UserError({message:`Cannot find a class with the main method${t?" in the folder '"+t.name+"'":""}.`,type:g.Type.USAGEERROR,anchor:l.CANNOT_FIND_MAIN_CLASS})}return y.mainClassPicker.showQuickPickWithRecentlyUsed(n,t||"Select main class<project name>")}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(3),o=n(1),s=n(7),a=n(24),c=n(22),u=n(6),l=n(9);t.buildWorkspace=function(){return r(this,void 0,void 0,(function*(){const e=yield s.instrumentOperation("build",e=>r(this,void 0,void 0,(function*(){let t;try{yield c.executeJavaExtensionCommand(c.JAVA_BUILD_WORKSPACE,!1)}catch(e){t=e}return{error:t,operationId:e}})))();return!e.error||function(e,t){return r(this,void 0,void 0,(function*(){const n=o.workspace.getConfiguration("java.debug.settings").get("onBuildFailureProceed");if(t instanceof l.JavaExtensionNotEnabledError)return l.guideToInstallJavaExtension(),!1;const c=new l.UserError({message:"Build failed"});if(s.setErrorCode(c,Number(t)),s.sendOperationError(e,"build",c),t===u.CompileWorkspaceStatus.WITHERROR||t===u.CompileWorkspaceStatus.FAILED){(function(){const e=o.languages.getDiagnostics()||[];for(const t of e){const e=i.basename(t[0].fsPath||"");if((e.endsWith(".java")||"pom.xml"===e||e.endsWith(".gradle"))&&t[1].filter(e=>e.severity===o.DiagnosticSeverity.Error).length)return!0}return!1})()&&o.commands.executeCommand("workbench.actions.view.problems");const t=n?"Proceed":yield o.window.showErrorMessage("Build failed, do you want to continue?","Proceed","Fix...","Cancel");return s.sendInfo(e,{operationName:"build",choiceForBuildError:t||"esc"}),"Proceed"===t?!0:("Fix..."===t&&function(e){r(this,void 0,void 0,(function*(){let t=[];try{t=yield u.resolveBuildFiles()}catch(e){}const n=[];n.push({label:"Clean workspace cache",detail:"Clean the stale workspace and reload the window"}),t.length&&n.push({label:"Update project configuration",detail:"Force the language server to update the project configuration/classpath"}),n.push({label:"Open log file",detail:"Open log file to view more details for the build errors"}),n.push({label:"Troubleshooting guide",detail:"Find more detail about the troubleshooting steps"});const r=yield o.window.showQuickPick(n,{placeHolder:"Please fix the errors in PROBLEMS first, then try the fix suggestions below."});if(s.sendInfo(e,{operationName:"build",choiceForBuildFix:r?r.label:"esc"}),r)if("Clean workspace cache"===r.label)o.commands.executeCommand("java.clean.workspace");else if("Update project configuration"===r.label)for(const e of t)yield o.commands.executeCommand("java.projectConfiguration.update",o.Uri.parse(e));else"Open log file"===r.label?o.commands.executeCommand("java.open.serverLog"):"Troubleshooting guide"===r.label&&l.openTroubleshootingPage("Build failed",a.BUILD_FAILED)}))}(e),!1)}return!0}))}(e.operationId,e.error)}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(6);function o(e){return r(this,void 0,void 0,(function*(){if(!e)return[];try{if(Array.isArray(e)){return e.some(e=>"$JDK"===e||"$Libraries"===e)?yield i.resolveClassFilters(e):e}console.error("Invalid type for skipClasses config:"+e)}catch(e){console.error(e)}return[]}))}t.populateStepFilters=function(e){return r(this,void 0,void 0,(function*(){if(!e.stepFilters)return;const t=yield o(e.stepFilters.skipClasses);var n,r;Array.isArray(e.stepFilters.classNameFilters)&&(n=e.stepFilters.classNameFilters,r=t,n.forEach(e=>{r.indexOf(e)<0&&r.push(String(e))})),e.stepFilters.classNameFilters=void 0,e.stepFilters.skipClasses=t}))},t.substituteFilterVariables=o},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(19),o=n(13),s=n(3),a=n(24),c=n(6),u=n(9);var l;!function(e){e.none="none",e.jarmanifest="jarmanifest",e.argfile="argfile"}(l||(l={}));function p(e){return new Promise((t,n)=>{i.execFile(e,["-version"],{},(e,n,r)=>{const i=function(e){const t=/version "(.*)"/g.exec(e);if(!t)return 0;return f(t[1])}(r);t(i)})})}function f(e){e.startsWith("1.")&&(e=e.substring(2));const t=/\d+/g.exec(e);let n=0;return t&&(n=parseInt(t[0],10)),n}function d(e){const t=e.env||{};return o.isEmpty(t)?0:Object.keys(t).map(e=>h(e)+h(t[e])+1).reduce((e,t)=>e+t)}function h(e){return e?e.length:0}function v(){return"linux"===process.platform?129024:Number.MAX_SAFE_INTEGER}t.detectLaunchCommandStyle=function(e){return r(this,void 0,void 0,(function*(){const t=e.javaExec||s.join(yield u.getJavaHome(),"bin","java"),n=(yield p(t))<=8?l.jarmanifest:l.argfile;return(yield function(e){return r(this,void 0,void 0,(function*(){const t=yield c.inferLaunchCommandLength(e),n=e.classPaths||[],r=e.modulePaths||[],i=n.join(s.delimiter).length,o=r.join(s.delimiter).length;return e.console&&"internalConsole"!==e.console?n.length>1||r.length>1:t>=function(e){if("win32"===process.platform)return 30720;if("darwin"===process.platform)return 262144-d(e)-2048;if("linux"===process.platform)return 2097152-d(e)-2048;return Number.MAX_SAFE_INTEGER}(e)||i>=v()||o>=v()}))}(e))?n:l.none}))},t.validateRuntime=function(e){return r(this,void 0,void 0,(function*(){try{const t=yield c.fetchPlatformSettings();if(t&&t.latestSupportedJavaVersion){const n=f(t.latestSupportedJavaVersion);n<(yield p(e.javaExec||s.join(yield u.getJavaHome(),"bin","java")))&&u.showWarningMessageWithTroubleshooting({message:'The compiled classes are not compatible with the runtime JDK. To mitigate the issue, please refer to "Learn More".',anchor:a.UNSUPPORTED_CLASS_VERSION_ERROR})}}catch(e){}}))},t.addMoreHelpfulVMArgs=function(e){return r(this,void 0,void 0,(function*(){try{const t=e.javaExec||s.join(yield u.getJavaHome(),"bin","java");if((yield p(t))>=14){if(e.vmArgs&&e.vmArgs.indexOf("-XX:+ShowCodeDetailsInExceptionMessages")>=0)return;e.vmArgs=(e.vmArgs||"")+" -XX:+ShowCodeDetailsInExceptionMessages"}}catch(e){}}))}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(19),o=n(3);class s{constructor(e,t,n,r){this.pid=e,this.ppid=t,this.command=n,this.args=r}}function a(e){function t(e){let t="";return n=>{const r=n.toString().split(/\r?\n/),i=r.slice(0,r.length-1);i[0]=t+i[0],t=r[r.length-1];for(const t of i)e(t)}}return new Promise((n,r)=>{let s;if("win32"===process.platform){const n=/^(.*)\s+([0-9]+)\.[0-9]+[+-][0-9]+\s+([0-9]+)\s+([0-9]+)$/,r=o.join(process.env.WINDIR||"C:\\Windows","System32","wbem","WMIC.exe");s=i.spawn(r,["process","get","CommandLine,CreationDate,ParentProcessId,ProcessId"]),s.stdout.setEncoding("utf8"),s.stdout.on("data",t(t=>{let r=n.exec(t.trim());if(r&&5===r.length){const t=Number(r[4]),n=Number(r[3]),i=Number(r[2]);let o=r[1].trim();if(!isNaN(t)&&!isNaN(n)&&o){let r=o;if('"'===o[0]){const e=o.indexOf('"',1);e>0&&(r=o.substr(1,e-1),o=o.substr(e+2))}else{const e=o.indexOf(" ");e>0?(r=o.substr(0,e),o=o.substr(e+1)):o=""}e(t,n,r,o,i)}}}))}else"darwin"===process.platform?(s=i.spawn("/bin/ps",["-x","-o",`pid,ppid,comm=${"a".repeat(256)},command`]),s.stdout.setEncoding("utf8"),s.stdout.on("data",t(t=>{const n=Number(t.substr(0,5)),r=Number(t.substr(6,5)),i=t.substr(12,256).trim(),o=t.substr(269+i.length);isNaN(n)||isNaN(r)||e(n,r,i,o)}))):(s=i.spawn("/bin/ps",["-ax","-o","pid,ppid,comm:20,command"]),s.stdout.setEncoding("utf8"),s.stdout.on("data",t(t=>{const n=Number(t.substr(0,5)),r=Number(t.substr(6,5));let i=t.substr(12,20).trim(),o=t.substr(33),s=o.indexOf(i);if(s>=0){for(s+=i.length;s<o.length&&" "!==o[s];)s++;i=o.substr(0,s),o=o.substr(s+1)}isNaN(n)||isNaN(r)||e(n,r,i,o)})));s.on("error",e=>{r(e)}),s.stderr.setEncoding("utf8"),s.stderr.on("data",e=>{e.toString().indexOf("screen size is bogus")>=0||r(new Error(e.toString()))}),s.on("close",(e,t)=>{0===e?n():e>0&&r(new Error("process terminated with exit code: "+e)),t&&r(new Error("process terminated with signal: "+t))}),s.on("exit",(e,t)=>{"number"==typeof e&&(0===e||e>0&&r(new Error("process terminated with exit code: "+e))),t&&r(new Error("process terminated with signal: "+t))})})}t.ProcessTreeNode=s,t.getProcessTree=function(e){return r(this,void 0,void 0,(function*(){const t=new Map;t.set(0,new s(0,0,"???",""));try{yield a((e,n,r,i)=>{e!==n&&t.set(e,new s(e,n,r,i))})}catch(e){return}const n=t.values();for(const e of n){const n=t.get(e.ppid);n&&n!==e&&(n.children||(n.children=[]),n.children.push(e))}return!isNaN(e)&&e>0?t.get(e):t.get(0)}))},t.getProcesses=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1);t.NotificationBar=class{constructor(){this.statusBar=r.window.createStatusBarItem(r.StatusBarAlignment.Left,Number.POSITIVE_INFINITY)}show(e,t){this.statusBar.text=e,this.statusBar.show();const n=Date.now();this.lastUpdateTime=n,t&&setTimeout(()=>{this.lastUpdateTime===n&&(this.statusBar.text="",this.statusBar.hide())},t)}clear(){this.statusBar.text="",this.statusBar.hide()}dispose(){this.statusBar.dispose()}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(7),s=n(25),a=n(53),c=n(6),u=/^(public|static|final|synchronized|\s+){4,}void\s+main\s*\(\s*String\s*\[\s*\]\s*\w+\s*\)\s*($|\{)/;t.initializeHoverProvider=function(){return new l};class l{constructor(){this.runHoverCommand=o.instrumentOperationAsVsCodeCommand("java.debug.runHover",(e,t,n)=>r(this,void 0,void 0,(function*(){const r=yield c.resolveElementAtSelection(t,n.line,n.character);r&&r.hasMainMethod?a.startDebugging(r.declaringType,r.projectName,i.Uri.parse(t),e):i.window.showErrorMessage("The hovered element is not a main method.")}))),this.hoverProvider=i.languages.registerHoverProvider(s.JAVA_LANGID,new p)}dispose(){this.runHoverCommand&&this.runHoverCommand.dispose(),this.hoverProvider&&this.hoverProvider.dispose()}}class p{provideHover(e,t,n){const r=e.getWordRangeAtPosition(t,/\w+/);if(!r||"main"!==e.getText(r))return;const o=e.lineAt(t);if(u.test(o.text.trim())&&this.isMainMethod(o.text.trim())){const n=[{title:"Run",command:"java.debug.runHover",tooltip:"Run Java Program",arguments:[!0,e.uri.toString(),{line:t.line,character:t.character}]},{title:"Debug",command:"java.debug.runHover",tooltip:"Debug Java Program",arguments:[!1,e.uri.toString(),{line:t.line,character:t.character}]}],r=new i.MarkdownString(n.map(e=>this.convertCommandToMarkdown(e)).join(" | "));return r.isTrusted=!0,new i.Hover(r)}}isMainMethod(e){const t=e.substring(0,e.indexOf("main")).split(/\s+/);return t.indexOf("public")>=0&&t.indexOf("static")>=0}convertCommandToMarkdown(e){return`[${e.title}](command:${e.command}?${encodeURIComponent(JSON.stringify(e.arguments||[]))} "${e.tooltip||e.command}")`}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(1),i=n(24),o=n(25),s=n(9),a=new Set;t.YES_BUTTON="Yes",t.NO_BUTTON="No";var c;function u(){return r.workspace.getConfiguration("java.debug.settings").get("hotCodeReplace")||"manual"}!function(e){e.ERROR="ERROR",e.WARNING="WARNING",e.STARTING="STARTING",e.END="END",e.BUILD_COMPLETE="BUILD_COMPLETE"}(c||(c={})),t.initializeHotCodeReplace=function(e){r.commands.executeCommand("setContext","javaHotReload",u()),r.workspace.onDidChangeConfiguration(e=>{e.affectsConfiguration("java.debug.settings.hotCodeReplace")&&r.commands.executeCommand("setContext","javaHotReload",u())}),e.subscriptions.push(r.debug.onDidTerminateDebugSession(e=>{(e?e.type:void 0)===o.JAVA_LANGID&&a.clear()}))},t.handleHotCodeReplaceCustomEvent=function(e){if(e.body.changeType===c.BUILD_COMPLETE&&"auto"===u())return r.window.withProgress({location:r.ProgressLocation.Window},t=>(t.report({message:"Applying code changes..."}),e.session.customRequest("redefineClasses")));e.body.changeType!==c.ERROR&&e.body.changeType!==c.WARNING||a.has(e.body.message)||s.showWarningMessageWithTroubleshooting({message:`Hot code replace failed - ${e.body.message}. Would you like to restart the debug session?`,anchor:i.FAILED_TO_COMPLETE_HCR},t.YES_BUTTON,t.NO_BUTTON,"Do not show again").then(n=>{"Do not show again"===n?a.add(e.body.message):n===t.YES_BUTTON&&r.commands.executeCommand("workbench.action.debug.restart")})}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(6),s=n(23),a=n(9);t.JavaDebugAdapterDescriptorFactory=class{createDebugAdapterDescriptor(e,t){return r(this,void 0,void 0,(function*(){let e;try{const e=yield o.startDebugSession();if(e)return new i.DebugAdapterServer(e);console.log("Cannot find a port for debugging session")}catch(t){e=t}const t=e?a.convertErrorToMessage(e):{type:s.Type.EXCEPTION,message:"Failed to start debug server."};a.showErrorMessageWithTroubleshooting(t)}))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(7);t.logJavaException=function(e){const{debugSessionId:t,description:n,message:i,stackTrace:o}=e;r.sendOperationError(t,"debugSession",{name:"JavaException",message:n||i,stack:o})},t.logJavaInfo=function(e,t){t&&void 0!==t.duration?r.sendInfo(e.debugSessionId,e,t):r.sendInfo(e.debugSessionId,e)}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(6);t.JavaTerminalLinkProvder=class{provideTerminalLinks(e,t){if("Java Debug Console"!==e.terminal.name&&"Java Process Console"!==e.terminal.name)return[];const n=new RegExp("(\\sat\\s+)([\\w$\\.]+\\/)?(([\\w$]+\\.)+[<\\w$>]+)\\(([\\w-$]+\\.java:\\d+)\\)").exec(e.line);if(n&&n.length){const e=`${n[2]||""}${n[3]}(${n[5]})`,t=Number(n[5].split(":")[1]);return[{startIndex:n.index+n[1].length,length:e.length,methodName:n[3],stackTrace:e,lineNumber:t}]}}handleTerminalLink(e){return r(this,void 0,void 0,(function*(){const t=yield o.resolveSourceUri(e.stackTrace);if(t){const n=Math.max(e.lineNumber-1,0);i.window.showTextDocument(i.Uri.parse(t),{preserveFocus:!0,selection:new i.Range(new i.Position(n,0),new i.Position(n,0))})}else{const t=e.methodName.substring(0,e.methodName.lastIndexOf(".")),n=t.substring(t.lastIndexOf(".")+1);i.commands.executeCommand("workbench.action.quickOpen","#"+n)}}))}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){e.done?i(e.value):new n((function(t){t(e.value)})).then(s,a)}c((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0});const i=n(1),o=n(7);function s(e,t){return r(this,void 0,void 0,(function*(){const n=i.debug.activeDebugSession;n&&(n.configuration.noDebug||(yield n.customRequest(e,{threadId:t})))}))}t.initializeThreadOperations=function(e){e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.continueAll",e=>r(this,void 0,void 0,(function*(){yield s("continueAll",e)})))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.continueOthers",e=>r(this,void 0,void 0,(function*(){yield s("continueOthers",e)})))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.pauseAll",e=>r(this,void 0,void 0,(function*(){yield s("pauseAll",e)})))),e.subscriptions.push(o.instrumentOperationAsVsCodeCommand("java.debug.pauseOthers",e=>r(this,void 0,void 0,(function*(){yield s("pauseOthers",e)}))))}}]);
//# sourceMappingURL=extension.js.map